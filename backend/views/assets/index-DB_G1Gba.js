(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const me={},cs=[],kt=()=>{},Ui=()=>!1,Tn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Po=e=>e.startsWith("onUpdate:"),qe=Object.assign,Mo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ki=Object.prototype.hasOwnProperty,ve=(e,t)=>Ki.call(e,t),se=Array.isArray,us=e=>Ns(e)==="[object Map]",ms=e=>Ns(e)==="[object Set]",nl=e=>Ns(e)==="[object Date]",ce=e=>typeof e=="function",Ee=e=>typeof e=="string",dt=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",Jl=e=>(xe(e)||ce(e))&&ce(e.then)&&ce(e.catch),Yl=Object.prototype.toString,Ns=e=>Yl.call(e),ji=e=>Ns(e).slice(8,-1),Zl=e=>Ns(e)==="[object Object]",Ro=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xs=xo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Wi=/-(\w)/g,Pt=xn(e=>e.replace(Wi,(t,s)=>s?s.toUpperCase():"")),Qi=/\B([A-Z])/g,Nt=xn(e=>e.replace(Qi,"-$1").toLowerCase()),er=xn(e=>e.charAt(0).toUpperCase()+e.slice(1)),jn=xn(e=>e?`on${er(e)}`:""),Xe=(e,t)=>!Object.is(e,t),ln=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},io=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},mn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ol;const Pn=()=>ol||(ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ye(e){if(se(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=Ee(n)?Yi(n):ye(n);if(o)for(const r in o)t[r]=o[r]}return t}else if(Ee(e)||xe(e))return e}const Gi=/;(?![^(]*\))/g,Xi=/:([^]+)/,Ji=/\/\*[^]*?\*\//g;function Yi(e){const t={};return e.replace(Ji,"").split(Gi).forEach(s=>{if(s){const n=s.split(Xi);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function B(e){let t="";if(Ee(e))t=e;else if(se(e))for(let s=0;s<e.length;s++){const n=B(e[s]);n&&(t+=n+" ")}else if(xe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Zi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ea=xo(Zi);function tr(e){return!!e||e===""}function ta(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=es(e[n],t[n]);return s}function es(e,t){if(e===t)return!0;let s=nl(e),n=nl(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=dt(e),n=dt(t),s||n)return e===t;if(s=se(e),n=se(t),s||n)return s&&n?ta(e,t):!1;if(s=xe(e),n=xe(t),s||n){if(!s||!n)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const i in e){const a=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(a&&!c||!a&&c||!es(e[i],t[i]))return!1}}return String(e)===String(t)}function Lo(e,t){return e.findIndex(s=>es(s,t))}const sr=e=>!!(e&&e.__v_isRef===!0),M=e=>Ee(e)?e:e==null?"":se(e)||xe(e)&&(e.toString===Yl||!ce(e.toString))?sr(e)?M(e.value):JSON.stringify(e,nr,2):String(e),nr=(e,t)=>sr(t)?nr(e,t.value):us(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],r)=>(s[Wn(n,r)+" =>"]=o,s),{})}:ms(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Wn(s))}:dt(t)?Wn(t):xe(t)&&!se(t)&&!Zl(t)?String(t):t,Wn=(e,t="")=>{var s;return dt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let He;class or{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=He;try{return He=this,t()}finally{He=s}}}on(){++this._on===1&&(this.prevScope=He,He=this)}off(){this._on>0&&--this._on===0&&(He=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function lr(e){return new or(e)}function rr(){return He}function sa(e,t=!1){He&&He.cleanups.push(e)}let Ae;const Qn=new WeakSet;class ir{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,He&&He.active&&He.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Qn.has(this)&&(Qn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ll(this),ur(this);const t=Ae,s=ut;Ae=this,ut=!0;try{return this.fn()}finally{dr(this),Ae=t,ut=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Io(t);this.deps=this.depsTail=void 0,ll(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Qn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ao(this)&&this.run()}get dirty(){return ao(this)}}let ar=0,Ps,Ms;function cr(e,t=!1){if(e.flags|=8,t){e.next=Ms,Ms=e;return}e.next=Ps,Ps=e}function Eo(){ar++}function Oo(){if(--ar>0)return;if(Ms){let t=Ms;for(Ms=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ps;){let t=Ps;for(Ps=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ur(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dr(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),Io(n),na(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function ao(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(fr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function fr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vs)||(e.globalVersion=Vs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ao(e))))return;e.flags|=2;const t=e.dep,s=Ae,n=ut;Ae=e,ut=!0;try{ur(e);const o=e.fn(e._value);(t.version===0||Xe(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ae=s,ut=n,dr(e),e.flags&=-3}}function Io(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Io(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function na(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ut=!0;const pr=[];function Mt(){pr.push(ut),ut=!1}function Rt(){const e=pr.pop();ut=e===void 0?!0:e}function ll(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let Vs=0;class oa{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!ut||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new oa(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,hr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=n)}return s}trigger(t){this.version++,Vs++,this.notify(t)}notify(t){Eo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Oo()}}}function hr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)hr(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const vn=new WeakMap,Jt=Symbol(""),co=Symbol(""),Ds=Symbol("");function Fe(e,t,s){if(ut&&Ae){let n=vn.get(e);n||vn.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new Mn),o.map=n,o.key=s),o.track()}}function $t(e,t,s,n,o,r){const i=vn.get(e);if(!i){Vs++;return}const a=c=>{c&&c.trigger()};if(Eo(),t==="clear")i.forEach(a);else{const c=se(e),u=c&&Ro(s);if(c&&s==="length"){const d=Number(n);i.forEach((g,k)=>{(k==="length"||k===Ds||!dt(k)&&k>=d)&&a(g)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),u&&a(i.get(Ds)),t){case"add":c?u&&a(i.get("length")):(a(i.get(Jt)),us(e)&&a(i.get(co)));break;case"delete":c||(a(i.get(Jt)),us(e)&&a(i.get(co)));break;case"set":us(e)&&a(i.get(Jt));break}}Oo()}function la(e,t){const s=vn.get(e);return s&&s.get(t)}function rs(e){const t=pe(e);return t===e?t:(Fe(t,"iterate",Ds),it(e)?t:t.map(Ve))}function Rn(e){return Fe(e=pe(e),"iterate",Ds),e}const ra={__proto__:null,[Symbol.iterator](){return Gn(this,Symbol.iterator,Ve)},concat(...e){return rs(this).concat(...e.map(t=>se(t)?rs(t):t))},entries(){return Gn(this,"entries",e=>(e[1]=Ve(e[1]),e))},every(e,t){return St(this,"every",e,t,void 0,arguments)},filter(e,t){return St(this,"filter",e,t,s=>s.map(Ve),arguments)},find(e,t){return St(this,"find",e,t,Ve,arguments)},findIndex(e,t){return St(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return St(this,"findLast",e,t,Ve,arguments)},findLastIndex(e,t){return St(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return St(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xn(this,"includes",e)},indexOf(...e){return Xn(this,"indexOf",e)},join(e){return rs(this).join(e)},lastIndexOf(...e){return Xn(this,"lastIndexOf",e)},map(e,t){return St(this,"map",e,t,void 0,arguments)},pop(){return Ss(this,"pop")},push(...e){return Ss(this,"push",e)},reduce(e,...t){return rl(this,"reduce",e,t)},reduceRight(e,...t){return rl(this,"reduceRight",e,t)},shift(){return Ss(this,"shift")},some(e,t){return St(this,"some",e,t,void 0,arguments)},splice(...e){return Ss(this,"splice",e)},toReversed(){return rs(this).toReversed()},toSorted(e){return rs(this).toSorted(e)},toSpliced(...e){return rs(this).toSpliced(...e)},unshift(...e){return Ss(this,"unshift",e)},values(){return Gn(this,"values",Ve)}};function Gn(e,t,s){const n=Rn(e),o=n[t]();return n!==e&&!it(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=s(r.value)),r}),o}const ia=Array.prototype;function St(e,t,s,n,o,r){const i=Rn(e),a=i!==e&&!it(e),c=i[t];if(c!==ia[t]){const g=c.apply(e,r);return a?Ve(g):g}let u=s;i!==e&&(a?u=function(g,k){return s.call(this,Ve(g),k,e)}:s.length>2&&(u=function(g,k){return s.call(this,g,k,e)}));const d=c.call(i,u,n);return a&&o?o(d):d}function rl(e,t,s,n){const o=Rn(e);let r=s;return o!==e&&(it(e)?s.length>3&&(r=function(i,a,c){return s.call(this,i,a,c,e)}):r=function(i,a,c){return s.call(this,i,Ve(a),c,e)}),o[t](r,...n)}function Xn(e,t,s){const n=pe(e);Fe(n,"iterate",Ds);const o=n[t](...s);return(o===-1||o===!1)&&zo(s[0])?(s[0]=pe(s[0]),n[t](...s)):o}function Ss(e,t,s=[]){Mt(),Eo();const n=pe(e)[t].apply(e,s);return Oo(),Rt(),n}const aa=xo("__proto__,__v_isRef,__isVue"),mr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dt));function ca(e){dt(e)||(e=String(e));const t=pe(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class vr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(o?r?ba:wr:r?br:yr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=se(t);if(!o){let c;if(i&&(c=ra[s]))return c;if(s==="hasOwnProperty")return ca}const a=Reflect.get(t,s,Te(t)?t:n);return(dt(s)?mr.has(s):aa(s))||(o||Fe(t,"get",s),r)?a:Te(a)?i&&Ro(s)?a:a.value:xe(a)?o?kr(a):qs(a):a}}class gr extends vr{constructor(t=!1){super(!1,t)}set(t,s,n,o){let r=t[s];if(!this._isShallow){const c=Ft(r);if(!it(n)&&!Ft(n)&&(r=pe(r),n=pe(n)),!se(t)&&Te(r)&&!Te(n))return c?!1:(r.value=n,!0)}const i=se(t)&&Ro(s)?Number(s)<t.length:ve(t,s),a=Reflect.set(t,s,n,Te(t)?t:o);return t===pe(o)&&(i?Xe(n,r)&&$t(t,"set",s,n):$t(t,"add",s,n)),a}deleteProperty(t,s){const n=ve(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&$t(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!dt(s)||!mr.has(s))&&Fe(t,"has",s),n}ownKeys(t){return Fe(t,"iterate",se(t)?"length":Jt),Reflect.ownKeys(t)}}class ua extends vr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const da=new gr,fa=new ua,pa=new gr(!0);const uo=e=>e,en=e=>Reflect.getPrototypeOf(e);function ha(e,t,s){return function(...n){const o=this.__v_raw,r=pe(o),i=us(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,u=o[e](...n),d=s?uo:t?gn:Ve;return!t&&Fe(r,"iterate",c?co:Jt),{next(){const{value:g,done:k}=u.next();return k?{value:g,done:k}:{value:a?[d(g[0]),d(g[1])]:d(g),done:k}},[Symbol.iterator](){return this}}}}function tn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ma(e,t){const s={get(o){const r=this.__v_raw,i=pe(r),a=pe(o);e||(Xe(o,a)&&Fe(i,"get",o),Fe(i,"get",a));const{has:c}=en(i),u=t?uo:e?gn:Ve;if(c.call(i,o))return u(r.get(o));if(c.call(i,a))return u(r.get(a));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Fe(pe(o),"iterate",Jt),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,i=pe(r),a=pe(o);return e||(Xe(o,a)&&Fe(i,"has",o),Fe(i,"has",a)),o===a?r.has(o):r.has(o)||r.has(a)},forEach(o,r){const i=this,a=i.__v_raw,c=pe(a),u=t?uo:e?gn:Ve;return!e&&Fe(c,"iterate",Jt),a.forEach((d,g)=>o.call(r,u(d),u(g),i))}};return qe(s,e?{add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear")}:{add(o){!t&&!it(o)&&!Ft(o)&&(o=pe(o));const r=pe(this);return en(r).has.call(r,o)||(r.add(o),$t(r,"add",o,o)),this},set(o,r){!t&&!it(r)&&!Ft(r)&&(r=pe(r));const i=pe(this),{has:a,get:c}=en(i);let u=a.call(i,o);u||(o=pe(o),u=a.call(i,o));const d=c.call(i,o);return i.set(o,r),u?Xe(r,d)&&$t(i,"set",o,r):$t(i,"add",o,r),this},delete(o){const r=pe(this),{has:i,get:a}=en(r);let c=i.call(r,o);c||(o=pe(o),c=i.call(r,o)),a&&a.call(r,o);const u=r.delete(o);return c&&$t(r,"delete",o,void 0),u},clear(){const o=pe(this),r=o.size!==0,i=o.clear();return r&&$t(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=ha(o,e,t)}),s}function Vo(e,t){const s=ma(e,t);return(n,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(ve(s,o)&&o in n?s:n,o,r)}const va={get:Vo(!1,!1)},ga={get:Vo(!1,!0)},ya={get:Vo(!0,!1)};const yr=new WeakMap,br=new WeakMap,wr=new WeakMap,ba=new WeakMap;function wa(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ka(e){return e.__v_skip||!Object.isExtensible(e)?0:wa(ji(e))}function qs(e){return Ft(e)?e:Do(e,!1,da,va,yr)}function _a(e){return Do(e,!1,pa,ga,br)}function kr(e){return Do(e,!0,fa,ya,wr)}function Do(e,t,s,n,o){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=ka(e);if(r===0)return e;const i=o.get(e);if(i)return i;const a=new Proxy(e,r===2?n:s);return o.set(e,a),a}function zt(e){return Ft(e)?zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ft(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function zo(e){return e?!!e.__v_raw:!1}function pe(e){const t=e&&e.__v_raw;return t?pe(t):e}function Ho(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&io(e,"__v_skip",!0),e}const Ve=e=>xe(e)?qs(e):e,gn=e=>xe(e)?kr(e):e;function Te(e){return e?e.__v_isRef===!0:!1}function V(e){return Sa(e,!1)}function Sa(e,t){return Te(e)?e:new Aa(e,t)}class Aa{constructor(t,s){this.dep=new Mn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:pe(t),this._value=s?t:Ve(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||it(t)||Ft(t);t=n?t:pe(t),Xe(t,s)&&(this._rawValue=t,this._value=n?t:Ve(t),this.dep.trigger())}}function y(e){return Te(e)?e.value:e}const $a={get:(e,t,s)=>t==="__v_raw"?e:y(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return Te(o)&&!Te(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function _r(e){return zt(e)?e:new Proxy(e,$a)}class Ca{constructor(t){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Mn,{get:n,set:o}=t(s.track.bind(s),s.trigger.bind(s));this._get=n,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Ta(e){return new Ca(e)}function xa(e){const t=se(e)?new Array(e.length):{};for(const s in e)t[s]=Ma(e,s);return t}class Pa{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return la(pe(this._object),this._key)}}function Ma(e,t,s){const n=e[t];return Te(n)?n:new Pa(e,t,s)}class Ra{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Mn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return cr(this,!0),!0}get value(){const t=this.dep.track();return fr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function La(e,t,s=!1){let n,o;return ce(e)?n=e:(n=e.get,o=e.set),new Ra(n,o,s)}const sn={},yn=new WeakMap;let Gt;function Ea(e,t=!1,s=Gt){if(s){let n=yn.get(s);n||yn.set(s,n=[]),n.push(e)}}function Oa(e,t,s=me){const{immediate:n,deep:o,once:r,scheduler:i,augmentJob:a,call:c}=s,u=x=>o?x:it(x)||o===!1||o===0?Ct(x,1):Ct(x);let d,g,k,h,v=!1,f=!1;if(Te(e)?(g=()=>e.value,v=it(e)):zt(e)?(g=()=>u(e),v=!0):se(e)?(f=!0,v=e.some(x=>zt(x)||it(x)),g=()=>e.map(x=>{if(Te(x))return x.value;if(zt(x))return u(x);if(ce(x))return c?c(x,2):x()})):ce(e)?t?g=c?()=>c(e,2):e:g=()=>{if(k){Mt();try{k()}finally{Rt()}}const x=Gt;Gt=d;try{return c?c(e,3,[h]):e(h)}finally{Gt=x}}:g=kt,t&&o){const x=g,$=o===!0?1/0:o;g=()=>Ct(x(),$)}const m=rr(),w=()=>{d.stop(),m&&m.active&&Mo(m.effects,d)};if(r&&t){const x=t;t=(...$)=>{x(...$),w()}}let _=f?new Array(e.length).fill(sn):sn;const T=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(t){const $=d.run();if(o||v||(f?$.some((S,N)=>Xe(S,_[N])):Xe($,_))){k&&k();const S=Gt;Gt=d;try{const N=[$,_===sn?void 0:f&&_[0]===sn?[]:_,h];_=$,c?c(t,3,N):t(...N)}finally{Gt=S}}}else d.run()};return a&&a(T),d=new ir(g),d.scheduler=i?()=>i(T,!1):T,h=x=>Ea(x,!1,d),k=d.onStop=()=>{const x=yn.get(d);if(x){if(c)c(x,4);else for(const $ of x)$();yn.delete(d)}},t?n?T(!0):_=d.run():i?i(T.bind(null,!0),!0):d.run(),w.pause=d.pause.bind(d),w.resume=d.resume.bind(d),w.stop=w,w}function Ct(e,t=1/0,s){if(t<=0||!xe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Te(e))Ct(e.value,t,s);else if(se(e))for(let n=0;n<e.length;n++)Ct(e[n],t,s);else if(ms(e)||us(e))e.forEach(n=>{Ct(n,t,s)});else if(Zl(e)){for(const n in e)Ct(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ct(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Us(e,t,s,n){try{return n?e(...n):e()}catch(o){Ln(o,t,s)}}function _t(e,t,s,n){if(ce(e)){const o=Us(e,t,s,n);return o&&Jl(o)&&o.catch(r=>{Ln(r,t,s)}),o}if(se(e)){const o=[];for(let r=0;r<e.length;r++)o.push(_t(e[r],t,s,n));return o}}function Ln(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||me;if(t){let a=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,c,u)===!1)return}a=a.parent}if(r){Mt(),Us(r,null,10,[e,c,u]),Rt();return}}Ia(e,s,o,n,i)}function Ia(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const Ke=[];let yt=-1;const ds=[];let It=null,as=0;const Sr=Promise.resolve();let bn=null;function Ze(e){const t=bn||Sr;return e?t.then(this?e.bind(this):e):t}function Va(e){let t=yt+1,s=Ke.length;for(;t<s;){const n=t+s>>>1,o=Ke[n],r=zs(o);r<e||r===e&&o.flags&2?t=n+1:s=n}return t}function Fo(e){if(!(e.flags&1)){const t=zs(e),s=Ke[Ke.length-1];!s||!(e.flags&2)&&t>=zs(s)?Ke.push(e):Ke.splice(Va(t),0,e),e.flags|=1,Ar()}}function Ar(){bn||(bn=Sr.then(Cr))}function Da(e){se(e)?ds.push(...e):It&&e.id===-1?It.splice(as+1,0,e):e.flags&1||(ds.push(e),e.flags|=1),Ar()}function il(e,t,s=yt+1){for(;s<Ke.length;s++){const n=Ke[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ke.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function $r(e){if(ds.length){const t=[...new Set(ds)].sort((s,n)=>zs(s)-zs(n));if(ds.length=0,It){It.push(...t);return}for(It=t,as=0;as<It.length;as++){const s=It[as];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}It=null,as=0}}const zs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Cr(e){try{for(yt=0;yt<Ke.length;yt++){const t=Ke[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Us(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<Ke.length;yt++){const t=Ke[yt];t&&(t.flags&=-2)}yt=-1,Ke.length=0,$r(),bn=null,(Ke.length||ds.length)&&Cr()}}let Ne=null,Tr=null;function wn(e){const t=Ne;return Ne=e,Tr=e&&e.type.__scopeId||null,t}function za(e,t=Ne,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&ml(-1);const r=wn(t);let i;try{i=e(...o)}finally{wn(r),n._d&&ml(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function be(e,t){if(Ne===null)return e;const s=Vn(Ne),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,a,c=me]=t[o];r&&(ce(r)&&(r={mounted:r,updated:r}),r.deep&&Ct(i),n.push({dir:r,instance:s,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function Wt(e,t,s,n){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let c=a.dir[n];c&&(Mt(),_t(c,s,8,[e.el,a,e,t]),Rt())}}const Ha=Symbol("_vte"),Fa=e=>e.__isTeleport;function Bo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rs(e,t,s,n,o=!1){if(se(e)){e.forEach((v,f)=>Rs(v,t&&(se(t)?t[f]:t),s,n,o));return}if(fs(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Rs(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?Vn(n.component):n.el,i=o?null:r,{i:a,r:c}=e,u=t&&t.r,d=a.refs===me?a.refs={}:a.refs,g=a.setupState,k=pe(g),h=g===me?()=>!1:v=>ve(k,v);if(u!=null&&u!==c&&(Ee(u)?(d[u]=null,h(u)&&(g[u]=null)):Te(u)&&(u.value=null)),ce(c))Us(c,a,12,[i,d]);else{const v=Ee(c),f=Te(c);if(v||f){const m=()=>{if(e.f){const w=v?h(c)?g[c]:d[c]:c.value;o?se(w)&&Mo(w,r):se(w)?w.includes(r)||w.push(r):v?(d[c]=[r],h(c)&&(g[c]=d[c])):(c.value=[r],e.k&&(d[e.k]=c.value))}else v?(d[c]=i,h(c)&&(g[c]=i)):f&&(c.value=i,e.k&&(d[e.k]=i))};i?(m.id=-1,st(m,s)):m()}}}Pn().requestIdleCallback;Pn().cancelIdleCallback;const fs=e=>!!e.type.__asyncLoader,Pr=e=>e.type.__isKeepAlive;function Ba(e,t){Mr(e,"a",t)}function Na(e,t){Mr(e,"da",t)}function Mr(e,t,s=je){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(En(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Pr(o.parent.vnode)&&qa(n,t,s,o),o=o.parent}}function qa(e,t,s,n){const o=En(t,e,n,!0);qt(()=>{Mo(n[t],o)},s)}function En(e,t,s=je,n=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Mt();const a=Ks(s),c=_t(t,s,e,i);return a(),Rt(),c});return n?o.unshift(r):o.push(r),r}}const Et=e=>(t,s=je)=>{(!Fs||e==="sp")&&En(e,(...n)=>t(...n),s)},Ua=Et("bm"),Re=Et("m"),Ka=Et("bu"),ja=Et("u"),Wa=Et("bum"),qt=Et("um"),Qa=Et("sp"),Ga=Et("rtg"),Xa=Et("rtc");function Ja(e,t=je){En("ec",e,t)}const Ya=Symbol.for("v-ndc");function te(e,t,s,n){let o;const r=s,i=se(e);if(i||Ee(e)){const a=i&&zt(e);let c=!1,u=!1;a&&(c=!it(e),u=Ft(e),e=Rn(e)),o=new Array(e.length);for(let d=0,g=e.length;d<g;d++)o[d]=t(c?u?gn(Ve(e[d])):Ve(e[d]):e[d],d,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,r)}else if(xe(e))if(e[Symbol.iterator])o=Array.from(e,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(e);o=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const d=a[c];o[c]=t(e[d],d,c,r)}}else o=[];return o}function fo(e,t,s={},n,o){if(Ne.ce||Ne.parent&&fs(Ne.parent)&&Ne.parent.ce)return t!=="default"&&(s.name=t),p(),Y(W,null,[j("slot",s,n&&n())],64);let r=e[t];r&&r._c&&(r._d=!1),p();const i=r&&Rr(r(s)),a=s.key||i&&i.key,c=Y(W,{key:(a&&!dt(a)?a:`_${t}`)+(!i&&n?"_fb":"")},i||(n?n():[]),i&&e._===1?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function Rr(e){return e.some(t=>jo(t)?!(t.type===Lt||t.type===W&&!Rr(t.children)):!0)?e:null}const po=e=>e?Jr(e)?Vn(e):po(e.parent):null,Ls=qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>po(e.parent),$root:e=>po(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Er(e),$forceUpdate:e=>e.f||(e.f=()=>{Fo(e.update)}),$nextTick:e=>e.n||(e.n=Ze.bind(e.proxy)),$watch:e=>Sc.bind(e)}),Jn=(e,t)=>e!==me&&!e.__isScriptSetup&&ve(e,t),Za={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:r,accessCache:i,type:a,appContext:c}=e;let u;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(Jn(n,t))return i[t]=1,n[t];if(o!==me&&ve(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&ve(u,t))return i[t]=3,r[t];if(s!==me&&ve(s,t))return i[t]=4,s[t];ho&&(i[t]=0)}}const d=Ls[t];let g,k;if(d)return t==="$attrs"&&Fe(e.attrs,"get",""),d(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(s!==me&&ve(s,t))return i[t]=4,s[t];if(k=c.config.globalProperties,ve(k,t))return k[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:r}=e;return Jn(o,t)?(o[t]=s,!0):n!==me&&ve(n,t)?(n[t]=s,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:r}},i){let a;return!!s[i]||e!==me&&ve(e,i)||Jn(t,i)||(a=r[0])&&ve(a,i)||ve(n,i)||ve(Ls,i)||ve(o.config.globalProperties,i)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function kn(e){return se(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}function ec(e,t){return!e||!t?e||t:se(e)&&se(t)?e.concat(t):qe({},kn(e),kn(t))}let ho=!0;function tc(e){const t=Er(e),s=e.proxy,n=e.ctx;ho=!1,t.beforeCreate&&al(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:a,provide:c,inject:u,created:d,beforeMount:g,mounted:k,beforeUpdate:h,updated:v,activated:f,deactivated:m,beforeDestroy:w,beforeUnmount:_,destroyed:T,unmounted:x,render:$,renderTracked:S,renderTriggered:N,errorCaptured:q,serverPrefetch:oe,expose:Ce,inheritAttrs:ze,components:We,directives:ot,filters:ue}=t;if(u&&sc(u,n,null),i)for(const O in i){const I=i[O];ce(I)&&(n[O]=I.bind(s))}if(o){const O=o.call(s,s);xe(O)&&(e.data=qs(O))}if(ho=!0,r)for(const O in r){const I=r[O],Ie=ce(I)?I.bind(s,s):ce(I.get)?I.get.bind(s,s):kt,lt=!ce(I)&&ce(I.set)?I.set.bind(s):kt,X=R({get:Ie,set:lt});Object.defineProperty(n,O,{enumerable:!0,configurable:!0,get:()=>X.value,set:we=>X.value=we})}if(a)for(const O in a)Lr(a[O],n,s,O);if(c){const O=ce(c)?c.call(s):c;Reflect.ownKeys(O).forEach(I=>{ac(I,O[I])})}d&&al(d,e,"c");function J(O,I){se(I)?I.forEach(Ie=>O(Ie.bind(s))):I&&O(I.bind(s))}if(J(Ua,g),J(Re,k),J(Ka,h),J(ja,v),J(Ba,f),J(Na,m),J(Ja,q),J(Xa,S),J(Ga,N),J(Wa,_),J(qt,x),J(Qa,oe),se(Ce))if(Ce.length){const O=e.exposed||(e.exposed={});Ce.forEach(I=>{Object.defineProperty(O,I,{get:()=>s[I],set:Ie=>s[I]=Ie,enumerable:!0})})}else e.exposed||(e.exposed={});$&&e.render===kt&&(e.render=$),ze!=null&&(e.inheritAttrs=ze),We&&(e.components=We),ot&&(e.directives=ot),oe&&xr(e)}function sc(e,t,s=kt){se(e)&&(e=mo(e));for(const n in e){const o=e[n];let r;xe(o)?"default"in o?r=Es(o.from||n,o.default,!0):r=Es(o.from||n):r=Es(o),Te(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[n]=r}}function al(e,t,s){_t(se(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Lr(e,t,s,n){let o=n.includes(".")?Kr(s,n):()=>s[n];if(Ee(e)){const r=t[e];ce(r)&&rn(o,r)}else if(ce(e))rn(o,e.bind(s));else if(xe(e))if(se(e))e.forEach(r=>Lr(r,t,s,n));else{const r=ce(e.handler)?e.handler.bind(s):t[e.handler];ce(r)&&rn(o,r,e)}}function Er(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!o.length&&!s&&!n?c=t:(c={},o.length&&o.forEach(u=>_n(c,u,i,!0)),_n(c,t,i)),xe(t)&&r.set(t,c),c}function _n(e,t,s,n=!1){const{mixins:o,extends:r}=t;r&&_n(e,r,s,!0),o&&o.forEach(i=>_n(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const a=nc[i]||s&&s[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const nc={data:cl,props:ul,emits:ul,methods:Ts,computed:Ts,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Ts,directives:Ts,watch:lc,provide:cl,inject:oc};function cl(e,t){return t?e?function(){return qe(ce(e)?e.call(this,this):e,ce(t)?t.call(this,this):t)}:t:e}function oc(e,t){return Ts(mo(e),mo(t))}function mo(e){if(se(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Ts(e,t){return e?qe(Object.create(null),e,t):t}function ul(e,t){return e?se(e)&&se(t)?[...new Set([...e,...t])]:qe(Object.create(null),kn(e),kn(t??{})):t}function lc(e,t){if(!e)return t;if(!t)return e;const s=qe(Object.create(null),e);for(const n in t)s[n]=Ue(e[n],t[n]);return s}function Or(){return{app:null,config:{isNativeTag:Ui,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rc=0;function ic(e,t){return function(n,o=null){ce(n)||(n=qe({},n)),o!=null&&!xe(o)&&(o=null);const r=Or(),i=new WeakSet,a=[];let c=!1;const u=r.app={_uid:rc++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:Nc,get config(){return r.config},set config(d){},use(d,...g){return i.has(d)||(d&&ce(d.install)?(i.add(d),d.install(u,...g)):ce(d)&&(i.add(d),d(u,...g))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,g){return g?(r.components[d]=g,u):r.components[d]},directive(d,g){return g?(r.directives[d]=g,u):r.directives[d]},mount(d,g,k){if(!c){const h=u._ceVNode||j(n,o);return h.appContext=r,k===!0?k="svg":k===!1&&(k=void 0),e(h,d,k),c=!0,u._container=d,d.__vue_app__=u,Vn(h.component)}},onUnmount(d){a.push(d)},unmount(){c&&(_t(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,g){return r.provides[d]=g,u},runWithContext(d){const g=Yt;Yt=u;try{return d()}finally{Yt=g}}};return u}}let Yt=null;function ac(e,t){if(je){let s=je.provides;const n=je.parent&&je.parent.provides;n===s&&(s=je.provides=Object.create(n)),s[e]=t}}function Es(e,t,s=!1){const n=Qo();if(n||Yt){let o=Yt?Yt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&ce(t)?t.call(n&&n.proxy):t}}function cc(){return!!(Qo()||Yt)}const Ir={},Vr=()=>Object.create(Ir),Dr=e=>Object.getPrototypeOf(e)===Ir;function uc(e,t,s,n=!1){const o={},r=Vr();e.propsDefaults=Object.create(null),zr(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=n?o:_a(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function dc(e,t,s,n){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,a=pe(o),[c]=e.propsOptions;let u=!1;if((n||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let k=d[g];if(On(e.emitsOptions,k))continue;const h=t[k];if(c)if(ve(r,k))h!==r[k]&&(r[k]=h,u=!0);else{const v=Pt(k);o[v]=vo(c,a,v,h,e,!1)}else h!==r[k]&&(r[k]=h,u=!0)}}}else{zr(e,t,o,r)&&(u=!0);let d;for(const g in a)(!t||!ve(t,g)&&((d=Nt(g))===g||!ve(t,d)))&&(c?s&&(s[g]!==void 0||s[d]!==void 0)&&(o[g]=vo(c,a,g,void 0,e,!0)):delete o[g]);if(r!==a)for(const g in r)(!t||!ve(t,g))&&(delete r[g],u=!0)}u&&$t(e.attrs,"set","")}function zr(e,t,s,n){const[o,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(xs(c))continue;const u=t[c];let d;o&&ve(o,d=Pt(c))?!r||!r.includes(d)?s[d]=u:(a||(a={}))[d]=u:On(e.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,i=!0)}if(r){const c=pe(s),u=a||me;for(let d=0;d<r.length;d++){const g=r[d];s[g]=vo(o,c,g,u[g],e,!ve(u,g))}}return i}function vo(e,t,s,n,o,r){const i=e[s];if(i!=null){const a=ve(i,"default");if(a&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&ce(c)){const{propsDefaults:u}=o;if(s in u)n=u[s];else{const d=Ks(o);n=u[s]=c.call(null,t),d()}}else n=c;o.ce&&o.ce._setProp(s,n)}i[0]&&(r&&!a?n=!1:i[1]&&(n===""||n===Nt(s))&&(n=!0))}return n}const fc=new WeakMap;function Hr(e,t,s=!1){const n=s?fc:t.propsCache,o=n.get(e);if(o)return o;const r=e.props,i={},a=[];let c=!1;if(!ce(e)){const d=g=>{c=!0;const[k,h]=Hr(g,t,!0);qe(i,k),h&&a.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return xe(e)&&n.set(e,cs),cs;if(se(r))for(let d=0;d<r.length;d++){const g=Pt(r[d]);dl(g)&&(i[g]=me)}else if(r)for(const d in r){const g=Pt(d);if(dl(g)){const k=r[d],h=i[g]=se(k)||ce(k)?{type:k}:qe({},k),v=h.type;let f=!1,m=!0;if(se(v))for(let w=0;w<v.length;++w){const _=v[w],T=ce(_)&&_.name;if(T==="Boolean"){f=!0;break}else T==="String"&&(m=!1)}else f=ce(v)&&v.name==="Boolean";h[0]=f,h[1]=m,(f||ve(h,"default"))&&a.push(g)}}const u=[i,a];return xe(e)&&n.set(e,u),u}function dl(e){return e[0]!=="$"&&!xs(e)}const No=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",qo=e=>se(e)?e.map(bt):[bt(e)],pc=(e,t,s)=>{if(t._n)return t;const n=za((...o)=>qo(t(...o)),s);return n._c=!1,n},Fr=(e,t,s)=>{const n=e._ctx;for(const o in e){if(No(o))continue;const r=e[o];if(ce(r))t[o]=pc(o,r,n);else if(r!=null){const i=qo(r);t[o]=()=>i}}},Br=(e,t)=>{const s=qo(t);e.slots.default=()=>s},Nr=(e,t,s)=>{for(const n in t)(s||!No(n))&&(e[n]=t[n])},hc=(e,t,s)=>{const n=e.slots=Vr();if(e.vnode.shapeFlag&32){const o=t.__;o&&io(n,"__",o,!0);const r=t._;r?(Nr(n,t,s),s&&io(n,"_",r,!0)):Fr(t,n)}else t&&Br(e,t)},mc=(e,t,s)=>{const{vnode:n,slots:o}=e;let r=!0,i=me;if(n.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:Nr(o,t,s):(r=!t.$stable,Fr(t,o)),i=t}else t&&(Br(e,t),i={default:1});if(r)for(const a in o)!No(a)&&i[a]==null&&delete o[a]},st=Pc;function vc(e){return gc(e)}function gc(e,t){const s=Pn();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:i,createText:a,createComment:c,setText:u,setElementText:d,parentNode:g,nextSibling:k,setScopeId:h=kt,insertStaticContent:v}=e,f=(A,C,L,H=null,D=null,z=null,Q=void 0,K=null,U=!!C.dynamicChildren)=>{if(A===C)return;A&&!As(A,C)&&(H=Zs(A),we(A,D,z,!0),A=null),C.patchFlag===-2&&(U=!1,C.dynamicChildren=null);const{type:F,ref:ee,shapeFlag:G}=C;switch(F){case In:m(A,C,L,H);break;case Lt:w(A,C,L,H);break;case an:A==null&&_(C,L,H,Q);break;case W:We(A,C,L,H,D,z,Q,K,U);break;default:G&1?$(A,C,L,H,D,z,Q,K,U):G&6?ot(A,C,L,H,D,z,Q,K,U):(G&64||G&128)&&F.process(A,C,L,H,D,z,Q,K,U,ks)}ee!=null&&D?Rs(ee,A&&A.ref,z,C||A,!C):ee==null&&A&&A.ref!=null&&Rs(A.ref,null,z,A,!0)},m=(A,C,L,H)=>{if(A==null)n(C.el=a(C.children),L,H);else{const D=C.el=A.el;C.children!==A.children&&u(D,C.children)}},w=(A,C,L,H)=>{A==null?n(C.el=c(C.children||""),L,H):C.el=A.el},_=(A,C,L,H)=>{[A.el,A.anchor]=v(A.children,C,L,H,A.el,A.anchor)},T=({el:A,anchor:C},L,H)=>{let D;for(;A&&A!==C;)D=k(A),n(A,L,H),A=D;n(C,L,H)},x=({el:A,anchor:C})=>{let L;for(;A&&A!==C;)L=k(A),o(A),A=L;o(C)},$=(A,C,L,H,D,z,Q,K,U)=>{C.type==="svg"?Q="svg":C.type==="math"&&(Q="mathml"),A==null?S(C,L,H,D,z,Q,K,U):oe(A,C,D,z,Q,K,U)},S=(A,C,L,H,D,z,Q,K)=>{let U,F;const{props:ee,shapeFlag:G,transition:Z,dirs:le}=A;if(U=A.el=i(A.type,z,ee&&ee.is,ee),G&8?d(U,A.children):G&16&&q(A.children,U,null,H,D,Yn(A,z),Q,K),le&&Wt(A,null,H,"created"),N(U,A,A.scopeId,Q,H),ee){for(const Se in ee)Se!=="value"&&!xs(Se)&&r(U,Se,null,ee[Se],z,H);"value"in ee&&r(U,"value",null,ee.value,z),(F=ee.onVnodeBeforeMount)&&vt(F,H,A)}le&&Wt(A,null,H,"beforeMount");const de=yc(D,Z);de&&Z.beforeEnter(U),n(U,C,L),((F=ee&&ee.onVnodeMounted)||de||le)&&st(()=>{F&&vt(F,H,A),de&&Z.enter(U),le&&Wt(A,null,H,"mounted")},D)},N=(A,C,L,H,D)=>{if(L&&h(A,L),H)for(let z=0;z<H.length;z++)h(A,H[z]);if(D){let z=D.subTree;if(C===z||Qr(z.type)&&(z.ssContent===C||z.ssFallback===C)){const Q=D.vnode;N(A,Q,Q.scopeId,Q.slotScopeIds,D.parent)}}},q=(A,C,L,H,D,z,Q,K,U=0)=>{for(let F=U;F<A.length;F++){const ee=A[F]=K?Vt(A[F]):bt(A[F]);f(null,ee,C,L,H,D,z,Q,K)}},oe=(A,C,L,H,D,z,Q)=>{const K=C.el=A.el;let{patchFlag:U,dynamicChildren:F,dirs:ee}=C;U|=A.patchFlag&16;const G=A.props||me,Z=C.props||me;let le;if(L&&Qt(L,!1),(le=Z.onVnodeBeforeUpdate)&&vt(le,L,C,A),ee&&Wt(C,A,L,"beforeUpdate"),L&&Qt(L,!0),(G.innerHTML&&Z.innerHTML==null||G.textContent&&Z.textContent==null)&&d(K,""),F?Ce(A.dynamicChildren,F,K,L,H,Yn(C,D),z):Q||I(A,C,K,null,L,H,Yn(C,D),z,!1),U>0){if(U&16)ze(K,G,Z,L,D);else if(U&2&&G.class!==Z.class&&r(K,"class",null,Z.class,D),U&4&&r(K,"style",G.style,Z.style,D),U&8){const de=C.dynamicProps;for(let Se=0;Se<de.length;Se++){const ke=de[Se],Qe=G[ke],Ge=Z[ke];(Ge!==Qe||ke==="value")&&r(K,ke,Qe,Ge,D,L)}}U&1&&A.children!==C.children&&d(K,C.children)}else!Q&&F==null&&ze(K,G,Z,L,D);((le=Z.onVnodeUpdated)||ee)&&st(()=>{le&&vt(le,L,C,A),ee&&Wt(C,A,L,"updated")},H)},Ce=(A,C,L,H,D,z,Q)=>{for(let K=0;K<C.length;K++){const U=A[K],F=C[K],ee=U.el&&(U.type===W||!As(U,F)||U.shapeFlag&198)?g(U.el):L;f(U,F,ee,null,H,D,z,Q,!0)}},ze=(A,C,L,H,D)=>{if(C!==L){if(C!==me)for(const z in C)!xs(z)&&!(z in L)&&r(A,z,C[z],null,D,H);for(const z in L){if(xs(z))continue;const Q=L[z],K=C[z];Q!==K&&z!=="value"&&r(A,z,K,Q,D,H)}"value"in L&&r(A,"value",C.value,L.value,D)}},We=(A,C,L,H,D,z,Q,K,U)=>{const F=C.el=A?A.el:a(""),ee=C.anchor=A?A.anchor:a("");let{patchFlag:G,dynamicChildren:Z,slotScopeIds:le}=C;le&&(K=K?K.concat(le):le),A==null?(n(F,L,H),n(ee,L,H),q(C.children||[],L,ee,D,z,Q,K,U)):G>0&&G&64&&Z&&A.dynamicChildren?(Ce(A.dynamicChildren,Z,L,D,z,Q,K),(C.key!=null||D&&C===D.subTree)&&qr(A,C,!0)):I(A,C,L,ee,D,z,Q,K,U)},ot=(A,C,L,H,D,z,Q,K,U)=>{C.slotScopeIds=K,A==null?C.shapeFlag&512?D.ctx.activate(C,L,H,Q,U):ue(C,L,H,D,z,Q,U):re(A,C,U)},ue=(A,C,L,H,D,z,Q)=>{const K=A.component=Vc(A,H,D);if(Pr(A)&&(K.ctx.renderer=ks),Dc(K,!1,Q),K.asyncDep){if(D&&D.registerDep(K,J,Q),!A.el){const U=K.subTree=j(Lt);w(null,U,C,L),A.placeholder=U.el}}else J(K,A,C,L,D,z,Q)},re=(A,C,L)=>{const H=C.component=A.component;if(Tc(A,C,L))if(H.asyncDep&&!H.asyncResolved){O(H,C,L);return}else H.next=C,H.update();else C.el=A.el,H.vnode=C},J=(A,C,L,H,D,z,Q)=>{const K=()=>{if(A.isMounted){let{next:G,bu:Z,u:le,parent:de,vnode:Se}=A;{const ht=Ur(A);if(ht){G&&(G.el=Se.el,O(A,G,Q)),ht.asyncDep.then(()=>{A.isUnmounted||K()});return}}let ke=G,Qe;Qt(A,!1),G?(G.el=Se.el,O(A,G,Q)):G=Se,Z&&ln(Z),(Qe=G.props&&G.props.onVnodeBeforeUpdate)&&vt(Qe,de,G,Se),Qt(A,!0);const Ge=pl(A),pt=A.subTree;A.subTree=Ge,f(pt,Ge,g(pt.el),Zs(pt),A,D,z),G.el=Ge.el,ke===null&&xc(A,Ge.el),le&&st(le,D),(Qe=G.props&&G.props.onVnodeUpdated)&&st(()=>vt(Qe,de,G,Se),D)}else{let G;const{el:Z,props:le}=C,{bm:de,m:Se,parent:ke,root:Qe,type:Ge}=A,pt=fs(C);Qt(A,!1),de&&ln(de),!pt&&(G=le&&le.onVnodeBeforeMount)&&vt(G,ke,C),Qt(A,!0);{Qe.ce&&Qe.ce._def.shadowRoot!==!1&&Qe.ce._injectChildStyle(Ge);const ht=A.subTree=pl(A);f(null,ht,L,H,A,D,z),C.el=ht.el}if(Se&&st(Se,D),!pt&&(G=le&&le.onVnodeMounted)){const ht=C;st(()=>vt(G,ke,ht),D)}(C.shapeFlag&256||ke&&fs(ke.vnode)&&ke.vnode.shapeFlag&256)&&A.a&&st(A.a,D),A.isMounted=!0,C=L=H=null}};A.scope.on();const U=A.effect=new ir(K);A.scope.off();const F=A.update=U.run.bind(U),ee=A.job=U.runIfDirty.bind(U);ee.i=A,ee.id=A.uid,U.scheduler=()=>Fo(ee),Qt(A,!0),F()},O=(A,C,L)=>{C.component=A;const H=A.vnode.props;A.vnode=C,A.next=null,dc(A,C.props,H,L),mc(A,C.children,L),Mt(),il(A),Rt()},I=(A,C,L,H,D,z,Q,K,U=!1)=>{const F=A&&A.children,ee=A?A.shapeFlag:0,G=C.children,{patchFlag:Z,shapeFlag:le}=C;if(Z>0){if(Z&128){lt(F,G,L,H,D,z,Q,K,U);return}else if(Z&256){Ie(F,G,L,H,D,z,Q,K,U);return}}le&8?(ee&16&&jt(F,D,z),G!==F&&d(L,G)):ee&16?le&16?lt(F,G,L,H,D,z,Q,K,U):jt(F,D,z,!0):(ee&8&&d(L,""),le&16&&q(G,L,H,D,z,Q,K,U))},Ie=(A,C,L,H,D,z,Q,K,U)=>{A=A||cs,C=C||cs;const F=A.length,ee=C.length,G=Math.min(F,ee);let Z;for(Z=0;Z<G;Z++){const le=C[Z]=U?Vt(C[Z]):bt(C[Z]);f(A[Z],le,L,null,D,z,Q,K,U)}F>ee?jt(A,D,z,!0,!1,G):q(C,L,H,D,z,Q,K,U,G)},lt=(A,C,L,H,D,z,Q,K,U)=>{let F=0;const ee=C.length;let G=A.length-1,Z=ee-1;for(;F<=G&&F<=Z;){const le=A[F],de=C[F]=U?Vt(C[F]):bt(C[F]);if(As(le,de))f(le,de,L,null,D,z,Q,K,U);else break;F++}for(;F<=G&&F<=Z;){const le=A[G],de=C[Z]=U?Vt(C[Z]):bt(C[Z]);if(As(le,de))f(le,de,L,null,D,z,Q,K,U);else break;G--,Z--}if(F>G){if(F<=Z){const le=Z+1,de=le<ee?C[le].el:H;for(;F<=Z;)f(null,C[F]=U?Vt(C[F]):bt(C[F]),L,de,D,z,Q,K,U),F++}}else if(F>Z)for(;F<=G;)we(A[F],D,z,!0),F++;else{const le=F,de=F,Se=new Map;for(F=de;F<=Z;F++){const tt=C[F]=U?Vt(C[F]):bt(C[F]);tt.key!=null&&Se.set(tt.key,F)}let ke,Qe=0;const Ge=Z-de+1;let pt=!1,ht=0;const _s=new Array(Ge);for(F=0;F<Ge;F++)_s[F]=0;for(F=le;F<=G;F++){const tt=A[F];if(Qe>=Ge){we(tt,D,z,!0);continue}let mt;if(tt.key!=null)mt=Se.get(tt.key);else for(ke=de;ke<=Z;ke++)if(_s[ke-de]===0&&As(tt,C[ke])){mt=ke;break}mt===void 0?we(tt,D,z,!0):(_s[mt-de]=F+1,mt>=ht?ht=mt:pt=!0,f(tt,C[mt],L,null,D,z,Q,K,U),Qe++)}const el=pt?bc(_s):cs;for(ke=el.length-1,F=Ge-1;F>=0;F--){const tt=de+F,mt=C[tt],tl=C[tt+1],sl=tt+1<ee?tl.el||tl.placeholder:H;_s[F]===0?f(null,mt,L,sl,D,z,Q,K,U):pt&&(ke<0||F!==el[ke]?X(mt,L,sl,2):ke--)}}},X=(A,C,L,H,D=null)=>{const{el:z,type:Q,transition:K,children:U,shapeFlag:F}=A;if(F&6){X(A.component.subTree,C,L,H);return}if(F&128){A.suspense.move(C,L,H);return}if(F&64){Q.move(A,C,L,ks);return}if(Q===W){n(z,C,L);for(let G=0;G<U.length;G++)X(U[G],C,L,H);n(A.anchor,C,L);return}if(Q===an){T(A,C,L);return}if(H!==2&&F&1&&K)if(H===0)K.beforeEnter(z),n(z,C,L),st(()=>K.enter(z),D);else{const{leave:G,delayLeave:Z,afterLeave:le}=K,de=()=>{A.ctx.isUnmounted?o(z):n(z,C,L)},Se=()=>{G(z,()=>{de(),le&&le()})};Z?Z(z,de,Se):Se()}else n(z,C,L)},we=(A,C,L,H=!1,D=!1)=>{const{type:z,props:Q,ref:K,children:U,dynamicChildren:F,shapeFlag:ee,patchFlag:G,dirs:Z,cacheIndex:le}=A;if(G===-2&&(D=!1),K!=null&&(Mt(),Rs(K,null,L,A,!0),Rt()),le!=null&&(C.renderCache[le]=void 0),ee&256){C.ctx.deactivate(A);return}const de=ee&1&&Z,Se=!fs(A);let ke;if(Se&&(ke=Q&&Q.onVnodeBeforeUnmount)&&vt(ke,C,A),ee&6)Yo(A.component,L,H);else{if(ee&128){A.suspense.unmount(L,H);return}de&&Wt(A,null,C,"beforeUnmount"),ee&64?A.type.remove(A,C,L,ks,H):F&&!F.hasOnce&&(z!==W||G>0&&G&64)?jt(F,C,L,!1,!0):(z===W&&G&384||!D&&ee&16)&&jt(U,C,L),H&&Kt(A)}(Se&&(ke=Q&&Q.onVnodeUnmounted)||de)&&st(()=>{ke&&vt(ke,C,A),de&&Wt(A,null,C,"unmounted")},L)},Kt=A=>{const{type:C,el:L,anchor:H,transition:D}=A;if(C===W){ls(L,H);return}if(C===an){x(A);return}const z=()=>{o(L),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(A.shapeFlag&1&&D&&!D.persisted){const{leave:Q,delayLeave:K}=D,U=()=>Q(L,z);K?K(A.el,z,U):U()}else z()},ls=(A,C)=>{let L;for(;A!==C;)L=k(A),o(A),A=L;o(C)},Yo=(A,C,L)=>{const{bum:H,scope:D,job:z,subTree:Q,um:K,m:U,a:F,parent:ee,slots:{__:G}}=A;fl(U),fl(F),H&&ln(H),ee&&se(G)&&G.forEach(Z=>{ee.renderCache[Z]=void 0}),D.stop(),z&&(z.flags|=8,we(Q,A,C,L)),K&&st(K,C),st(()=>{A.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},jt=(A,C,L,H=!1,D=!1,z=0)=>{for(let Q=z;Q<A.length;Q++)we(A[Q],C,L,H,D)},Zs=A=>{if(A.shapeFlag&6)return Zs(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const C=k(A.anchor||A.el),L=C&&C[Ha];return L?k(L):C};let Kn=!1;const Zo=(A,C,L)=>{A==null?C._vnode&&we(C._vnode,null,null,!0):f(C._vnode||null,A,C,null,null,null,L),C._vnode=A,Kn||(Kn=!0,il(),$r(),Kn=!1)},ks={p:f,um:we,m:X,r:Kt,mt:ue,mc:q,pc:I,pbc:Ce,n:Zs,o:e};return{render:Zo,hydrate:void 0,createApp:ic(Zo)}}function Yn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function yc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qr(e,t,s=!1){const n=e.children,o=t.children;if(se(n)&&se(o))for(let r=0;r<n.length;r++){const i=n[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=Vt(o[r]),a.el=i.el),!s&&a.patchFlag!==-2&&qr(i,a)),a.type===In&&(a.el=i.el),a.type===Lt&&!a.el&&(a.el=i.el)}}function bc(e){const t=e.slice(),s=[0];let n,o,r,i,a;const c=e.length;for(n=0;n<c;n++){const u=e[n];if(u!==0){if(o=s[s.length-1],e[o]<u){t[n]=o,s.push(n);continue}for(r=0,i=s.length-1;r<i;)a=r+i>>1,e[s[a]]<u?r=a+1:i=a;u<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=t[i];return s}function Ur(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ur(t)}function fl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const wc=Symbol.for("v-scx"),kc=()=>Es(wc);function _c(e,t){return Uo(e,null,{flush:"sync"})}function rn(e,t,s){return Uo(e,t,s)}function Uo(e,t,s=me){const{immediate:n,deep:o,flush:r,once:i}=s,a=qe({},s),c=t&&n||!t&&r!=="post";let u;if(Fs){if(r==="sync"){const h=kc();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=kt,h.resume=kt,h.pause=kt,h}}const d=je;a.call=(h,v,f)=>_t(h,d,v,f);let g=!1;r==="post"?a.scheduler=h=>{st(h,d&&d.suspense)}:r!=="sync"&&(g=!0,a.scheduler=(h,v)=>{v?h():Fo(h)}),a.augmentJob=h=>{t&&(h.flags|=4),g&&(h.flags|=2,d&&(h.id=d.uid,h.i=d))};const k=Oa(e,t,a);return Fs&&(u?u.push(k):c&&k()),k}function Sc(e,t,s){const n=this.proxy,o=Ee(e)?e.includes(".")?Kr(n,e):()=>n[e]:e.bind(n,n);let r;ce(t)?r=t:(r=t.handler,s=t);const i=Ks(this),a=Uo(o,r.bind(n),s);return i(),a}function Kr(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}function Ko(e,t,s=me){const n=Qo(),o=Pt(t),r=Nt(t),i=jr(e,o),a=Ta((c,u)=>{let d,g=me,k;return _c(()=>{const h=e[o];Xe(d,h)&&(d=h,u())}),{get(){return c(),s.get?s.get(d):d},set(h){const v=s.set?s.set(h):h;if(!Xe(v,d)&&!(g!==me&&Xe(h,g)))return;const f=n.vnode.props;f&&(t in f||o in f||r in f)&&(`onUpdate:${t}`in f||`onUpdate:${o}`in f||`onUpdate:${r}`in f)||(d=h,u()),n.emit(`update:${t}`,v),Xe(h,v)&&Xe(h,g)&&!Xe(v,k)&&u(),g=h,k=v}}});return a[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?i||me:a,done:!1}:{done:!0}}}},a}const jr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pt(t)}Modifiers`]||e[`${Nt(t)}Modifiers`];function Ac(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||me;let o=s;const r=t.startsWith("update:"),i=r&&jr(n,t.slice(7));i&&(i.trim&&(o=s.map(d=>Ee(d)?d.trim():d)),i.number&&(o=s.map(mn)));let a,c=n[a=jn(t)]||n[a=jn(Pt(t))];!c&&r&&(c=n[a=jn(Nt(t))]),c&&_t(c,e,6,o);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,_t(u,e,6,o)}}function Wr(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const r=e.emits;let i={},a=!1;if(!ce(e)){const c=u=>{const d=Wr(u,t,!0);d&&(a=!0,qe(i,d))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(xe(e)&&n.set(e,null),null):(se(r)?r.forEach(c=>i[c]=null):qe(i,r),xe(e)&&n.set(e,i),i)}function On(e,t){return!e||!Tn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Nt(t))||ve(e,t))}function pl(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[r],slots:i,attrs:a,emit:c,render:u,renderCache:d,props:g,data:k,setupState:h,ctx:v,inheritAttrs:f}=e,m=wn(e);let w,_;try{if(s.shapeFlag&4){const x=o||n,$=x;w=bt(u.call($,x,d,g,h,k,v)),_=a}else{const x=t;w=bt(x.length>1?x(g,{attrs:a,slots:i,emit:c}):x(g,null)),_=t.props?a:$c(a)}}catch(x){Os.length=0,Ln(x,e,1),w=j(Lt)}let T=w;if(_&&f!==!1){const x=Object.keys(_),{shapeFlag:$}=T;x.length&&$&7&&(r&&x.some(Po)&&(_=Cc(_,r)),T=ps(T,_,!1,!0))}return s.dirs&&(T=ps(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(s.dirs):s.dirs),s.transition&&Bo(T,s.transition),w=T,wn(m),w}const $c=e=>{let t;for(const s in e)(s==="class"||s==="style"||Tn(s))&&((t||(t={}))[s]=e[s]);return t},Cc=(e,t)=>{const s={};for(const n in e)(!Po(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Tc(e,t,s){const{props:n,children:o,component:r}=e,{props:i,children:a,patchFlag:c}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?hl(n,i,u):!!i;if(c&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const k=d[g];if(i[k]!==n[k]&&!On(u,k))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?hl(n,i,u):!0:!!i;return!1}function hl(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!On(s,r))return!0}return!1}function xc({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Qr=e=>e.__isSuspense;function Pc(e,t){t&&t.pendingBranch?se(e)?t.effects.push(...e):t.effects.push(e):Da(e)}const W=Symbol.for("v-fgt"),In=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),an=Symbol.for("v-stc"),Os=[];let nt=null;function p(e=!1){Os.push(nt=e?null:[])}function Mc(){Os.pop(),nt=Os[Os.length-1]||null}let Hs=1;function ml(e,t=!1){Hs+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function Gr(e){return e.dynamicChildren=Hs>0?nt||cs:null,Mc(),Hs>0&&nt&&nt.push(e),e}function b(e,t,s,n,o,r){return Gr(l(e,t,s,n,o,r,!0))}function Y(e,t,s,n,o){return Gr(j(e,t,s,n,o,!0))}function jo(e){return e?e.__v_isVNode===!0:!1}function As(e,t){return e.type===t.type&&e.key===t.key}const Xr=({key:e})=>e??null,cn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Te(e)||ce(e)?{i:Ne,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,n=0,o=null,r=e===W?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xr(t),ref:t&&cn(t),scopeId:Tr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ne};return a?(Wo(c,s),r&128&&e.normalize(c)):s&&(c.shapeFlag|=Ee(s)?8:16),Hs>0&&!i&&nt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&nt.push(c),c}const j=Rc;function Rc(e,t=null,s=null,n=0,o=null,r=!1){if((!e||e===Ya)&&(e=Lt),jo(e)){const a=ps(e,t,!0);return s&&Wo(a,s),Hs>0&&!r&&nt&&(a.shapeFlag&6?nt[nt.indexOf(e)]=a:nt.push(a)),a.patchFlag=-2,a}if(Bc(e)&&(e=e.__vccOpts),t){t=Lc(t);let{class:a,style:c}=t;a&&!Ee(a)&&(t.class=B(a)),xe(c)&&(zo(c)&&!se(c)&&(c=qe({},c)),t.style=ye(c))}const i=Ee(e)?1:Qr(e)?128:Fa(e)?64:xe(e)?4:ce(e)?2:0;return l(e,t,s,n,o,i,r,!0)}function Lc(e){return e?zo(e)||Dr(e)?qe({},e):e:null}function ps(e,t,s=!1,n=!1){const{props:o,ref:r,patchFlag:i,children:a,transition:c}=e,u=t?Ec(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Xr(u),ref:t&&t.ref?s&&r?se(r)?r.concat(cn(t)):[r,cn(t)]:cn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==W?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ps(e.ssContent),ssFallback:e.ssFallback&&ps(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&Bo(d,c.clone(d)),d}function ge(e=" ",t=0){return j(In,null,e,t)}function rt(e,t){const s=j(an,null,e);return s.staticCount=t,s}function E(e="",t=!1){return t?(p(),Y(Lt,null,e)):j(Lt,null,e)}function bt(e){return e==null||typeof e=="boolean"?j(Lt):se(e)?j(W,null,e.slice()):jo(e)?Vt(e):j(In,null,String(e))}function Vt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ps(e)}function Wo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(se(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Wo(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Dr(t)?t._ctx=Ne:o===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ce(t)?(t={default:t,_ctx:Ne},s=32):(t=String(t),n&64?(s=16,t=[ge(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ec(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=B([t.class,n.class]));else if(o==="style")t.style=ye([t.style,n.style]);else if(Tn(o)){const r=t[o],i=n[o];i&&r!==i&&!(se(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=n[o])}return t}function vt(e,t,s,n=null){_t(e,t,7,[s,n])}const Oc=Or();let Ic=0;function Vc(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||Oc,r={uid:Ic++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new or(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hr(n,o),emitsOptions:Wr(n,o),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ac.bind(null,r),e.ce&&e.ce(r),r}let je=null;const Qo=()=>je||Ne;let Sn,go;{const e=Pn(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Sn=t("__VUE_INSTANCE_SETTERS__",s=>je=s),go=t("__VUE_SSR_SETTERS__",s=>Fs=s)}const Ks=e=>{const t=je;return Sn(e),e.scope.on(),()=>{e.scope.off(),Sn(t)}},vl=()=>{je&&je.scope.off(),Sn(null)};function Jr(e){return e.vnode.shapeFlag&4}let Fs=!1;function Dc(e,t=!1,s=!1){t&&go(t);const{props:n,children:o}=e.vnode,r=Jr(e);uc(e,n,r,t),hc(e,o,s||t);const i=r?zc(e,t):void 0;return t&&go(!1),i}function zc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Za);const{setup:n}=s;if(n){Mt();const o=e.setupContext=n.length>1?Fc(e):null,r=Ks(e),i=Us(n,e,0,[e.props,o]),a=Jl(i);if(Rt(),r(),(a||e.sp)&&!fs(e)&&xr(e),a){if(i.then(vl,vl),t)return i.then(c=>{gl(e,c)}).catch(c=>{Ln(c,e,0)});e.asyncDep=i}else gl(e,i)}else Yr(e)}function gl(e,t,s){ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=_r(t)),Yr(e)}function Yr(e,t,s){const n=e.type;e.render||(e.render=n.render||kt);{const o=Ks(e);Mt();try{tc(e)}finally{Rt(),o()}}}const Hc={get(e,t){return Fe(e,"get",""),e[t]}};function Fc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Hc),slots:e.slots,emit:e.emit,expose:t}}function Vn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_r(Ho(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ls)return Ls[s](e)},has(t,s){return s in t||s in Ls}})):e.proxy}function Bc(e){return ce(e)&&"__vccOpts"in e}const R=(e,t)=>La(e,t,Fs),Nc="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yo;const yl=typeof window<"u"&&window.trustedTypes;if(yl)try{yo=yl.createPolicy("vue",{createHTML:e=>e})}catch{}const Zr=yo?e=>yo.createHTML(e):e=>e,qc="http://www.w3.org/2000/svg",Uc="http://www.w3.org/1998/Math/MathML",At=typeof document<"u"?document:null,bl=At&&At.createElement("template"),Kc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?At.createElementNS(qc,e):t==="mathml"?At.createElementNS(Uc,e):s?At.createElement(e,{is:s}):At.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>At.createTextNode(e),createComment:e=>At.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>At.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,r){const i=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{bl.innerHTML=Zr(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=bl.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},jc=Symbol("_vtc");function Wc(e,t,s){const n=e[jc];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const An=Symbol("_vod"),ei=Symbol("_vsh"),ss={beforeMount(e,{value:t},{transition:s}){e[An]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):$s(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),$s(e,!0),n.enter(e)):n.leave(e,()=>{$s(e,!1)}):$s(e,t))},beforeUnmount(e,{value:t}){$s(e,t)}};function $s(e,t){e.style.display=t?e[An]:"none",e[ei]=!t}const Qc=Symbol(""),Gc=/(^|;)\s*display\s*:/;function Xc(e,t,s){const n=e.style,o=Ee(s);let r=!1;if(s&&!o){if(t)if(Ee(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&un(n,a,"")}else for(const i in t)s[i]==null&&un(n,i,"");for(const i in s)i==="display"&&(r=!0),un(n,i,s[i])}else if(o){if(t!==s){const i=n[Qc];i&&(s+=";"+i),n.cssText=s,r=Gc.test(s)}}else t&&e.removeAttribute("style");An in e&&(e[An]=r?n.display:"",e[ei]&&(n.display="none"))}const wl=/\s*!important$/;function un(e,t,s){if(se(s))s.forEach(n=>un(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Jc(e,t);wl.test(s)?e.setProperty(Nt(n),s.replace(wl,""),"important"):e[n]=s}}const kl=["Webkit","Moz","ms"],Zn={};function Jc(e,t){const s=Zn[t];if(s)return s;let n=Pt(t);if(n!=="filter"&&n in e)return Zn[t]=n;n=er(n);for(let o=0;o<kl.length;o++){const r=kl[o]+n;if(r in e)return Zn[t]=r}return t}const _l="http://www.w3.org/1999/xlink";function Sl(e,t,s,n,o,r=ea(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(_l,t.slice(6,t.length)):e.setAttributeNS(_l,t,s):s==null||r&&!tr(s)?e.removeAttribute(t):e.setAttribute(t,r?"":dt(s)?String(s):s)}function Al(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Zr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=tr(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(o||t)}function Tt(e,t,s,n){e.addEventListener(t,s,n)}function Yc(e,t,s,n){e.removeEventListener(t,s,n)}const $l=Symbol("_vei");function Zc(e,t,s,n,o=null){const r=e[$l]||(e[$l]={}),i=r[t];if(n&&i)i.value=n;else{const[a,c]=eu(t);if(n){const u=r[t]=nu(n,o);Tt(e,a,u,c)}else i&&(Yc(e,a,i,c),r[t]=void 0)}}const Cl=/(?:Once|Passive|Capture)$/;function eu(e){let t;if(Cl.test(e)){t={};let n;for(;n=e.match(Cl);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Nt(e.slice(2)),t]}let eo=0;const tu=Promise.resolve(),su=()=>eo||(tu.then(()=>eo=0),eo=Date.now());function nu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;_t(ou(n,s.value),t,5,[n])};return s.value=e,s.attached=su(),s}function ou(e,t){if(se(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Tl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lu=(e,t,s,n,o,r)=>{const i=o==="svg";t==="class"?Wc(e,n,i):t==="style"?Xc(e,s,n):Tn(t)?Po(t)||Zc(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ru(e,t,n,i))?(Al(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Sl(e,t,n,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ee(n))?Al(e,Pt(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Sl(e,t,n,i))};function ru(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tl(t)&&ce(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Tl(t)&&Ee(s)?!1:t in e}const Bt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return se(t)?s=>ln(t,s):t};function iu(e){e.target.composing=!0}function xl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const at=Symbol("_assign"),js={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e[at]=Bt(o);const r=n||o.props&&o.props.type==="number";Tt(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;s&&(a=a.trim()),r&&(a=mn(a)),e[at](a)}),s&&Tt(e,"change",()=>{e.value=e.value.trim()}),t||(Tt(e,"compositionstart",iu),Tt(e,"compositionend",xl),Tt(e,"change",xl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:o,number:r}},i){if(e[at]=Bt(i),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?mn(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||o&&e.value.trim()===c)||(e.value=c))}},Dt={deep:!0,created(e,t,s){e[at]=Bt(s),Tt(e,"change",()=>{const n=e._modelValue,o=hs(e),r=e.checked,i=e[at];if(se(n)){const a=Lo(n,o),c=a!==-1;if(r&&!c)i(n.concat(o));else if(!r&&c){const u=[...n];u.splice(a,1),i(u)}}else if(ms(n)){const a=new Set(n);r?a.add(o):a.delete(o),i(a)}else i(ti(e,r))})},mounted:Pl,beforeUpdate(e,t,s){e[at]=Bt(s),Pl(e,t,s)}};function Pl(e,{value:t,oldValue:s},n){e._modelValue=t;let o;if(se(t))o=Lo(t,n.props.value)>-1;else if(ms(t))o=t.has(n.props.value);else{if(t===s)return;o=es(t,ti(e,!0))}e.checked!==o&&(e.checked=o)}const nn={created(e,{value:t},s){e.checked=es(t,s.props.value),e[at]=Bt(s),Tt(e,"change",()=>{e[at](hs(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[at]=Bt(n),t!==s&&(e.checked=es(t,n.props.value))}},vs={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const o=ms(t);Tt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?mn(hs(i)):hs(i));e[at](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,Ze(()=>{e._assigning=!1})}),e[at]=Bt(n)},mounted(e,{value:t}){Ml(e,t)},beforeUpdate(e,t,s){e[at]=Bt(s)},updated(e,{value:t}){e._assigning||Ml(e,t)}};function Ml(e,t){const s=e.multiple,n=se(t);if(!(s&&!n&&!ms(t))){for(let o=0,r=e.options.length;o<r;o++){const i=e.options[o],a=hs(i);if(s)if(n){const c=typeof a;c==="string"||c==="number"?i.selected=t.some(u=>String(u)===String(a)):i.selected=Lo(t,a)>-1}else i.selected=t.has(a);else if(es(hs(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function hs(e){return"_value"in e?e._value:e.value}function ti(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const au=["ctrl","shift","alt","meta"],cu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>au.some(s=>e[`${s}Key`]&&!t.includes(s))},wt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(o,...r)=>{for(let i=0;i<t.length;i++){const a=cu[t[i]];if(a&&a(o,t))return}return e(o,...r)})},uu=qe({patchProp:lu},Kc);let Rl;function du(){return Rl||(Rl=vc(uu))}const fu=(...e)=>{const t=du().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=hu(n);if(!o)return;const r=t._component;!ce(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,pu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function pu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function hu(e){return Ee(e)?document.querySelector(e):e}const si="/assets/logo-small-OTvP_XFC.png",Pe=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},mu={},vu={href:"spotify/logout"};function gu(e,t){return p(),b("a",vu,t[0]||(t[0]=[l("button",{class:"inp"},"Logout",-1)]))}const ni=Pe(mu,[["render",gu]]);/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let oi;const Dn=e=>oi=e,li=Symbol();function bo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Is;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Is||(Is={}));function yu(){const e=lr(!0),t=e.run(()=>V({}));let s=[],n=[];const o=Ho({install(r){Dn(o),o._a=r,r.provide(li,o),r.config.globalProperties.$pinia=o,n.forEach(i=>s.push(i)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const ri=()=>{};function Ll(e,t,s,n=ri){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&rr()&&sa(o),o}function is(e,...t){e.slice().forEach(s=>{s(...t)})}const bu=e=>e(),El=Symbol(),to=Symbol();function wo(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],o=e[s];bo(o)&&bo(n)&&e.hasOwnProperty(s)&&!Te(n)&&!zt(n)?e[s]=wo(o,n):e[s]=n}return e}const wu=Symbol();function ku(e){return!bo(e)||!Object.prototype.hasOwnProperty.call(e,wu)}const{assign:Ot}=Object;function _u(e){return!!(Te(e)&&e.effect)}function Su(e,t,s,n){const{state:o,actions:r,getters:i}=t,a=s.state.value[e];let c;function u(){a||(s.state.value[e]=o?o():{});const d=xa(s.state.value[e]);return Ot(d,r,Object.keys(i||{}).reduce((g,k)=>(g[k]=Ho(R(()=>{Dn(s);const h=s._s.get(e);return i[k].call(h,h)})),g),{}))}return c=ii(e,u,t,s,n,!0),c}function ii(e,t,s={},n,o,r){let i;const a=Ot({actions:{}},s),c={deep:!0};let u,d,g=[],k=[],h;const v=n.state.value[e];!r&&!v&&(n.state.value[e]={}),V({});let f;function m(q){let oe;u=d=!1,typeof q=="function"?(q(n.state.value[e]),oe={type:Is.patchFunction,storeId:e,events:h}):(wo(n.state.value[e],q),oe={type:Is.patchObject,payload:q,storeId:e,events:h});const Ce=f=Symbol();Ze().then(()=>{f===Ce&&(u=!0)}),d=!0,is(g,oe,n.state.value[e])}const w=r?function(){const{state:oe}=s,Ce=oe?oe():{};this.$patch(ze=>{Ot(ze,Ce)})}:ri;function _(){i.stop(),g=[],k=[],n._s.delete(e)}const T=(q,oe="")=>{if(El in q)return q[to]=oe,q;const Ce=function(){Dn(n);const ze=Array.from(arguments),We=[],ot=[];function ue(O){We.push(O)}function re(O){ot.push(O)}is(k,{args:ze,name:Ce[to],store:$,after:ue,onError:re});let J;try{J=q.apply(this&&this.$id===e?this:$,ze)}catch(O){throw is(ot,O),O}return J instanceof Promise?J.then(O=>(is(We,O),O)).catch(O=>(is(ot,O),Promise.reject(O))):(is(We,J),J)};return Ce[El]=!0,Ce[to]=oe,Ce},x={_p:n,$id:e,$onAction:Ll.bind(null,k),$patch:m,$reset:w,$subscribe(q,oe={}){const Ce=Ll(g,q,oe.detached,()=>ze()),ze=i.run(()=>rn(()=>n.state.value[e],We=>{(oe.flush==="sync"?d:u)&&q({storeId:e,type:Is.direct,events:h},We)},Ot({},c,oe)));return Ce},$dispose:_},$=qs(x);n._s.set(e,$);const N=(n._a&&n._a.runWithContext||bu)(()=>n._e.run(()=>(i=lr()).run(()=>t({action:T}))));for(const q in N){const oe=N[q];if(Te(oe)&&!_u(oe)||zt(oe))r||(v&&ku(oe)&&(Te(oe)?oe.value=v[q]:wo(oe,v[q])),n.state.value[e][q]=oe);else if(typeof oe=="function"){const Ce=T(oe,q);N[q]=Ce,a.actions[q]=oe}}return Ot($,N),Ot(pe($),N),Object.defineProperty($,"$state",{get:()=>n.state.value[e],set:q=>{m(oe=>{Ot(oe,q)})}}),n._p.forEach(q=>{Ot($,i.run(()=>q({store:$,app:n._a,pinia:n,options:a})))}),v&&r&&s.hydrate&&s.hydrate($.$state,v),u=!0,d=!0,$}/*! #__NO_SIDE_EFFECTS__ */function Ws(e,t,s){let n;const o=typeof t=="function";n=o?s:t;function r(i,a){const c=cc();return i=i||(c?Es(li,null):null),i&&Dn(i),i=oi,i._s.has(e)||(o?ii(e,t,n,i):Su(e,n,i)),i._s.get(e)}return r.$id=e,r}const _e=Ws("audio",{state:()=>({currentTrack:null,audioPreview:!0,restartSongOnHover:!1,restartSongOnClick:!1,unplayableTracks:!0,openLinks:!0,mobileCurrentAudio:null,mobileCurrentTrackId:null,mobileIsPlaying:!1}),getters:{isAudioEnabled:e=>e.audioPreview,shouldRestartOnHover:e=>e.restartSongOnHover,shouldRestartSongOnClick:e=>e.restartSongOnClick},actions:{setCurrentTrack(e){this.currentTrack=e},setAudioPreview(e){this.audioPreview=e},setRestartSongOnHover(e){this.restartSongOnHover=e},setRestartSongOnClick(e){this.restartSongOnClick=e},setUnplayableTracks(e){this.unplayableTracks=e},setOpenLinks(e){this.openLinks=e},playAudio(e){!this.audioPreview||!e||(this.currentTrack&&this.currentTrack!==e&&this.pauseAudio(this.currentTrack),e.play(),this.currentTrack=e)},pauseAudio(e){e&&(e.pause(),this.restartSongOnHover&&(e.currentTime=0))},handleAudioClick(e){const t=e.target,s=t.lastChild||t;!s||typeof s.play!="function"||(this.currentTrack&&this.currentTrack!==s&&this.pauseAudio(this.currentTrack),s.paused===!1?this.pauseAudio(s):this.playAudio(s))},handleAudioHover(e){const t=e.target,s=t.lastChild||t;!this.audioPreview||!s||typeof s.play!="function"||!s.src||s.src===""||s.play().catch(n=>{console.debug("Audio play failed:",n.message)})},handleAudioLeave(e){const t=e.target,s=t.lastChild||t;!this.audioPreview||!s||typeof s.pause!="function"||!s.src||s.src===""||this.pauseAudio(s)},handleParentAudioClick(e){var n;const s=(n=e.target.firstChild)==null?void 0:n.lastChild;!this.audioPreview||!s||(this.currentTrack&&this.currentTrack!==s&&this.pauseAudio(this.currentTrack),s.paused===!1?this.pauseAudio(s):this.playAudio(s))},handleParentAudioHover(e){const s=e.target.parentElement.lastChild;!this.audioPreview||!s||!s.src||s.src===""||s.play().catch(n=>{console.debug("Audio play failed:",n.message)})},handleParentAudioLeave(e){const s=e.target.parentElement.lastChild;!this.audioPreview||!s||this.pauseAudio(s)},handleSpecialClick(e){var n,o,r;const s=(r=(o=(n=e.target.parentElement)==null?void 0:n.parentElement)==null?void 0:o.firstElementChild)==null?void 0:r.lastChild;!this.audioPreview||!s||(this.currentTrack&&this.currentTrack!==s&&this.pauseAudio(this.currentTrack),s.paused===!1?this.pauseAudio(s):this.playAudio(s))},handleSearchClick(e){var n,o;const s=(o=(n=e.target.parentElement)==null?void 0:n.firstChild)==null?void 0:o.lastChild;!this.audioPreview||!s||(this.currentTrack&&this.currentTrack!==s&&this.pauseAudio(this.currentTrack),s.paused===!1?this.pauseAudio(s):this.playAudio(s))},stopAllAudio(){this.currentTrack&&(this.pauseAudio(this.currentTrack),this.currentTrack=null)},async mobilePlayTrack(e,t){if(!this.audioPreview){console.log("Audio preview is disabled");return}if(!t){console.log("No preview URL available for this track");return}this.mobileCurrentAudio&&this.mobilePauseCurrentAudio(),(!this.mobileCurrentAudio||this.mobileCurrentTrackId!==e)&&(this.mobileCurrentAudio=new Audio(t),this.mobileCurrentTrackId=e,this.mobileCurrentAudio.addEventListener("ended",()=>{this.mobileIsPlaying=!1,this.mobileCurrentTrackId=null}),this.mobileCurrentAudio.addEventListener("error",s=>{console.error("Audio playback error:",s),this.mobileIsPlaying=!1,this.mobileCurrentTrackId=null}));try{await this.mobileCurrentAudio.play(),this.mobileIsPlaying=!0,console.log("Audio started playing for track:",e)}catch(s){console.error("Failed to play audio:",s),this.mobileIsPlaying=!1}},mobileStopCurrentAudio(){this.mobileCurrentAudio&&(this.mobileCurrentAudio.pause(),this.mobileCurrentAudio.currentTime=0,this.mobileCurrentAudio=null),this.mobileIsPlaying=!1,this.mobileCurrentTrackId=null},mobilePauseCurrentAudio(){this.mobileCurrentAudio&&this.mobileCurrentAudio.pause(),this.mobileIsPlaying=!1},async mobileToggleTrack(e,t){console.log("mobileToggleTrack called:",e,"previewUrl:",t),this.mobileCurrentTrackId===e&&this.mobileIsPlaying?(console.log("Track is already playing, toggling pause"),this.restartSongOnClick?this.mobileCurrentAudio&&this.mobileStopCurrentAudio():this.mobilePauseCurrentAudio()):(console.log("Starting to play track:",e),await this.mobilePlayTrack(e,t))},mobileIsTrackPlaying(e){return this.mobileCurrentTrackId===e&&this.mobileIsPlaying}}}),et=Ws("preferences",{state:()=>({viewMode:"list"}),getters:{getViewMode:e=>e.viewMode,isGridView:e=>e.viewMode==="grid",isListView:e=>e.viewMode==="list"},actions:{setViewMode(e){(e==="list"||e==="grid")&&(this.viewMode=e)},toggleViewMode(){this.viewMode=this.viewMode==="list"?"grid":"list"}}}),Au={class:"mobile-settings-display"},$u={class:"mobile-actions-section"},Cu={class:"mobile-actions-section"},Tu={class:"mobile-actions-section"},xu={class:"mobile-logout-section"},Pu={__name:"SettingsDisplay",setup(e){const t=_e(),s=et(),n=V("light"),o=k=>{const h=document.documentElement;h.className=k==="light"?"":k,localStorage.setItem("theme",k),n.value=k},r=()=>{t.setAudioPreview(!t.audioPreview)},i=()=>{t.setRestartSongOnClick(!t.restartSongOnClick)},a=()=>{t.setUnplayableTracks(!t.unplayableTracks)},c=()=>{t.setOpenLinks(!t.openLinks)},u=()=>{s.toggleViewMode()},d=()=>{localStorage.clear(),window.location.reload()},g=()=>{localStorage.removeItem("welcome-modal-seen"),window.location.reload()};return Re(()=>{const k=localStorage.getItem("theme")||"light";n.value=k,o(k)}),(k,h)=>(p(),b("div",Au,[h[24]||(h[24]=rt('<div class="text-center"><div class="profile-avatar"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="avatar-icon"><path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd"></path></svg></div><h2 class="profile-title">Profile</h2><p class="profile-description">Your profile settings and preferences</p></div><div class="mobile-settings-header"><div class="mobile-header-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06z"></path></svg></div><h1 class="mobile-header-title">Audio Settings</h1></div>',2)),l("div",$u,[l("button",{class:"mobile-action-button",onClick:r},[h[4]||(h[4]=l("span",{class:"mobile-action-icon"},"",-1)),h[5]||(h[5]=l("span",{class:"mobile-action-text"},"Audio Preview",-1)),l("span",{class:B(["mobile-action-status",{active:y(t).audioPreview}])},M(y(t).audioPreview?"ON":"OFF"),3)]),l("button",{class:"mobile-action-button",onClick:i},[h[6]||(h[6]=l("span",{class:"mobile-action-icon"},"",-1)),h[7]||(h[7]=l("span",{class:"mobile-action-text"},"Restart song on click",-1)),l("span",{class:B(["mobile-action-status",{active:y(t).restartSongOnClick}])},M(y(t).restartSongOnClick?"ON":"OFF"),3)]),l("button",{class:"mobile-action-button",onClick:a},[h[8]||(h[8]=l("span",{class:"mobile-action-icon"},"",-1)),h[9]||(h[9]=l("span",{class:"mobile-action-text"},"Show unplayable tracks",-1)),l("span",{class:B(["mobile-action-status",{active:y(t).unplayableTracks}])},M(y(t).unplayableTracks?"ON":"OFF"),3)]),l("button",{class:"mobile-action-button",onClick:c},[h[10]||(h[10]=l("span",{class:"mobile-action-icon"},"",-1)),h[11]||(h[11]=l("span",{class:"mobile-action-text"},"Open links in new tab",-1)),l("span",{class:B(["mobile-action-status",{active:y(t).openLinks}])},M(y(t).openLinks?"ON":"OFF"),3)])]),h[25]||(h[25]=rt('<div class="mobile-settings-header"><div class="mobile-header-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path></svg></div><h1 class="mobile-header-title">Theme</h1></div>',1)),l("div",Cu,[l("button",{class:"mobile-action-button",onClick:h[0]||(h[0]=v=>o("light"))},[h[12]||(h[12]=l("span",{class:"mobile-action-icon"},"",-1)),h[13]||(h[13]=l("span",{class:"mobile-action-text"},"Light Theme",-1)),l("span",{class:B(["mobile-action-status",{active:n.value==="light"}])},M(n.value==="light"?"ACTIVE":""),3)]),l("button",{class:"mobile-action-button",onClick:h[1]||(h[1]=v=>o("dark"))},[h[14]||(h[14]=l("span",{class:"mobile-action-icon"},"",-1)),h[15]||(h[15]=l("span",{class:"mobile-action-text"},"Dark Theme",-1)),l("span",{class:B(["mobile-action-status",{active:n.value==="dark"}])},M(n.value==="dark"?"ACTIVE":""),3)]),l("button",{class:"mobile-action-button",onClick:h[2]||(h[2]=v=>o("dark-blue"))},[h[16]||(h[16]=l("span",{class:"mobile-action-icon"},"",-1)),h[17]||(h[17]=l("span",{class:"mobile-action-text"},"Dark Blue Theme",-1)),l("span",{class:B(["mobile-action-status",{active:n.value==="dark-blue"}])},M(n.value==="dark-blue"?"ACTIVE":""),3)]),l("button",{class:"mobile-action-button",onClick:h[3]||(h[3]=v=>o("dq"))},[h[18]||(h[18]=l("span",{class:"mobile-action-icon"},"",-1)),h[19]||(h[19]=l("span",{class:"mobile-action-text"},"DQ Theme",-1)),l("span",{class:B(["mobile-action-status",{active:n.value==="dq"}])},M(n.value==="dq"?"ACTIVE":""),3)])]),h[26]||(h[26]=rt('<div class="mobile-settings-header"><div class="mobile-header-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z" clip-rule="evenodd"></path></svg></div><h1 class="mobile-header-title">Display Settings</h1></div>',1)),l("div",Tu,[l("button",{class:"mobile-action-button",onClick:u},[h[20]||(h[20]=l("span",{class:"mobile-action-icon"},"",-1)),h[21]||(h[21]=l("span",{class:"mobile-action-text"},"View Mode",-1)),l("span",{class:B(["mobile-action-status",{active:y(s).viewMode==="grid"}])},M(y(s).viewMode==="list"?"LIST":"GRID"),3)])]),h[27]||(h[27]=rt('<div class="mobile-settings-header"><div class="mobile-header-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06z"></path></svg></div><h1 class="mobile-header-title">Actions</h1></div>',1)),l("div",{class:"mobile-actions-section"},[l("button",{class:"mobile-action-button",onClick:d},h[22]||(h[22]=[l("span",{class:"mobile-action-icon"},"",-1),l("span",{class:"mobile-action-text"},"Clear Cache",-1)])),l("button",{class:"mobile-action-button",onClick:g},h[23]||(h[23]=[l("span",{class:"mobile-action-icon"},"",-1),l("span",{class:"mobile-action-text"},"Show Welcome Modal",-1)]))]),l("div",xu,[j(ni)])]))}};function ai(e,t){return function(){return e.apply(t,arguments)}}const{toString:Mu}=Object.prototype,{getPrototypeOf:Go}=Object,{iterator:zn,toStringTag:ci}=Symbol,Hn=(e=>t=>{const s=Mu.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ft=e=>(e=e.toLowerCase(),t=>Hn(t)===e),Fn=e=>t=>typeof t===e,{isArray:gs}=Array,Bs=Fn("undefined");function Qs(e){return e!==null&&!Bs(e)&&e.constructor!==null&&!Bs(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ui=ft("ArrayBuffer");function Ru(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ui(e.buffer),t}const Lu=Fn("string"),Je=Fn("function"),di=Fn("number"),Gs=e=>e!==null&&typeof e=="object",Eu=e=>e===!0||e===!1,dn=e=>{if(Hn(e)!=="object")return!1;const t=Go(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ci in e)&&!(zn in e)},Ou=e=>{if(!Gs(e)||Qs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Iu=ft("Date"),Vu=ft("File"),Du=ft("Blob"),zu=ft("FileList"),Hu=e=>Gs(e)&&Je(e.pipe),Fu=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=Hn(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},Bu=ft("URLSearchParams"),[Nu,qu,Uu,Ku]=["ReadableStream","Request","Response","Headers"].map(ft),ju=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),gs(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Qs(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function fi(e,t){if(Qs(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const Xt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pi=e=>!Bs(e)&&e!==Xt;function ko(){const{caseless:e}=pi(this)&&this||{},t={},s=(n,o)=>{const r=e&&fi(t,o)||o;dn(t[r])&&dn(n)?t[r]=ko(t[r],n):dn(n)?t[r]=ko({},n):gs(n)?t[r]=n.slice():t[r]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Xs(arguments[n],s);return t}const Wu=(e,t,s,{allOwnKeys:n}={})=>(Xs(t,(o,r)=>{s&&Je(o)?e[r]=ai(o,s):e[r]=o},{allOwnKeys:n}),e),Qu=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Gu=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Xu=(e,t,s,n)=>{let o,r,i;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],(!n||n(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=s!==!1&&Go(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ju=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Yu=e=>{if(!e)return null;if(gs(e))return e;let t=e.length;if(!di(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Zu=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Go(Uint8Array)),ed=(e,t)=>{const n=(e&&e[zn]).call(e);let o;for(;(o=n.next())&&!o.done;){const r=o.value;t.call(e,r[0],r[1])}},td=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},sd=ft("HTMLFormElement"),nd=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),Ol=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),od=ft("RegExp"),hi=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Xs(s,(o,r)=>{let i;(i=t(o,r,e))!==!1&&(n[r]=i||o)}),Object.defineProperties(e,n)},ld=e=>{hi(e,(t,s)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Je(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},rd=(e,t)=>{const s={},n=o=>{o.forEach(r=>{s[r]=!0})};return gs(e)?n(e):n(String(e).split(t)),s},id=()=>{},ad=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function cd(e){return!!(e&&Je(e.append)&&e[ci]==="FormData"&&e[zn])}const ud=e=>{const t=new Array(10),s=(n,o)=>{if(Gs(n)){if(t.indexOf(n)>=0)return;if(Qs(n))return n;if(!("toJSON"in n)){t[o]=n;const r=gs(n)?[]:{};return Xs(n,(i,a)=>{const c=s(i,o+1);!Bs(c)&&(r[a]=c)}),t[o]=void 0,r}}return n};return s(e,0)},dd=ft("AsyncFunction"),fd=e=>e&&(Gs(e)||Je(e))&&Je(e.then)&&Je(e.catch),mi=((e,t)=>e?setImmediate:t?((s,n)=>(Xt.addEventListener("message",({source:o,data:r})=>{o===Xt&&r===s&&n.length&&n.shift()()},!1),o=>{n.push(o),Xt.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Je(Xt.postMessage)),pd=typeof queueMicrotask<"u"?queueMicrotask.bind(Xt):typeof process<"u"&&process.nextTick||mi,hd=e=>e!=null&&Je(e[zn]),P={isArray:gs,isArrayBuffer:ui,isBuffer:Qs,isFormData:Fu,isArrayBufferView:Ru,isString:Lu,isNumber:di,isBoolean:Eu,isObject:Gs,isPlainObject:dn,isEmptyObject:Ou,isReadableStream:Nu,isRequest:qu,isResponse:Uu,isHeaders:Ku,isUndefined:Bs,isDate:Iu,isFile:Vu,isBlob:Du,isRegExp:od,isFunction:Je,isStream:Hu,isURLSearchParams:Bu,isTypedArray:Zu,isFileList:zu,forEach:Xs,merge:ko,extend:Wu,trim:ju,stripBOM:Qu,inherits:Gu,toFlatObject:Xu,kindOf:Hn,kindOfTest:ft,endsWith:Ju,toArray:Yu,forEachEntry:ed,matchAll:td,isHTMLForm:sd,hasOwnProperty:Ol,hasOwnProp:Ol,reduceDescriptors:hi,freezeMethods:ld,toObjectSet:rd,toCamelCase:nd,noop:id,toFiniteNumber:ad,findKey:fi,global:Xt,isContextDefined:pi,isSpecCompliantForm:cd,toJSONObject:ud,isAsyncFn:dd,isThenable:fd,setImmediate:mi,asap:pd,isIterable:hd};function ae(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}P.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const vi=ae.prototype,gi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gi[e]={value:e}});Object.defineProperties(ae,gi);Object.defineProperty(vi,"isAxiosError",{value:!0});ae.from=(e,t,s,n,o,r)=>{const i=Object.create(vi);return P.toFlatObject(e,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ae.call(i,e.message,t,s,n,o),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const md=null;function _o(e){return P.isPlainObject(e)||P.isArray(e)}function yi(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Il(e,t,s){return e?e.concat(t).map(function(o,r){return o=yi(o),!s&&r?"["+o+"]":o}).join(s?".":""):t}function vd(e){return P.isArray(e)&&!e.some(_o)}const gd=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Bn(e,t,s){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=P.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,m){return!P.isUndefined(m[f])});const n=s.metaTokens,o=s.visitor||d,r=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(o))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(P.isDate(v))return v.toISOString();if(P.isBoolean(v))return v.toString();if(!c&&P.isBlob(v))throw new ae("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(v)||P.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,f,m){let w=v;if(v&&!m&&typeof v=="object"){if(P.endsWith(f,"{}"))f=n?f:f.slice(0,-2),v=JSON.stringify(v);else if(P.isArray(v)&&vd(v)||(P.isFileList(v)||P.endsWith(f,"[]"))&&(w=P.toArray(v)))return f=yi(f),w.forEach(function(T,x){!(P.isUndefined(T)||T===null)&&t.append(i===!0?Il([f],x,r):i===null?f:f+"[]",u(T))}),!1}return _o(v)?!0:(t.append(Il(m,f,r),u(v)),!1)}const g=[],k=Object.assign(gd,{defaultVisitor:d,convertValue:u,isVisitable:_o});function h(v,f){if(!P.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+f.join("."));g.push(v),P.forEach(v,function(w,_){(!(P.isUndefined(w)||w===null)&&o.call(t,w,P.isString(_)?_.trim():_,f,k))===!0&&h(w,f?f.concat(_):[_])}),g.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Vl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xo(e,t){this._pairs=[],e&&Bn(e,this,t)}const bi=Xo.prototype;bi.append=function(t,s){this._pairs.push([t,s])};bi.toString=function(t){const s=t?function(n){return t.call(this,n,Vl)}:Vl;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function yd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wi(e,t,s){if(!t)return e;const n=s&&s.encode||yd;P.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let r;if(o?r=o(t,s):r=P.isURLSearchParams(t)?t.toString():new Xo(t,s).toString(n),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Dl{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ki={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bd=typeof URLSearchParams<"u"?URLSearchParams:Xo,wd=typeof FormData<"u"?FormData:null,kd=typeof Blob<"u"?Blob:null,_d={isBrowser:!0,classes:{URLSearchParams:bd,FormData:wd,Blob:kd},protocols:["http","https","file","blob","url","data"]},Jo=typeof window<"u"&&typeof document<"u",So=typeof navigator=="object"&&navigator||void 0,Sd=Jo&&(!So||["ReactNative","NativeScript","NS"].indexOf(So.product)<0),Ad=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$d=Jo&&window.location.href||"http://localhost",Cd=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jo,hasStandardBrowserEnv:Sd,hasStandardBrowserWebWorkerEnv:Ad,navigator:So,origin:$d},Symbol.toStringTag,{value:"Module"})),Be={...Cd,..._d};function Td(e,t){return Bn(e,new Be.classes.URLSearchParams,{visitor:function(s,n,o,r){return Be.isNode&&P.isBuffer(s)?(this.append(n,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function xd(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Pd(e){const t={},s=Object.keys(e);let n;const o=s.length;let r;for(n=0;n<o;n++)r=s[n],t[r]=e[r];return t}function _i(e){function t(s,n,o,r){let i=s[r++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=r>=s.length;return i=!i&&P.isArray(o)?o.length:i,c?(P.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!a):((!o[i]||!P.isObject(o[i]))&&(o[i]=[]),t(s,n,o[i],r)&&P.isArray(o[i])&&(o[i]=Pd(o[i])),!a)}if(P.isFormData(e)&&P.isFunction(e.entries)){const s={};return P.forEachEntry(e,(n,o)=>{t(xd(n),o,s,0)}),s}return null}function Md(e,t,s){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Js={transitional:ki,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,r=P.isObject(t);if(r&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return o?JSON.stringify(_i(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Td(t,this.formSerializer).toString();if((a=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Bn(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||o?(s.setContentType("application/json",!1),Md(t)):t}],transformResponse:[function(t){const s=this.transitional||Js.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||o)){const i=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Be.classes.FormData,Blob:Be.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{Js.headers[e]={}});const Rd=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ld=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),s=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!s||t[s]&&Rd[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},zl=Symbol("internals");function Cs(e){return e&&String(e).trim().toLowerCase()}function fn(e){return e===!1||e==null?e:P.isArray(e)?e.map(fn):String(e)}function Ed(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const Od=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function so(e,t,s,n,o){if(P.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function Id(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Vd(e,t){const s=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,r,i){return this[n].call(this,t,o,r,i)},configurable:!0})})}let Ye=class{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function r(a,c,u){const d=Cs(c);if(!d)throw new Error("header name must be a non-empty string");const g=P.findKey(o,d);(!g||o[g]===void 0||u===!0||u===void 0&&o[g]!==!1)&&(o[g||c]=fn(a))}const i=(a,c)=>P.forEach(a,(u,d)=>r(u,d,c));if(P.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(P.isString(t)&&(t=t.trim())&&!Od(t))i(Ld(t),s);else if(P.isObject(t)&&P.isIterable(t)){let a={},c,u;for(const d of t){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?P.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,s)}else t!=null&&r(s,t,n);return this}get(t,s){if(t=Cs(t),t){const n=P.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return Ed(o);if(P.isFunction(s))return s.call(this,o,n);if(P.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Cs(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||so(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function r(i){if(i=Cs(i),i){const a=P.findKey(n,i);a&&(!s||so(n,n[a],a,s))&&(delete n[a],o=!0)}}return P.isArray(t)?t.forEach(r):r(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const r=s[n];(!t||so(this,this[r],r,t,!0))&&(delete this[r],o=!0)}return o}normalize(t){const s=this,n={};return P.forEach(this,(o,r)=>{const i=P.findKey(n,r);if(i){s[i]=fn(o),delete s[r];return}const a=t?Id(r):String(r).trim();a!==r&&delete s[r],s[a]=fn(o),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return P.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&P.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[zl]=this[zl]={accessors:{}}).accessors,o=this.prototype;function r(i){const a=Cs(i);n[a]||(Vd(o,i),n[a]=!0)}return P.isArray(t)?t.forEach(r):r(t),this}};Ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Ye.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});P.freezeMethods(Ye);function no(e,t){const s=this||Js,n=t||s,o=Ye.from(n.headers);let r=n.data;return P.forEach(e,function(a){r=a.call(s,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function Si(e){return!!(e&&e.__CANCEL__)}function ys(e,t,s){ae.call(this,e??"canceled",ae.ERR_CANCELED,t,s),this.name="CanceledError"}P.inherits(ys,ae,{__CANCEL__:!0});function Ai(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new ae("Request failed with status code "+s.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Dd(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zd(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,r=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[r];i||(i=u),s[o]=c,n[o]=u;let g=r,k=0;for(;g!==o;)k+=s[g++],g=g%e;if(o=(o+1)%e,o===r&&(r=(r+1)%e),u-i<t)return;const h=d&&u-d;return h?Math.round(k*1e3/h):void 0}}function Hd(e,t){let s=0,n=1e3/t,o,r;const i=(u,d=Date.now())=>{s=d,o=null,r&&(clearTimeout(r),r=null),e(...u)};return[(...u)=>{const d=Date.now(),g=d-s;g>=n?i(u,d):(o=u,r||(r=setTimeout(()=>{r=null,i(o)},n-g)))},()=>o&&i(o)]}const $n=(e,t,s=3)=>{let n=0;const o=zd(50,250);return Hd(r=>{const i=r.loaded,a=r.lengthComputable?r.total:void 0,c=i-n,u=o(c),d=i<=a;n=i;const g={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:r,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(g)},s)},Hl=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Fl=e=>(...t)=>P.asap(()=>e(...t)),Fd=Be.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Be.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Be.origin),Be.navigator&&/(msie|trident)/i.test(Be.navigator.userAgent)):()=>!0,Bd=Be.hasStandardBrowserEnv?{write(e,t,s,n,o,r){const i=[e+"="+encodeURIComponent(t)];P.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),P.isString(n)&&i.push("path="+n),P.isString(o)&&i.push("domain="+o),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nd(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qd(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $i(e,t,s){let n=!Nd(t);return e&&(n||s==!1)?qd(e,t):t}const Bl=e=>e instanceof Ye?{...e}:e;function ts(e,t){t=t||{};const s={};function n(u,d,g,k){return P.isPlainObject(u)&&P.isPlainObject(d)?P.merge.call({caseless:k},u,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function o(u,d,g,k){if(P.isUndefined(d)){if(!P.isUndefined(u))return n(void 0,u,g,k)}else return n(u,d,g,k)}function r(u,d){if(!P.isUndefined(d))return n(void 0,d)}function i(u,d){if(P.isUndefined(d)){if(!P.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,g){if(g in t)return n(u,d);if(g in e)return n(void 0,u)}const c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,g)=>o(Bl(u),Bl(d),g,!0)};return P.forEach(Object.keys({...e,...t}),function(d){const g=c[d]||o,k=g(e[d],t[d],d);P.isUndefined(k)&&g!==a||(s[d]=k)}),s}const Ci=e=>{const t=ts({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:r,headers:i,auth:a}=t;t.headers=i=Ye.from(i),t.url=wi($i(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(P.isFormData(s)){if(Be.hasStandardBrowserEnv||Be.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Be.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&Fd(t.url))){const u=o&&r&&Bd.read(r);u&&i.set(o,u)}return t},Ud=typeof XMLHttpRequest<"u",Kd=Ud&&function(e){return new Promise(function(s,n){const o=Ci(e);let r=o.data;const i=Ye.from(o.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=o,d,g,k,h,v;function f(){h&&h(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout;function w(){if(!m)return;const T=Ye.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),$={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:T,config:e,request:m};Ai(function(N){s(N),f()},function(N){n(N),f()},$),m=null}"onloadend"in m?m.onloadend=w:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(w)},m.onabort=function(){m&&(n(new ae("Request aborted",ae.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ae("Network Error",ae.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let x=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const $=o.transitional||ki;o.timeoutErrorMessage&&(x=o.timeoutErrorMessage),n(new ae(x,$.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,m)),m=null},r===void 0&&i.setContentType(null),"setRequestHeader"in m&&P.forEach(i.toJSON(),function(x,$){m.setRequestHeader($,x)}),P.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),a&&a!=="json"&&(m.responseType=o.responseType),u&&([k,v]=$n(u,!0),m.addEventListener("progress",k)),c&&m.upload&&([g,h]=$n(c),m.upload.addEventListener("progress",g),m.upload.addEventListener("loadend",h)),(o.cancelToken||o.signal)&&(d=T=>{m&&(n(!T||T.type?new ys(null,e,m):T),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const _=Dd(o.url);if(_&&Be.protocols.indexOf(_)===-1){n(new ae("Unsupported protocol "+_+":",ae.ERR_BAD_REQUEST,e));return}m.send(r||null)})},jd=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const r=function(u){if(!o){o=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ae?d:new ys(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,r(new ae(`timeout ${t} of ms exceeded`,ae.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),e=null)};e.forEach(u=>u.addEventListener("abort",r));const{signal:c}=n;return c.unsubscribe=()=>P.asap(a),c}},Wd=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},Qd=async function*(e,t){for await(const s of Gd(e))yield*Wd(s,t)},Gd=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Nl=(e,t,s,n)=>{const o=Qd(e,t);let r=0,i,a=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await o.next();if(u){a(),c.close();return}let g=d.byteLength;if(s){let k=r+=g;s(k)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),o.return()}},{highWaterMark:2})},Nn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ti=Nn&&typeof ReadableStream=="function",Xd=Nn&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),xi=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Jd=Ti&&xi(()=>{let e=!1;const t=new Request(Be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ql=64*1024,Ao=Ti&&xi(()=>P.isReadableStream(new Response("").body)),Cn={stream:Ao&&(e=>e.body)};Nn&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Cn[t]&&(Cn[t]=P.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new ae(`Response type '${t}' is not supported`,ae.ERR_NOT_SUPPORT,n)})})})(new Response);const Yd=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(Be.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await Xd(e)).byteLength},Zd=async(e,t)=>{const s=P.toFiniteNumber(e.getContentLength());return s??Yd(t)},ef=Nn&&(async e=>{let{url:t,method:s,data:n,signal:o,cancelToken:r,timeout:i,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:g="same-origin",fetchOptions:k}=Ci(e);u=u?(u+"").toLowerCase():"text";let h=jd([o,r&&r.toAbortSignal()],i),v;const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let m;try{if(c&&Jd&&s!=="get"&&s!=="head"&&(m=await Zd(d,n))!==0){let $=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(P.isFormData(n)&&(S=$.headers.get("content-type"))&&d.setContentType(S),$.body){const[N,q]=Hl(m,$n(Fl(c)));n=Nl($.body,ql,N,q)}}P.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;v=new Request(t,{...k,signal:h,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:w?g:void 0});let _=await fetch(v,k);const T=Ao&&(u==="stream"||u==="response");if(Ao&&(a||T&&f)){const $={};["status","statusText","headers"].forEach(oe=>{$[oe]=_[oe]});const S=P.toFiniteNumber(_.headers.get("content-length")),[N,q]=a&&Hl(S,$n(Fl(a),!0))||[];_=new Response(Nl(_.body,ql,N,()=>{q&&q(),f&&f()}),$)}u=u||"text";let x=await Cn[P.findKey(Cn,u)||"text"](_,e);return!T&&f&&f(),await new Promise(($,S)=>{Ai($,S,{data:x,headers:Ye.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:v})})}catch(w){throw f&&f(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,e,v),{cause:w.cause||w}):ae.from(w,w&&w.code,e,v)}}),$o={http:md,xhr:Kd,fetch:ef};P.forEach($o,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ul=e=>`- ${e}`,tf=e=>P.isFunction(e)||e===null||e===!1,Pi={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let s,n;const o={};for(let r=0;r<t;r++){s=e[r];let i;if(n=s,!tf(s)&&(n=$o[(i=String(s)).toLowerCase()],n===void 0))throw new ae(`Unknown adapter '${i}'`);if(n)break;o[i||"#"+r]=n}if(!n){const r=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?r.length>1?`since :
`+r.map(Ul).join(`
`):" "+Ul(r[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:$o};function oo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ys(null,e)}function Kl(e){return oo(e),e.headers=Ye.from(e.headers),e.data=no.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Pi.getAdapter(e.adapter||Js.adapter)(e).then(function(n){return oo(e),n.data=no.call(e,e.transformResponse,n),n.headers=Ye.from(n.headers),n},function(n){return Si(n)||(oo(e),n&&n.response&&(n.response.data=no.call(e,e.transformResponse,n.response),n.response.headers=Ye.from(n.response.headers))),Promise.reject(n)})}const Mi="1.11.0",qn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const jl={};qn.transitional=function(t,s,n){function o(r,i){return"[Axios v"+Mi+"] Transitional option '"+r+"'"+i+(n?". "+n:"")}return(r,i,a)=>{if(t===!1)throw new ae(o(i," has been removed"+(s?" in "+s:"")),ae.ERR_DEPRECATED);return s&&!jl[i]&&(jl[i]=!0,console.warn(o(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(r,i,a):!0}};qn.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function sf(e,t,s){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const r=n[o],i=t[r];if(i){const a=e[r],c=a===void 0||i(a,r,e);if(c!==!0)throw new ae("option "+r+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ae("Unknown option "+r,ae.ERR_BAD_OPTION)}}const pn={assertOptions:sf,validators:qn},gt=pn.validators;let Zt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Dl,response:new Dl}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ts(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:r}=s;n!==void 0&&pn.assertOptions(n,{silentJSONParsing:gt.transitional(gt.boolean),forcedJSONParsing:gt.transitional(gt.boolean),clarifyTimeoutError:gt.transitional(gt.boolean)},!1),o!=null&&(P.isFunction(o)?s.paramsSerializer={serialize:o}:pn.assertOptions(o,{encode:gt.function,serialize:gt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),pn.assertOptions(s,{baseUrl:gt.spelling("baseURL"),withXsrfToken:gt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=r&&P.merge(r.common,r[s.method]);r&&P.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),s.headers=Ye.concat(i,r);const a=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(c=c&&f.synchronous,a.unshift(f.fulfilled,f.rejected))});const u=[];this.interceptors.response.forEach(function(f){u.push(f.fulfilled,f.rejected)});let d,g=0,k;if(!c){const v=[Kl.bind(this),void 0];for(v.unshift(...a),v.push(...u),k=v.length,d=Promise.resolve(s);g<k;)d=d.then(v[g++],v[g++]);return d}k=a.length;let h=s;for(g=0;g<k;){const v=a[g++],f=a[g++];try{h=v(h)}catch(m){f.call(this,m);break}}try{d=Kl.call(this,h)}catch(v){return Promise.reject(v)}for(g=0,k=u.length;g<k;)d=d.then(u[g++],u[g++]);return d}getUri(t){t=ts(this.defaults,t);const s=$i(t.baseURL,t.url,t.allowAbsoluteUrls);return wi(s,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){Zt.prototype[t]=function(s,n){return this.request(ts(n||{},{method:t,url:s,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function s(n){return function(r,i,a){return this.request(ts(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Zt.prototype[t]=s(),Zt.prototype[t+"Form"]=s(!0)});let nf=class Ri{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const n=this;this.promise.then(o=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](o);n._listeners=null}),this.promise.then=o=>{let r;const i=new Promise(a=>{n.subscribe(a),r=a}).then(o);return i.cancel=function(){n.unsubscribe(r)},i},t(function(r,i,a){n.reason||(n.reason=new ys(r,i,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ri(function(o){t=o}),cancel:t}}};function of(e){return function(s){return e.apply(null,s)}}function lf(e){return P.isObject(e)&&e.isAxiosError===!0}const Co={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Co).forEach(([e,t])=>{Co[t]=e});function Li(e){const t=new Zt(e),s=ai(Zt.prototype.request,t);return P.extend(s,Zt.prototype,t,{allOwnKeys:!0}),P.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return Li(ts(e,o))},s}const Me=Li(Js);Me.Axios=Zt;Me.CanceledError=ys;Me.CancelToken=nf;Me.isCancel=Si;Me.VERSION=Mi;Me.toFormData=Bn;Me.AxiosError=ae;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=of;Me.isAxiosError=lf;Me.mergeConfig=ts;Me.AxiosHeaders=Ye;Me.formToJSON=e=>_i(P.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=Pi.getAdapter;Me.HttpStatusCode=Co;Me.default=Me;const{Axios:Y7,AxiosError:Z7,CanceledError:eb,isCancel:tb,CancelToken:sb,VERSION:nb,all:ob,Cancel:lb,isAxiosError:rb,spread:ib,toFormData:ab,AxiosHeaders:cb,HttpStatusCode:ub,formToJSON:db,getAdapter:fb,mergeConfig:pb}=Me;class rf{constructor(){this.baseURL="https://api.spotify.com/v1"}getToken(){return document.cookie.replace(/(?:(?:^|.*;\s*)access_token\s*\=\s*([^;]*).*$)|^.*$/,"$1")}getUsername(){return document.cookie.replace(/(?:(?:^|.*;\s*)username\s*\=\s*([^;]*).*$)|^.*$/,"$1")}getCountry(){return document.cookie.replace(/(?:(?:^|.*;\s*)country\s*\=\s*([^;]*).*$)|^.*$/,"$1")}async request(t,s={}){var r;const n=this.getToken(),o={url:`${this.baseURL}${t}`,headers:{Authorization:`Bearer ${n}`,...s.headers},...s};try{return await Me(o)}catch(i){if(((r=i.response)==null?void 0:r.status)===401)return await this.refreshToken(),o.headers.Authorization=`Bearer ${this.getToken()}`,Me(o);throw i}}async refreshToken(){const t=this.getUsername(),s=await Me.get(`/spotify/refresh_token/${t}`);if(s.status===200)return s.data;throw new Error("Failed to refresh token")}async getTopTracks(t="short_term"){return this.request(`/me/top/tracks?time_range=${t}`)}async getTopArtists(t="short_term"){return this.request(`/me/top/artists?time_range=${t}`)}async getSavedAlbums(t=0,s=20){return this.request(`/me/albums?offset=${t}&limit=${s}`)}async getSavedTracks(t=0,s=50){return this.request(`/me/tracks?offset=${t}&limit=${s}`)}async getFollowedArtists(t=50){return this.request(`/me/following?type=artist&limit=${t}`)}async getPlaylists(t=0,s=50){return this.request(`/me/playlists?fields=items(name,id,images,owner,public)&limit=${s}&offset=${t}`)}async getPlaylist(t){return this.request(`/playlists/${t}`)}async getSpotifyPlaylists(t=0,s=50){return this.request(`/users/spotify/playlists?fields=items(name,id,images,owner,public)&limit=${s}&offset=${t}`)}async getArtist(t){return this.request(`/artists/${t}`)}async getArtistTopTracks(t,s="UA"){const n=this.getCountry();return this.request(`/artists/${t}/top-tracks?market=${s}${n}`)}async getArtistAlbums(t,s="album",n=10){return this.request(`/artists/${t}/albums?include_groups=${s}&limit=${n}`)}async getArtistSingles(t,s=10){return this.request(`/artists/${t}/albums?include_groups=single,compilation&limit=${s}`)}async getArtistAppearances(t,s=10){return this.request(`/artists/${t}/albums?include_groups=appears_on&limit=${s}`)}async getRelatedArtists(t){try{return await this.request(`/artists/${t}/related-artists`)}catch(s){return console.warn("Failed to fetch related artists:",s.message),{data:{artists:[]}}}}async getAlbum(t){return this.request(`/albums/${t}`)}async getAlbumTracks(t){return this.request(`/albums/${t}/tracks`)}async getAlbums(t){return this.request(`/albums?ids=${t}`)}async getTrack(t){return this.request(`/tracks/${t}`)}async search(t,s="album,artist,playlist,track",n=5){return this.request(`/search/?q=${encodeURIComponent(t)}&type=${s}&limit=${n}`)}async getNewReleases(t=20,s=0){return this.request(`/browse/new-releases?limit=${t}&offset=${s}`)}async getRecommendations(t){const s=Object.entries(t).filter(([n,o])=>o).map(([n,o])=>`${n}=${o}`).join("&");return this.request(`/recommendations?${s}`)}async followPlaylist(t){return this.request(`/playlists/${t}/followers`,{method:"PUT"})}async unfollowPlaylist(t){return this.request(`/playlists/${t}/followers`,{method:"DELETE"})}async followArtist(t){return this.request(`/me/following?type=artist&ids=${t}`,{method:"PUT"})}async unfollowArtist(t){return this.request(`/me/following?type=artist&ids=${t}`,{method:"DELETE"})}async followAlbum(t){return this.request(`/me/albums?ids=${t}`,{method:"PUT"})}async unfollowAlbum(t){return this.request(`/me/albums?ids=${t}`,{method:"DELETE"})}async followTrack(t){return this.request(`/me/tracks?ids=${t}`,{method:"PUT"})}async unfollowTrack(t){return this.request(`/me/tracks?ids=${t}`,{method:"DELETE"})}async checkFollowingPlaylist(t){const s=this.getUsername();return this.request(`/playlists/${t}/followers/contains?ids=${s}`)}async checkFollowingArtist(t){return this.request(`/me/following/contains?type=artist&ids=${t}`)}async checkFollowingAlbum(t){return this.request(`/me/albums/contains?ids=${t}`)}async checkFollowingTrack(t){return this.request(`/me/tracks/contains?ids=${t}`)}async createPlaylist(t){const s=this.getUsername();return this.request(`/users/${s}/playlists`,{method:"POST",data:{name:t}})}async addTracksToPlaylist(t,s){const n=s.map(o=>`spotify:track:${o}`).join(",");return this.request(`/playlists/${t}/tracks?uris=${n}`,{method:"POST"})}}const ne=new rf,ns={formatArtistNamesSimple:e=>{if(!e||!Array.isArray(e)||e.length===0)return"Unknown Artist";const t=e.map(({name:n})=>n).filter(n=>n);if(t.length===0)return"Unknown Artist";const s=t.pop();return t.length?t.join(", ")+" & "+s:s},getPrimaryArtist:e=>{var t;return((t=e==null?void 0:e[0])==null?void 0:t.name)||"Unknown Artist"},hasPreview:e=>!!e.preview_url,hasImage:e=>!!(e.images&&e.images[0])},Le=Ws("queue",{state:()=>({queue:localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")).length:0,queueArr:localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")):[],queueModal:!1}),getters:{getQueue:e=>e.queue,getQueueArr:e=>e.queueArr,isQueueModalOpen:e=>e.queueModal},actions:{setQueue(e){this.queue=e},setQueueArr(e){this.queueArr=e},setQueueModal(e){this.queueModal=e},addToQueue(e){var r,i,a,c,u,d;const t=localStorage.getItem("queue"),s={id:e.id,name:e.name,artists:e.artists||((r=e.album)==null?void 0:r.artists)||[],image:((a=(i=e.album)==null?void 0:i.images)==null?void 0:a[0])||((c=e.images)==null?void 0:c[0]),preview_url:e.preview_url||e.previewUrl||((u=e==null?void 0:e.track)==null?void 0:u.preview_url)||((d=e==null?void 0:e.items)==null?void 0:d[0].preview_url)};s.artists&&s.artists.length>0?s.artists=this.formatArtistNames(s.artists):s.artists="Unknown Artist";let n=t?JSON.parse(t):[];n.findIndex(g=>g.id===e.id)===-1&&(n.push(s),localStorage.setItem("queue",JSON.stringify(n)),this.setQueue(n.length),this.setQueueArr(n))},removeFromQueue(e){const t=JSON.parse(localStorage.getItem("queue"))||[],s=t.findIndex(n=>n.id===e);s>-1&&(t.splice(s,1),t.length===0?(localStorage.removeItem("queue"),this.setQueueArr([]),this.setQueue(0)):(localStorage.setItem("queue",JSON.stringify(t)),this.setQueueArr(t),this.setQueue(t.length)))},async saveQueue(){if(!(!this.queueArr||this.queueArr.length===0))try{if(this.queueArr.length>50)for(let e=0;e<this.queueArr.length;e+=49){const s=this.queueArr.slice(e,e+49).map(n=>n.id).join(",");await ne.request(`/me/tracks?ids=${s}`,{method:"PUT"})}else{const e=this.queueArr.map(t=>t.id).join(",");await ne.request(`/me/tracks?ids=${e}`,{method:"PUT"})}this.clearQueue()}catch(e){throw console.error("Failed to save queue:",e),e}},async saveQueueToPlaylist(e){if(!(!this.queueArr||this.queueArr.length===0))try{const t=this.queueArr.map(s=>s.id);return await ne.addTracksToPlaylist(e,t),!0}catch(t){throw console.error("Failed to save queue to playlist:",t),t}},clearQueue(){localStorage.removeItem("queue"),this.setQueue(0),this.setQueueArr([])},loadQueue(){const e=localStorage.getItem("queue");if(e){const t=JSON.parse(e);this.setQueue(t.length),this.setQueueArr(t)}else this.setQueue(0),this.setQueueArr([])},isInQueue(e){return!this.queueArr||this.queueArr.length===0?!1:this.queueArr.some(t=>t.id===e)},getQueueCount(){return this.queue||0},formatArtistNames(e){return!e||!Array.isArray(e)||e.length===0?"Unknown Artist":ns.formatArtistNamesSimple(e)}}}),ie=qs({visibleElements:new Map,componentRefs:new Map,activeSection:null,activeParent:null,pendingVisibility:new Map});function Oe(){return{registerComponent:(f,m)=>{if(console.log("registerComponent called for:",f),console.log("Current pending requests:",Array.from(ie.pendingVisibility.keys())),ie.componentRefs.has(f)){console.log("Component already registered, skipping:",f);return}ie.componentRefs.set(f,m),setTimeout(()=>{const w=ie.pendingVisibility.get(f);console.log("Looking for pending request for key:",f,"Found:",w),w?(console.log("Processing pending request for:",f,w),w.shouldShow?(console.log("Showing component from pending request:",f),m.value.classList.contains("row")?m.value.style.display="flex":m.value.style.display="block",ie.visibleElements.set(f,!0),setTimeout(()=>{if(m.value){console.log("Scrolling to component from pending request:",f);try{m.value.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch(_){console.log("scrollIntoView failed, trying alternative method:",_);let T=m.value.parentElement;for(;T&&T!==document.body;){const x=window.getComputedStyle(T);if(x.overflow==="auto"||x.overflow==="scroll"||x.overflowY==="auto"||x.overflowY==="scroll"){const $=m.value.getBoundingClientRect(),S=T.getBoundingClientRect(),N=T.scrollTop+$.top-S.top;T.scrollTo({top:N,behavior:"smooth"});break}T=T.parentElement}if(!T||T===document.body){const x=m.value.getBoundingClientRect();window.scrollTo({top:window.pageYOffset+x.top-100,behavior:"smooth"})}}}else console.log("Component ref not available for scrolling from pending request:",f)},100)):ie.visibleElements.set(f,!1),ie.pendingVisibility.delete(f)):ie.visibleElements.set(f,!1)},10)},unregisterComponent:f=>{ie.componentRefs.delete(f),ie.visibleElements.delete(f),ie.pendingVisibility.delete(f)},showComponent:f=>{console.log("showComponent called for:",f),console.log("Registered components at showComponent time:",Array.from(ie.componentRefs.keys()));const m=ie.componentRefs.get(f);m&&m.value?(console.log("Component found, showing:",f),m.value.style.display="block",ie.visibleElements.set(f,!0),setTimeout(()=>{if(m.value){console.log("Scrolling to component:",f);try{m.value.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch(w){console.log("scrollIntoView failed, trying alternative method:",w);let _=m.value.parentElement;for(;_&&_!==document.body;){const T=window.getComputedStyle(_);if(T.overflow==="auto"||T.overflow==="scroll"||T.overflowY==="auto"||T.overflowY==="scroll"){const x=m.value.getBoundingClientRect(),$=_.getBoundingClientRect(),S=_.scrollTop+x.top-$.top;_.scrollTo({top:S,behavior:"smooth"});break}_=_.parentElement}if(!_||_===document.body){const T=m.value.getBoundingClientRect();window.scrollTo({top:window.pageYOffset+T.top-100,behavior:"smooth"})}}}else console.log("Component ref not available for scrolling:",f)},100)):(console.log("Component not found, storing pending request for:",f),ie.pendingVisibility.set(f,{shouldShow:!0}),console.log("Pending requests after storing:",Array.from(ie.pendingVisibility.keys())))},hideComponent:f=>{const m=ie.componentRefs.get(f);m&&m.value?(m.value.style.display="none",ie.visibleElements.set(f,!1)):ie.pendingVisibility.set(f,{shouldShow:!1})},showSection:(f,m=null)=>{ie.activeSection=f,ie.activeParent=m;for(const[w,_]of ie.componentRefs)_&&_.value&&(_.value.style.display="none",ie.visibleElements.set(w,!1));for(const[w,_]of ie.componentRefs)if(w.startsWith(f)){if(m&&!w.includes(m))continue;_&&_.value&&(_.value.style.display="block",ie.visibleElements.set(w,!0))}},hideSection:f=>{for(const[m,w]of ie.componentRefs)m.startsWith(f)&&w&&w.value&&(w.value.style.display="none",ie.visibleElements.set(m,!1))},hideAllComponents:()=>{for(const[f,m]of ie.componentRefs)m&&m.value&&(m.value.style.display="none",ie.visibleElements.set(f,!1))},scrollToComponent:f=>{const m=ie.componentRefs.get(f);if(m&&m.value){console.log("Manual scroll to component:",f),console.log("Component element:",m.value),console.log("Component position:",m.value.getBoundingClientRect());try{m.value.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch(w){console.log("scrollIntoView failed, trying alternative method:",w);let _=m.value.parentElement;for(;_&&_!==document.body;){const T=window.getComputedStyle(_);if(T.overflow==="auto"||T.overflow==="scroll"||T.overflowY==="auto"||T.overflowY==="scroll"){const x=m.value.getBoundingClientRect(),$=_.getBoundingClientRect(),S=_.scrollTop+x.top-$.top;_.scrollTo({top:S,behavior:"smooth"});break}_=_.parentElement}if(!_||_===document.body){const T=m.value.getBoundingClientRect();window.scrollTo({top:window.pageYOffset+T.top-100,behavior:"smooth"})}}}else console.log("Component ref not available for manual scroll:",f)},isComponentVisible:f=>ie.visibleElements.get(f)||!1,isComponentRegistered:f=>ie.componentRefs.has(f),getActiveSection:()=>ie.activeSection,getActiveParent:()=>ie.activeParent,clearAll:()=>{ie.visibleElements.clear(),ie.componentRefs.clear(),ie.pendingVisibility.clear(),ie.activeSection=null,ie.activeParent=null},getRegisteredComponents:()=>Array.from(ie.componentRefs.keys()),getPendingRequests:()=>Array.from(ie.pendingVisibility.entries()),visibilityState:ie}}const af=Object.freeze(Object.defineProperty({__proto__:null,useVisibilityManager:Oe},Symbol.toStringTag,{value:"Module"})),fe=Ws("spotify",{state:()=>({loading:!1,topTracks:{short:[],medium:[],long:[]},topArtists:{short:[],medium:[],long:[]},savedAlbums:[],savedTracks:[],followedArtists:[],playlists:[],searchInput:"",searchResults:{tracks:[],artists:[],albums:[],playlists:[]},newReleases:[],spotifyPlaylists:[],cache:{tracks:new Map,artists:new Map,albums:new Map,playlists:new Map},currentPlaylist:null,currentSpotifyPlaylist:null,selectedArtistsRange:1,selectedTracksRange:1,searchTimer:null}),getters:{isLoading:e=>e.loading,getTopTracksShort:e=>e.topTracks.short,getTopTracksMedium:e=>e.topTracks.medium,getTopTracksLong:e=>e.topTracks.long,getTopArtistsShort:e=>e.topArtists.short,getTopArtistsMedium:e=>e.topArtists.medium,getTopArtistsLong:e=>e.topArtists.long,getSavedAlbums:e=>e.savedAlbums,getSavedTracks:e=>e.savedTracks,getFollowedArtists:e=>e.followedArtists,getPlaylists:e=>e.playlists,getNewReleases:e=>e.newReleases,getSpotifyPlaylists:e=>e.spotifyPlaylists,getCurrentPlaylist:e=>e.currentPlaylist,getCurrentSpotifyPlaylist:e=>e.currentSpotifyPlaylist,getSearchTracks:e=>e.searchResults.tracks,getSearchArtists:e=>e.searchResults.artists,getSearchAlbums:e=>e.searchResults.albums,getSearchPlaylists:e=>e.searchResults.playlists},actions:{setLoading(e){this.loading=e},async fetchTopTracks(e="short_term"){this.setLoading(!0);try{const t=await ne.getTopTracks(e),s=e==="short_term"?"short":e==="medium_term"?"medium":"long";this.topTracks[s]=t.data.items}catch(t){throw console.error("Failed to fetch top tracks:",t),t}finally{this.setLoading(!1)}},async fetchTopArtists(e="short_term"){this.setLoading(!0);try{const s=(await ne.getTopArtists(e)).data.items,n=await Promise.all(s.map(async r=>{try{const a=(await ne.getArtistTopTracks(r.id)).data.tracks;return a.length>0&&a[0].preview_url&&(r.preview_url=a[0].preview_url),r.tracks=a,r}catch(i){return console.error(`Failed to fetch tracks for artist ${r.id}:`,i),r}})),o=e==="short_term"?"short":e==="medium_term"?"medium":"long";this.topArtists[o]=n}catch(t){throw console.error("Failed to fetch top artists:",t),t}finally{this.setLoading(!1)}},async fetchSavedAlbums(e=0){this.setLoading(!0);try{e===0&&(this.savedAlbums=[]);const t=await ne.getSavedAlbums(e,20);this.savedAlbums.push(...t.data.items),t.data.items.length>0&&await this.fetchSavedAlbums(e+20)}catch(t){throw console.error("Failed to fetch saved albums:",t),t}finally{this.setLoading(!1)}},async fetchSavedTracks(e=0){this.setLoading(!0);try{e===0&&(this.savedTracks=[]);const t=await ne.getSavedTracks(e,50);this.savedTracks.push(...t.data.items)}catch(t){throw console.error("Failed to fetch saved tracks:",t),t}finally{this.setLoading(!1)}},async fetchFollowedArtists(){this.setLoading(!0);try{const t=(await ne.getFollowedArtists(50)).data.artists.items,s=await Promise.all(t.map(async n=>{try{const r=(await ne.getArtistTopTracks(n.id,"UA")).data.tracks;return r.length>0&&r[0].preview_url&&(n.preview_url=r[0].preview_url),n.tracks=r,n}catch(o){return console.error(`Failed to fetch tracks for followed artist ${n.id}:`,o),n}}));this.followedArtists=s}catch(e){throw console.error("Failed to fetch followed artists:",e),e}finally{this.setLoading(!1)}},async fetchPlaylists(e=0){this.setLoading(!0);try{const t=await ne.getPlaylists(e,50);this.playlists.push(...t.data.items),t.data.items.length>0&&await this.fetchPlaylists(e+50)}catch(t){throw console.error("Failed to fetch playlists:",t),t}finally{this.setLoading(!1)}},async fetchPlaylist(e){try{const s=(await ne.getPlaylist(e)).data;try{const n=await ne.checkFollowingPlaylist(e);s.followed=n.data[0]}catch{s.followed=!1}return this.currentPlaylist=s,s}catch(t){throw console.error("Failed to fetch playlist:",t),t}},async createPlaylist(e){try{const s=(await ne.createPlaylist(e)).data;return this.playlists.unshift(s),s}catch(t){throw console.error("Failed to create playlist:",t),t}},async fetchSpotifyPlaylists(e=0){this.setLoading(!0);try{const t=await ne.getSpotifyPlaylists(e,50);this.spotifyPlaylists.push(...t.data.items)}catch(t){throw console.error("Failed to fetch Spotify playlists:",t),t}finally{this.setLoading(!1)}},async fetchSpotifyPlaylist(e){try{const s=(await ne.getPlaylist(e)).data;return this.currentSpotifyPlaylist=s,s}catch(t){throw console.error("Failed to fetch Spotify playlist:",t),t}},async fetchNewReleases(e=0){this.setLoading(!0);try{const s=(await ne.getNewReleases(20,e)).data.albums.items.map(n=>n.id);if(s.length>0&&e<100){const n=await ne.getAlbums(s.join(","));this.newReleases.push(...n.data.albums),n.data.albums.length>0&&e<100&&await this.fetchNewReleases(e+20)}}catch(t){throw console.error("Failed to fetch new releases:",t),t}finally{this.setLoading(!1)}},async search(e){if(this.searchInput=e,this.searchTimer&&clearTimeout(this.searchTimer),!e){this.clearSearchResults();return}this.searchTimer=setTimeout(async()=>{this.setLoading(!0);try{const t=await ne.search(e,"album,artist,playlist,track",5);this.searchResults.tracks=t.data.tracks.items,this.searchResults.artists=t.data.artists.items,this.searchResults.albums=t.data.albums.items,this.searchResults.playlists=t.data.playlists.items,await this.enrichAlbumData(this.searchResults.albums),await this.enrichArtistData(this.searchResults.artists),await this.enrichPlaylistData(this.searchResults.playlists)}catch(t){throw console.error("Failed to search:",t),t}finally{this.setLoading(!1)}},2e3)},clearSearchResults(){this.searchResults={tracks:[],artists:[],albums:[],playlists:[]}},async enrichAlbumData(e){for(const t of e)try{const n=(await ne.getAlbumTracks(t.id)).data.items;t.tracks=n,n.length>0&&n[0].preview_url&&(t.preview_url=n[0].preview_url)}catch(s){console.error(`Failed to enrich album ${t.id}:`,s)}},async enrichArtistData(e){for(const t of e)try{const n=(await ne.getArtistTopTracks(t.id,"UA")).data.tracks;t.tracks=n,n.length>0&&n[0].preview_url&&(t.preview_url=n[0].preview_url)}catch(s){console.error(`Failed to enrich artist ${t.id}:`,s)}},async enrichPlaylistData(e){var t;for(const s of e)try{const o=(await ne.getPlaylist(s.id)).data.tracks;s.tracks=o,o.items.length>0&&((t=o.items[0].track)!=null&&t.preview_url)&&(s.preview_url=o.items[0].track.preview_url)}catch(n){console.error(`Failed to enrich playlist ${s.id}:`,n)}},async followPlaylist(e){try{e.followed===!1?(await ne.followPlaylist(e.id),e.followed=!0):(await ne.unfollowPlaylist(e.id),e.followed=!1)}catch(t){throw console.error("Failed to follow/unfollow playlist:",t),t}},async followArtist(e){try{e.followed===!1?(await ne.followArtist(e.id),e.followed=!0):(await ne.unfollowArtist(e.id),e.followed=!1)}catch(t){throw console.error("Failed to follow/unfollow artist:",t),t}},async followAlbum(e){try{e.followed===!1?(await ne.followAlbum(e.id),e.followed=!0):(await ne.unfollowAlbum(e.id),e.followed=!1)}catch(t){throw console.error("Failed to follow/unfollow album:",t),t}},async followTrack(e){try{e.followed===!1?(await ne.followTrack(e.id),e.followed=!0):(await ne.unfollowTrack(e.id),e.followed=!1)}catch(t){throw console.error("Failed to follow/unfollow track:",t),t}},setSelectedArtistsRange(e){this.selectedArtistsRange=e},setSelectedTracksRange(e){this.selectedTracksRange=e},setSearchTimer(e){this.searchTimer=e},getCachedItem(e,t){return this.cache[e].get(t)},setCachedItem(e,t,s){this.cache[e].set(t,s)},clearCache(e){e?this.cache[e].clear():Object.keys(this.cache).forEach(t=>{this.cache[t].clear()})},clearAllData(){this.topTracks=[],this.topArtists=[],this.savedAlbums=[],this.savedTracks=[],this.followedArtists=[],this.newReleases=[],this.playlists=[],this.currentPlaylist=null,this.currentSpotifyPlaylist=null,this.isLoading=!1},async reloadST(e){return console.log("reloadST called with:",e),!0},async reloadSA(e){return console.log("reloadSA called with:",e),!0},async getTheSoundOf(e){return console.log("getTheSoundOf called with:",e),!0}}});function bs(e,t=null){const s=R(()=>{var u,d,g,k,h;return t||((d=(u=e.value)==null?void 0:u.images)!=null&&d[0]?e.value.images[0]:(h=(k=(g=e.value)==null?void 0:g.album)==null?void 0:k.images)!=null&&h[0]?e.value.album.images[0]:null)}),n=R(()=>{var u;return!!((u=e.value)!=null&&u.preview_url)}),o=R(()=>!!s.value),r=R(()=>n.value&&o.value?"mobile-playable":!n.value&&o.value?"mobile-unplayable mobile-half-opacity":n.value&&!o.value?"mobile-playable mobile-no-image":"mobile-unplayable mobile-no-image mobile-half-opacity"),i=R(()=>o.value?{"background-image":`url(${s.value.url})`}:{}),a=R(()=>n.value?e.value.preview_url:null),c=R(()=>{var u;return((u=e.value)==null?void 0:u.id)||null});return{image:s,hasPreview:n,hasImage:o,displayClass:r,backgroundStyle:i,previewUrl:a,trackId:c}}const cf={class:"item-cover"},uf=["src","alt"],df={key:1,class:"no-image"},ff={class:"item-info"},pf={class:"item-name"},hf={key:0,class:"item-artist"},mf=["preload","src"],ws={__name:"MobileTrackItem",props:{track:{type:Object,required:!0},trackItem:{type:Object,required:!1},selected:{type:Boolean,default:!1},unplayableTracks:{type:Boolean,default:!1},num:{type:Number,required:!0},viewMode:{type:String,default:"list"}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,o=d=>ns.formatArtistNamesSimple(d),{audioPreload:r,audioSrc:i}=bs(R(()=>s.track)),a=d=>{n("click",s.trackItem||s.track,d)},c=d=>(console.log(d),d.tracks&&d.tracks.items&&d.tracks.items.length>0?d.tracks.items[0].preview_url:d.preview_url?d.preview_url:null),u=d=>{var h,v;const g=c(d);console.log("hasPreview",g);const k=d.images&&d.images[0]||((h=d.album)==null?void 0:h.images)&&((v=d.album)==null?void 0:v.images[0]);return g&&k?"playable":!g&&k?"unplayable half-opacity":g&&!k?"playable no-image":"unplayable no-image half-opacity"};return(d,g)=>(p(),b("div",{class:"search-item",onClick:a},[l("div",cf,[e.track.album&&e.track.album.images&&e.track.album.images[0]?(p(),b("img",{key:0,src:e.track.album.images[0].url,alt:e.track.name,class:B(u(e.track))},null,10,uf)):(p(),b("div",df,g[0]||(g[0]=[l("span",{class:"no-image-icon"},"",-1)])))]),l("div",ff,[l("div",pf,M(e.track.name),1),e.track.artists?(p(),b("div",hf,M(o(e.track.artists)),1)):E("",!0)]),l("audio",{preload:y(r),src:y(i)},null,8,mf)]))}},vf={class:"item-cover",style:{position:"relative"}},gf=["src","alt"],yf={key:0,class:"playing-indicator"},bf={class:"item-info"},wf={class:"item-name"},kf={class:"item-artist"},_f=["preload","src"],Sf={__name:"QueueItem",props:{track:{type:Object,required:!0},trackItem:{type:Object,required:!1},selected:{type:Boolean,default:!1},unplayableTracks:{type:Boolean,default:!1},num:{type:Number,required:!0},viewMode:{type:String,default:"list"}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,o=_e(),{hasPreview:r,audioPreload:i,audioSrc:a}=bs(R(()=>s.track)),c=async v=>{n("click",s.trackItem||s.track,v);const f=s.track.preview_url;f&&await o.mobileToggleTrack(s.track.id,f)},u=v=>(console.log(v),v.tracks&&v.tracks.items&&v.tracks.items.length>0?v.tracks.items[0].preview_url:v.preview_url?v.preview_url:null),d=v=>{var w,_;const f=u(v);console.log("hasPreview",f);const m=v.images&&v.images[0]||((w=v.album)==null?void 0:w.images)&&((_=v.album)==null?void 0:_.images[0]);return f&&m?"playable":!f&&m?"unplayable half-opacity":f&&!m?"playable no-image":"unplayable no-image half-opacity"},g=R(()=>{var f;const v=s.track;if(v.image)return v.image.url;if((f=v.album)!=null&&f.image)return v.album.image.url}),k=R(()=>s.track.artists),h=R(()=>o.mobileIsTrackPlaying(s.track.id));return(v,f)=>(p(),b("div",{class:"search-item",onClick:c},[l("div",vf,[l("img",{src:g.value,alt:e.track.name,class:B(d(e.track))},null,10,gf),y(r)&&h.value?(p(),b("div",yf,f[0]||(f[0]=[l("span",{class:"playing-icon"},"",-1)]))):E("",!0)]),l("div",bf,[l("div",wf,M(e.track.name),1),l("div",kf,M(k.value),1)]),l("audio",{preload:y(i),src:y(a)},null,8,_f)]))}},Af={class:"queue-display"},$f={class:"queue-header"},Cf={class:"queue-title"},Tf={class:"header-actions"},xf=["title"],Pf={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Mf={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Rf={key:0,class:"queue-actions"},Lf={class:"playlist-selector"},Ef=["value"],Of={key:2,class:"empty-queue"},If={key:3,class:"premium-notice"},Vf={__name:"QueueDisplay",setup(e){const t=Le(),s=fe(),n=et();Re(()=>{t.loadQueue(),s.getPlaylists.length===0&&s.fetchPlaylists(0)});const o=async()=>{try{await t.saveQueue()}catch(a){console.error("Failed to save queue:",a)}},r=async a=>{if(a==="new"){const c=prompt("Name for your playlist:","Discovered");if(c)try{await s.createPlaylist(c),await s.fetchPlaylists(0)}catch(u){console.error("Failed to create playlist:",u)}}else if(a!=="default")try{await t.saveQueueToPlaylist(a)}catch(c){console.error("Failed to save queue to playlist:",c)}},i=()=>{n.toggleViewMode()};return(a,c)=>(p(),b("div",Af,[l("div",$f,[l("div",Cf,[c[2]||(c[2]=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"queue-icon"},[l("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625z"}),l("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"})],-1)),l("h3",null,"Queue ("+M(y(t).getQueueCount())+")",1)]),l("div",Tf,[l("button",{class:"view-toggle-btn",onClick:i,title:y(n).viewMode==="list"?"Grid view":"List view"},[y(n).viewMode==="list"?(p(),b("svg",Pf,c[3]||(c[3]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",Mf,c[4]||(c[4]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,xf)])]),y(t).getQueueCount()>0?(p(),b("div",Rf,[l("button",{class:"action-btn save-btn",onClick:o},c[5]||(c[5]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"action-icon"},[l("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1),ge(" Save All ",-1)])),l("div",Lf,[l("select",{class:"playlist-select",onChange:c[0]||(c[0]=u=>r(u.target.value))},[c[6]||(c[6]=l("option",{value:"default",selected:"",disabled:""},"Add to Playlist",-1)),c[7]||(c[7]=l("option",{value:"new"},"New Playlist",-1)),(p(!0),b(W,null,te(y(s).getPlaylists,(u,d)=>(p(),b("option",{key:d,value:u.id},M(u.name),9,Ef))),128))],32)]),l("button",{class:"action-btn clear-btn",onClick:c[1]||(c[1]=u=>y(t).clearQueue())},c[8]||(c[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"action-icon"},[l("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})],-1),ge(" Clear ",-1)]))])):E("",!0),y(t).getQueueCount()?(p(),b("div",{key:1,class:B(["releases-container",y(n).viewMode])},[(p(!0),b(W,null,te(y(t).getQueueArr,(u,d)=>(p(),Y(Sf,{key:d,track:u,"section-name":"queue","parent-id":"queue",num:11,"show-remove":!0,"view-mode":y(n).viewMode,onRemove:g=>y(t).removeFromQueue(u.id)},null,8,["track","view-mode","onRemove"]))),128))],2)):(p(),b("div",Of,c[9]||(c[9]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})])],-1),l("h4",null,"Your queue is empty",-1),l("p",null,"Add tracks from your discoveries to build your queue",-1)]))),y(t).getQueueCount()>0?(p(),b("div",If,c[10]||(c[10]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"notice-icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})],-1),l("span",null,"Spotify Premium required to play full songs. Save tracks to listen in the main Spotify app.",-1)]))):E("",!0)]))}},he=Ws("deeper",{state:()=>({currentSection:"search",loading:{tracks:new Set,artists:new Set,albums:new Set,playlists:new Set,seedArtists:new Set,seedTracks:new Set},isGloballyLoading:!1,sections:{yourPlaylists:[],topArtists:[],topArtists6:[],topArtistsAll:[],topTracks:[],topTracks6:[],topTracksAll:[],savedAlbums:[],savedTracks:[],followedArtists:[],newReleases:[],spotifyPlaylists:[],search:[],artistDetails:[]},cache:{tracks:new Map,artists:new Map,albums:new Map,playlists:new Map,seedArtists:new Map,seedTracks:new Map}}),getters:{getSectionData:e=>t=>e.sections[t]||[],getCachedTrack:e=>t=>e.cache.tracks.get(t),getCachedArtist:e=>t=>e.cache.artists.get(t),getCachedAlbum:e=>t=>e.cache.albums.get(t),getCachedPlaylist:e=>t=>e.cache.playlists.get(t),getCachedSeedArtist:e=>t=>e.cache.seedArtists.get(t),getCachedSeedTrack:e=>t=>e.cache.seedTracks.get(t),isTrackLoading:e=>t=>e.loading.tracks.has(t),isArtistLoading:e=>t=>e.loading.artists.has(t),isAlbumLoading:e=>t=>e.loading.albums.has(t),isPlaylistLoading:e=>t=>e.loading.playlists.has(t),isSeedArtistLoading:e=>t=>e.loading.seedArtists.has(t),isSeedTrackLoading:e=>t=>e.loading.seedTracks.has(t),getIsGloballyLoading:e=>e.isGloballyLoading},actions:{setCurrentSection(e){this.currentSection=e,console.log("Current section set to:",e)},setLoading(e,t,s){s?this.loading[e].add(t):this.loading[e].delete(t)},clearLoading(e){this.loading[e].clear()},clearAllLoading(){Object.keys(this.loading).forEach(e=>{this.loading[e].clear()})},setGlobalLoading(e){this.isGloballyLoading=e},addToSection(e,t){if(console.log("addToSection called with sectionName:",e,"item:",t.id,"type:",t.type,"parentKey:",t.parentKey),this.sections[e]||(this.sections[e]=[]),t.parentKey!==void 0&&this.sections[e].findIndex(o=>o.id===t.id&&o.type===t.type&&(o.parentKey||null)===(t.parentKey||null))!==-1){console.log("Item already exists in section, skipping");return}this.sections[e].findIndex(n=>n.id===t.id)===-1?(this.sections[e].push(t),console.log("Added item to section. Section now has",this.sections[e].length,"items")):console.log("Item already exists in section")},clearSection(e){this.sections[e]&&(this.sections[e]=[])},removeFromSection(e,t){if(this.sections[e]){const s=this.sections[e].findIndex(n=>n.id===t);s>-1&&this.sections[e].splice(s,1)}},hideRootComponentForParent(e,t,s){if(!s)return;const n=`${e}_${s}`;t.isComponentRegistered(n)&&t.hideComponent(n)},removeSubtree(e,t,s,n=null){const o=this.sections[e]||[],r=new Set([t]);let i=!0;for(;i;){i=!1;for(const c of o)c.parentKey&&r.has(c.parentKey)&&!r.has(c.id)&&(r.add(c.id),i=!0)}if(this.sections[e]=o.filter(c=>!r.has(c.id)),n){const c=`${n}_${t}`;s.isComponentRegistered(c)&&s.hideComponent(c)}for(const c of s.getRegisteredComponents())for(const u of r){const d=`__p:${u}__`;if(c.includes(d)){s.hideComponent(c);break}}const a=s.getPendingRequests();for(const[c]of a)for(const u of r){const d=`__p:${u}__`;c.includes(d)&&s.visibilityState.pendingVisibility.delete(c)}},removeDescendantsOfParent(e,t,s){const n=this.sections[e]||[],o=new Set;let r=!0;for(const i of n)i.parentKey===t&&o.add(i.id);for(;r;){r=!1;for(const i of n)i.parentKey&&o.has(i.parentKey)&&!o.has(i.id)&&(o.add(i.id),r=!0)}if(o.size>0){this.sections[e]=n.filter(a=>!o.has(a.id));for(const a of s.getRegisteredComponents())for(const c of o){(a===`deepertracks_${c}`||a===`deeperalbum_${c}`||a===`trackartist_${c}`||a===`seed_tracks_st${c}`||a===`seed_artists_sa${c}`)&&s.hideComponent(a);const u=`__p:${c}__`;a.includes(u)&&s.hideComponent(a)}const i=s.getPendingRequests();for(const[a]of i)for(const c of o){const u=`__p:${c}__`;a.includes(u)&&s.visibilityState.pendingVisibility.delete(a)}}},hideTypesInParent(e,t,s){if(!s)return;const n=`__p:${s}__`;for(const r of t.getRegisteredComponents())for(const i of e)r.startsWith(`${i}_`)&&r.includes(n)&&t.hideComponent(r);const o=t.getPendingRequests();for(const[r]of o)for(const i of e)r.startsWith(`${i}_`)&&r.includes(n)&&t.visibilityState.pendingVisibility.delete(r)},async getTrackDetails(e,t,s=null){console.log("getTrackDetails called with item:",e.id,"sectionName:",t),this.setLoading("tracks",e.id,!0),this.setGlobalLoading(!0);try{let n=e;const o=this.getCachedTrack(e.id);if(o)n=o,console.log("Using cached track data for:",e.id);else{console.log("Creating new track data for:",e.id),e.track&&typeof e.track=="object"?n={...e.track}:n={...e},n.type="deepertracks",n=pe(n);try{const c=await ne.checkFollowingTrack(n.id);n.followed=c.data[0]}catch(c){console.error(258,c),n.followed=!1}this.cache.tracks.set(n.id,n)}const r=s||null;n={...n,parentKey:r};const i=Oe();if(r)this.removeDescendantsOfParent(t,r,i);else{const u=(this.sections[t]||[]).find(d=>d.type==="deepertracks"&&(!d.parentKey||d.parentKey===null));u&&u.id!==n.id&&this.removeSubtree(t,u.id,i,"deepertracks")}console.log("Adding track to section:",t,"Track ID:",n.id,"parentKey:",r),this.addToSection(t,n);const a=`deepertracks_${n.id}${r?`__p:${r}__`:""}`;return i.showComponent(a),console.log("Track added to section, component will show when registered"),n}finally{this.setLoading("tracks",e.id,!1),this.setGlobalLoading(!1)}},hideAllComponentsOfType(e,t){console.log("hideAllComponentsOfType called for type:",e);const s=t.getRegisteredComponents();console.log("All registered components:",s);let n=0;for(const o of s)o.startsWith(e+"_")&&(console.log("Hiding component:",o,"because it matches type:",e),t.hideComponent(o),n++);console.log(`Hidden ${n} components of type: ${e}`)},hideVisibleComponentOfType(e,t,s=null){console.log("hideVisibleComponentOfType called for type:",e,"parentKey:",s);const n=t.getRegisteredComponents();console.log("All registered components:",n);let o=0;for(const r of n){if(!r.startsWith(e+"_"))continue;const i=r.includes("__p:");if(s){const c=`__p:${s}__`;if(!r.includes(c))continue}else if(i)continue;const a=t.isComponentVisible(r);console.log(`Component ${r} - type: ${e}, visible: ${a}`),a&&(console.log("Hiding currently visible component:",r,"because it matches type/parent:",e,s),t.hideComponent(r),o++)}console.log(`Hidden ${o} currently visible components of type: ${e}`)},async getArtistDetails(e,t,s=null){console.log("getArtistDetails called with item:",e.id,"sectionName:",t),this.setLoading("artists",e.id,!0),this.setGlobalLoading(!0);try{let n=this.getCachedArtist(e.id);if(n)console.log("Using cached artist data for:",e.id);else{console.log("Fetching new artist data for:",e.id);const[a,c,u,d,g,k]=await Promise.all([ne.getArtist(e.id),ne.getArtistTopTracks(e.id),ne.getArtistAlbums(e.id),ne.getArtistSingles(e.id),ne.getArtistAppearances(e.id),ne.getRelatedArtists(e.id)]);console.log("API responses:",{artistInfo:a.data,topTracks:c.data,albums:u.data,singles:d.data,appearances:g.data,related:k.data});let h=!1;try{h=(await ne.checkFollowingArtist(e.id)).data[0]}catch{h=!1}const v=[],f={...a.data,followed:h,type:"trackartist"};v.push(f);const m={...c.data,type:"top_tracks"};v.push(m);const _={items:await this.enrichAlbums(u.data.items),type:"albums"};v.push(_);const x={items:await this.enrichAlbums(d.data.items),type:"single"};v.push(x);const S={items:await this.enrichAlbums(g.data.items),type:"appears_on"};v.push(S);const q={artists:await this.enrichArtists(k.data.artists),type:"related-artists"};v.push(q),n={id:e.id,type:"trackartist",data:v},this.cache.artists.set(e.id,n)}const o=s||null;n={...n,parentKey:o};const r=Oe();o&&this.removeDescendantsOfParent(t,o,r),console.log("Adding artist data to section:",t,"parentKey:",o),this.addToSection(t,n),this.hideVisibleComponentOfType("trackartist",r,o);const i=`trackartist_${e.id}${o?`__p:${o}__`:""}`;return r.showComponent(i),console.log("Artist added to section, component will show when registered"),n}finally{this.setLoading("artists",e.id,!1),this.setGlobalLoading(!1)}},async getAlbumDetails(e,t,s=null){this.setLoading("albums",e.id,!0),this.setGlobalLoading(!0);try{let n=e;const o=this.getCachedAlbum(e.id);if(o)n=o;else{e.album?n={...e.album,album:!0}:n={...e},n.type="deeperalbum";try{const c=await ne.checkFollowingAlbum(n.id);n.followed=c.data[0]}catch{n.followed=!1}this.cache.albums.set(n.id,n)}const r=s||null;n={...n,parentKey:r};const i=Oe();r&&this.removeDescendantsOfParent(t,r,i),this.addToSection(t,n),this.hideVisibleComponentOfType("deeperalbum",i,r);const a=`deeperalbum_${e.id}${r?`__p:${r}__`:""}`;return i.showComponent(a),console.log("Album added to section, component will show when registered"),n}finally{this.setLoading("albums",e.id,!1),this.setGlobalLoading(!1)}},async getPlaylistDetails(e,t,s=null){var n;this.setLoading("playlists",e.id,!0),this.setGlobalLoading(!0);try{let o=e;const r=this.getCachedPlaylist(e.id);if(r)o=r;else{o={...e},o.type="deeperplaylist";try{const u=await ne.checkFollowingPlaylist(o.id);o.followed=u.data[0]}catch{o.followed=!1}this.cache.playlists.set(o.id,o)}try{if(!o.tracks||!o.tracks.items||o.tracks.items.length===0){const u=await ne.getPlaylist(o.id);(n=u==null?void 0:u.data)!=null&&n.tracks&&(o.tracks=u.data.tracks)}}catch(u){console.warn("Failed to ensure playlist tracks; proceeding with existing data",u)}const i=s||null;o={...o,parentKey:i};const a=Oe();i&&this.removeDescendantsOfParent(t,i,a),this.addToSection(t,o),this.hideVisibleComponentOfType("deeperplaylist",a,i);const c=`deeperplaylist_${e.id}${i?`__p:${i}__`:""}`;return a.showComponent(c),console.log("Playlist added to section, component will show when registered"),o}finally{this.setLoading("playlists",e.id,!1),this.setGlobalLoading(!1)}},async getSeedArtistRecommendations(e,t,s=null){const n=`sa${e.id}`;this.setLoading("seedArtists",n,!0),this.setGlobalLoading(!0);try{let o=this.getCachedSeedArtist(n);o||(o={tracks:(await ne.getRecommendations({seed_artists:e.id,limit:50,offset:0,market:"UA"})).data.tracks,type:"seed_artists",id:n,name:e.name,artists:e.artists},this.cache.seedArtists.set(n,o)),o={...o,parentKey:s||null};const r=Oe();o.parentKey&&this.removeDescendantsOfParent(t,o.parentKey,r),this.addToSection(t,o),this.hideVisibleComponentOfType("seed_artists",r,o.parentKey);const i=`seed_artists_${n}${o.parentKey?`__p:${o.parentKey}__`:""}`;return r.showComponent(i),console.log("Seed artists added to section, component will show when registered"),o}finally{this.setLoading("seedArtists",n,!1),this.setGlobalLoading(!1)}},async getSeedTrackRecommendations(e,t,s=null){const n=`st${e.id}`;this.setLoading("seedTracks",n,!0),this.setGlobalLoading(!0);try{let o=this.getCachedSeedTrack(n);o||(o={tracks:(await ne.getRecommendations({seed_tracks:e.id,limit:50,offset:0,market:"UA"})).data.tracks,type:"seed_tracks",id:n,name:e.name,artists:e.artists},this.cache.seedTracks.set(n,o)),o={...o,parentKey:s||null};const r=Oe();o.parentKey&&this.removeDescendantsOfParent(t,o.parentKey,r),this.addToSection(t,o),this.hideVisibleComponentOfType("seed_tracks",r,o.parentKey);const i=`seed_tracks_${n}${o.parentKey?`__p:${o.parentKey}__`:""}`;return r.showComponent(i),console.log("Seed tracks added to section, component will show when registered"),o}finally{this.setLoading("seedTracks",n,!1),this.setGlobalLoading(!1)}},async enrichAlbums(e){var s;const t=[];for(const n of e)try{const r=(await ne.getAlbumTracks(n.id)).data.items;n.tracks=r,r.length>0&&r[0].preview_url&&(n.preview_url=r[0].preview_url),n.images.length>0&&((s=n.images[0])!=null&&s.url)||(n.images[0]={url:""}),t.push(n)}catch(o){console.error(`Failed to enrich album ${n.id}:`,o)}return t},async enrichArtists(e){var s;const t=[];for(const n of e)try{const r=(await ne.getArtistTopTracks(n.id,"UA")).data.tracks;r.length>0&&r[0].preview_url&&(n.preview_url=r[0].preview_url),n.images.length>0&&((s=n.images[0])!=null&&s.url)||(n.images[0]={url:""}),t.push(n)}catch(o){console.error(`Failed to enrich artist ${n.id}:`,o)}return t},clearAllSections(){Object.keys(this.sections).forEach(e=>{this.sections[e]=[]})},clearCache(e){e?this.cache[e].clear():Object.keys(this.cache).forEach(t=>{this.cache[t].clear()})}}}),Df={class:"mobile-top-tracks"},zf={class:""},Hf={class:"header-content"},Ff={class:"header-text"},Bf={class:"section-title"},Nf={class:"header-actions"},qf=["title"],Uf={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Kf={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},jf={class:"search-bar"},Wf=["placeholder"],Qf={class:"my-2"},Gf={key:0,class:"empty-search"},Xf={key:1,class:"empty-state"},Jf=["onClick"],Yf={key:0,class:"item-cover"},Zf=["src"],e1={key:1,class:"playlist-cover"},t1={class:"item-info"},s1={class:"item-name"},n1={class:"item-artist"},o1={key:0},l1={key:1},r1={key:2},i1={class:"pagination-container"},a1=["disabled"],c1={class:"pagination-info"},u1=["disabled"],Ei={__name:"PlaylistSelector",props:{playlists:{type:Array,default:()=>[]},selectedPlaylist:{type:String,default:""},placeholder:{type:String,default:"Search playlists..."},title:{type:String,default:"Select a playlist"},itemsPerPage:{type:Number,default:50}},emits:["playlist-select","search","load-more","playlist-arrow-click"],setup(e,{emit:t}){const s=et(),n=e,o=t,r=V(""),i=V(1),a=R(()=>r.value?n.playlists.filter(m=>m.name.toLowerCase().includes(r.value.toLowerCase())):n.playlists),c=R(()=>{const m=(i.value-1)*n.itemsPerPage,w=m+n.itemsPerPage;return a.value.slice(m,w)}),u=R(()=>Math.ceil(a.value.length/n.itemsPerPage)),d=m=>{if(console.log("PlaylistSelector: Arrow clicked for playlist:",m),console.log("Playlist name:",m==null?void 0:m.name),console.log("Playlist id:",m==null?void 0:m.id),console.log("Playlist type:",typeof m),!m||!m.id){console.error("Invalid playlist data:",m);return}o("playlist-arrow-click",m)},g=m=>{r.value=m.target.value,f(),o("search",m)},k=()=>{r.value="",f(),o("search",{target:{value:""}})},h=()=>{s.toggleViewMode()},v=m=>{i.value=m,i.value===u.value&&o("load-more")},f=()=>{i.value=1};return(m,w)=>(p(),b("div",Df,[l("div",zf,[l("div",Hf,[l("div",Ff,[l("h2",Bf,M(e.title),1)]),l("div",Nf,[l("button",{class:"refresh-btn",onClick:w[0]||(w[0]=(..._)=>m.handleRefresh&&m.handleRefresh(..._)),title:"Refresh"},w[4]||(w[4]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:h,title:y(s).viewMode==="list"?"Grid view":"List view"},[y(s).viewMode==="list"?(p(),b("svg",Uf,w[5]||(w[5]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",Kf,w[6]||(w[6]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,qf)])]),l("div",jf,[be(l("input",{type:"text",placeholder:e.placeholder,class:"search-input","onUpdate:modelValue":w[1]||(w[1]=_=>r.value=_),onInput:g},null,40,Wf),[[js,r.value]]),r.value?(p(),b("button",{key:0,onClick:k,class:"clear-button",type:"button"},w[7]||(w[7]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"clear-icon"},[l("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"})],-1)]))):E("",!0),w[8]||(w[8]=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"search-icon"},[l("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})],-1))])]),l("div",Qf,[a.value.length===0&&r.value?(p(),b("div",Gf,w[9]||(w[9]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})])],-1),l("h4",null,"No playlists found",-1),l("p",null,"Try adjusting your search terms",-1)]))):e.playlists.length===0?(p(),b("div",Xf,w[10]||(w[10]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})])],-1),l("h4",null,"No playlists available",-1),l("p",null,"Create or import playlists to get started",-1)]))):(p(),b("div",{key:2,class:B(["releases-container",y(s).viewMode])},[(p(!0),b(W,null,te(c.value,(_,T)=>(p(),b("div",{key:T,class:B(["search-item",{selected:e.selectedPlaylist===_.id}]),onClick:x=>d(_)},[_.images&&_.images.length>0?(p(),b("div",Yf,[l("img",{src:_.images[0].url,alt:"playlist image"},null,8,Zf)])):(p(),b("div",e1,w[11]||(w[11]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"playlist-icon"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)]))),l("div",t1,[l("div",s1,M(_.name),1),l("div",n1,[_.owner?(p(),b("span",o1,M(_.owner.display_name),1)):(p(),b("span",l1,"Spotify")),_.tracks&&_.tracks.length>0?(p(),b("span",r1,M(_.tracks.length)+" tracks ",1)):E("",!0)])])],10,Jf))),128))],2)),l("div",i1,[l("button",{onClick:w[2]||(w[2]=_=>v(i.value-1)),disabled:i.value===1,class:"pagination-button"}," Previous ",8,a1),l("span",c1,"Page "+M(i.value)+" of "+M(u.value),1),l("button",{onClick:w[3]||(w[3]=_=>v(i.value+1)),disabled:i.value===u.value,class:"pagination-button"}," Next ",8,u1)])])]))}};function $e(e){switch(e){case 1:return"yourPlaylists";case 2:return"topArtists";case 3:return"topTracks";case 4:return"savedAlbums";case 5:return"savedTracks";case 6:return"followedArtists";case 7:return"newReleases";case 8:return"spotifyPlaylists";case 10:return"search";case 11:return"queue";case 22:return"topArtists6";case 23:return"topArtistsAll";case 32:return"topTracks6";case 33:return"topTracksAll";default:return"search"}}const d1={class:"mobile-header"},f1={class:"header-actions"},p1=["title"],h1={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},m1={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},v1={class:"playlist-info-section"},g1={class:"playlist-cover"},y1=["src","alt"],b1={key:1,class:"playlist-placeholder"},w1={class:"playlist-details"},k1={class:"playlist-title"},_1={class:"playlist-meta"},S1={key:0,class:"playlist-owner"},A1={key:1,class:"track-count"},$1={key:2,class:"playlist-visibility"},C1=["innerHTML"],T1={class:"tracks-section"},x1={__name:"MobileDeeperPlaylist",props:["d","num"],setup(e){const t=e;fe();const s=_e(),n=Le(),o=he(),r=et(),i=V(),a=V(""),c=V(null);bs(R(()=>t.d));const u=Oe(),d=R(()=>{var w;const m=((w=t.d.tracks)==null?void 0:w.items)||[];return a.value?[...m].sort((_,T)=>{const x=_.track,$=T.track;switch(a.value){case"track":return x.name.localeCompare($.name);case"album":return x.album.name.localeCompare($.album.name);case"artist":return x.artists[0].name.localeCompare($.artists[0].name);case"popularity":return $.popularity-x.popularity;case"release_date":return new Date($.album.release_date)-new Date(x.album.release_date);case"duration":return x.duration_ms-$.duration_ms;default:return 0}}):m});function g(m){i.value=m}const k=()=>{const m=`deeperplaylist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;u.hideComponent(m),t.d.parentKey&&u.showComponent(t.d.parentKey)},h=async(m,w)=>{if(o.getIsGloballyLoading)return;g(m.id);const _=$e(t.num);await o.getTrackDetails(m,_,t.d.id),n.addToQueue(m);const T=m.preview_url||m.previewUrl;T&&await s.mobileToggleTrack(m.id,T)},v=()=>{r.toggleViewMode()},f=()=>{const m=a.value;a.value="",setTimeout(()=>{a.value=m},100)};return Re(async()=>{await Ze();const m=`deeperplaylist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;u.registerComponent(m,c),c.value&&(c.value.style.display="none"),console.log("MobileDeeperPlaylist registered with key:",m)}),qt(()=>{const m=`deeperplaylist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;u.unregisterComponent(m),console.log("MobileDeeperPlaylist unregistered:",m)}),(m,w)=>(p(),b("div",{class:"mobile-deeper-playlist",ref_key:"componentRef",ref:c},[l("div",d1,[l("button",{class:"back-button",onClick:k},w[2]||(w[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24"},[ge("> "),l("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})],-1)])),w[7]||(w[7]=l("h2",{class:"header-title",style:{flex:"1"}},"Playlist",-1)),l("div",f1,[l("button",{class:"refresh-btn",onClick:f,title:"Refresh"},w[3]||(w[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:v,title:y(r).viewMode==="list"?"Grid view":"List view"},[y(r).viewMode==="list"?(p(),b("svg",h1,w[4]||(w[4]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",m1,w[5]||(w[5]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,p1),be(l("select",{class:"sort-select","onUpdate:modelValue":w[0]||(w[0]=_=>a.value=_)},w[6]||(w[6]=[rt('<option value="">Initial</option><option value="artist">Sort by artist</option><option value="album">Sort by album</option><option value="duration">Sort by duration</option><option value="popularity">Sort by popularity</option><option value="release_date">Sort by release date</option><option value="track">Sort by track name</option>',7)]),512),[[vs,a.value]])])]),l("div",v1,[l("div",g1,[e.d.images&&e.d.images[0]?(p(),b("img",{key:0,src:e.d.images[0].url,alt:e.d.name,onError:w[1]||(w[1]=_=>_.target.style.display="none")},null,40,y1)):(p(),b("div",b1,w[8]||(w[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)])))]),l("div",w1,[l("h1",k1,M(e.d.name),1),l("div",_1,[e.d.owner?(p(),b("span",S1,"By "+M(e.d.owner.display_name),1)):E("",!0),e.d.tracks&&e.d.tracks.items?(p(),b("span",A1,M(e.d.tracks.items.length)+" tracks",1)):E("",!0),e.d.public!==void 0?(p(),b("span",$1,M(e.d.public?"Public":"Private"),1)):E("",!0)]),e.d.description?(p(),b("div",{key:0,class:"playlist-description",innerHTML:e.d.description},null,8,C1)):E("",!0)])]),l("div",T1,[w[9]||(w[9]=l("h3",{class:"section-title"},"Tracks",-1)),l("div",{class:B(["releases-container",y(r).viewMode])},[(p(!0),b(W,null,te(d.value,_=>(p(),Y(ws,{key:_.track.id,track:_.track,num:e.num,"view-mode":y(r).viewMode,onClick:h},null,8,["track","num","view-mode"]))),128))],2)])],512))}};function De(){const e=V(null),t=V(null),s=V(null),n=V(null);return{selectedItem:e,selectedTopMenu:t,selectedPersonalPlaylist:s,selectedSpotifyPlaylist:n,setSelectedItem:u=>{e.value=u},setSelectedPersonalPlaylist:u=>{s.value=u},setSelectedSpotifyPlaylist:u=>{n.value=u},setSelectedTopMenu:u=>{t.value=t.value===u?null:u},clearSelections:()=>{e.value=null,s.value=null,n.value=null}}}const P1={class:"playlists-page"},M1={key:0,class:"loading-state"},R1={key:1,class:"playlists-content"},L1={class:"playlists-section"},E1={__name:"PlaylistsPage",setup(e){const t=fe(),s=he(),n=V(!1),o=V(null),r=V(null);V(null),De();const i=async()=>{const u=t.getPlaylists&&t.getPlaylists.length>0,d=t.getSpotifyPlaylists&&t.getSpotifyPlaylists.length>0;if(u&&d){console.log("Using cached playlists data");return}n.value=!0,o.value=null;try{await Promise.all([u?Promise.resolve():t.fetchPlaylists(0),d?Promise.resolve():t.fetchSpotifyPlaylists(0)])}catch(g){o.value="Failed to load playlists",console.error("Error loading playlists:",g)}finally{n.value=!1}},a=async()=>{try{const u=t.getPlaylists.length;await t.fetchPlaylists(u)}catch(u){console.error("Failed to load more personal playlists:",u)}},c=async u=>{if(console.log("Personal playlist arrow clicked:",u),u)try{await s.getPlaylistDetails(u,"yourPlaylists"),console.log("Playlist details fetched and added to section")}catch(d){console.error("Error fetching playlist details:",d)}};return Re(()=>{i()}),(u,d)=>(p(),b("div",P1,[n.value?(p(),b("div",M1,d[0]||(d[0]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading playlists...",-1)]))):(p(),b("div",R1,[l("div",L1,[j(Ei,{playlists:y(t).getPlaylists,"selected-playlist":r.value,title:"Your Playlists",placeholder:"Search personal playlists...","items-per-page":10,onPlaylistArrowClick:c,onLoadMore:a},null,8,["playlists","selected-playlist"])])]))]))}},O1=Pe(E1,[["__scopeId","data-v-3f3fc877"]]);function ct(e,t=null){const s=R(()=>{var u,d,g,k,h;return t&&t.value?t.value:t||((d=(u=e.value)==null?void 0:u.images)!=null&&d[0]?e.value.images[0]:(h=(k=(g=e.value)==null?void 0:g.album)==null?void 0:k.images)!=null&&h[0]?e.value.album.images[0]:null)}),n=R(()=>{var u;return!!((u=e.value)!=null&&u.preview_url)}),o=R(()=>!!s.value),r=R(()=>n.value&&o.value?"playable":!n.value&&o.value?"unplayable half-opacity":n.value&&!o.value?"playable no-image":"unplayable no-image half-opacity"),i=R(()=>{var u;if(o.value&&((u=s.value)!=null&&u.url))try{return{"background-image":`url(${encodeURI(s.value.url)})`}}catch(d){return console.warn("Invalid image URL:",s.value.url,d),{}}return{}}),a=R(()=>n.value?"auto":"none"),c=R(()=>{var u;if(n.value&&((u=e.value)!=null&&u.preview_url))try{return encodeURI(e.value.preview_url)}catch(d){return console.warn("Invalid audio URL:",e.value.preview_url,d),""}return""});return{image:s,hasPreview:n,hasImage:o,displayClass:r,backgroundStyle:i,audioPreload:a,audioSrc:c}}const I1={class:"mobile-top-tracks"},V1={class:""},D1={class:"header-content"},z1={class:"header-text"},H1={class:"section-title"},F1={class:"header-actions"},B1=["title"],N1={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},q1={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},U1={class:"controls-container"},K1={class:"search-container"},j1={class:"search-bar"},W1=["placeholder"],Q1={class:"releases-container"},G1={key:0,class:"empty-search"},X1={key:1,class:"empty-state"},J1=["onClick"],Y1={key:0,class:"item-cover"},Z1=["src","alt"],e0={key:1,class:"release-cover"},t0={class:"item-info"},s0={class:"item-name"},n0={key:0},o0={class:"item-artist"},l0={class:"pagination-container"},r0=["disabled"],i0={class:"pagination-info"},a0=["disabled"],Oi={__name:"ReleaseSelector",props:{releases:{type:Array,default:()=>[]},selectedRelease:{type:String,default:""},placeholder:{type:String,default:"Search releases..."},title:{type:String,default:"New Releases"},itemsPerPage:{type:Number,default:50}},emits:["release-select","search","load-more","refresh"],setup(e,{emit:t}){const s=e,n=t,o=_e();he();const r=et(),i=V(""),a=V(1),c=R(()=>i.value?s.releases.filter($=>{var S;return $.name.toLowerCase().includes(i.value.toLowerCase())||((S=$.artists)==null?void 0:S.some(N=>N.name.toLowerCase().includes(i.value.toLowerCase())))}):s.releases),u=R(()=>{const $=(a.value-1)*s.itemsPerPage,S=$+s.itemsPerPage;return c.value.slice($,S)}),d=R(()=>Math.ceil(c.value.length/s.itemsPerPage)),g=($,S)=>{n("release-select",$,S)},k=($,S)=>{if($.tracks&&$.tracks.items&&$.tracks.items.length>0){const N=$.tracks.items[0];N.preview_url&&o.mobileToggleTrack(N.id,N.preview_url)}},h=$=>{i.value=$.target.value,w(),n("search",$)},v=()=>{i.value="",w(),n("search",{target:{value:""}})},f=()=>{r.toggleViewMode()},m=$=>{a.value=$,a.value===d.value&&n("load-more")},w=()=>{a.value=1},_=()=>{n("refresh")},T=$=>!$||!Array.isArray($)?"Unknown Artist":$.map(S=>S.name).join(", "),x=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return($,S)=>(p(),b("div",I1,[l("div",V1,[l("div",D1,[l("div",z1,[l("h2",H1,M(e.title)+" | "+M(e.releases.length)+" items",1)]),l("div",F1,[l("button",{class:"refresh-btn",onClick:_,title:"Refresh"},S[3]||(S[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:f,title:y(r).viewMode==="list"?"Grid view":"List view"},[y(r).viewMode==="list"?(p(),b("svg",N1,S[4]||(S[4]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",q1,S[5]||(S[5]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,B1)])]),l("div",U1,[l("div",K1,[l("div",j1,[S[7]||(S[7]=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"search-icon"},[l("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})],-1)),be(l("input",{type:"text",placeholder:e.placeholder,class:"search-input","onUpdate:modelValue":S[0]||(S[0]=N=>i.value=N),onInput:h},null,40,W1),[[js,i.value]]),i.value?(p(),b("button",{key:0,onClick:v,class:"clear-button",type:"button"},S[6]||(S[6]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"clear-icon"},[l("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"})],-1)]))):E("",!0)])])]),l("div",Q1,[c.value.length===0&&i.value?(p(),b("div",G1,S[8]||(S[8]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})])],-1),l("h4",null,"No releases found",-1),l("p",null,"Try adjusting your search terms",-1)]))):e.releases.length===0?(p(),b("div",X1,S[9]||(S[9]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z","clip-rule":"evenodd"})])],-1),l("h4",null,"No releases available",-1),l("p",null,"Check back later for new releases",-1)]))):(p(),b("div",{key:2,class:B(["releases-container",y(r).viewMode])},[(p(!0),b(W,null,te(u.value,(N,q)=>(p(),b("div",{key:q,class:"search-item",onClick:oe=>{k(N),g(N.id,oe)}},[N.images&&N.images[0]?(p(),b("div",Y1,[l("img",{src:N.images[0].url,alt:N.name},null,8,Z1)])):(p(),b("div",e0,S[10]||(S[10]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"release-icon"},[l("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z","clip-rule":"evenodd"})],-1)]))),l("div",t0,[l("div",s0,M(N.name),1),N.release_date?(p(),b("span",n0,M(x(N.release_date)),1)):E("",!0),l("div",o0,M(T(N.artists)),1)])],8,J1))),128))],2))]),l("div",l0,[l("button",{onClick:S[1]||(S[1]=N=>m(a.value-1)),disabled:a.value===1,class:"pagination-button"}," Previous ",8,r0),l("span",i0,"Page "+M(a.value)+" of "+M(d.value),1),l("button",{onClick:S[2]||(S[2]=N=>m(a.value+1)),disabled:a.value===d.value,class:"pagination-button"}," Next ",8,a0)])])]))}},c0={class:"new-releases-page"},u0={key:0,class:"loading-state"},d0={key:1,class:"new-releases-content"},f0={class:"releases-section"},p0={__name:"NewReleasesPage",setup(e){const t=fe(),s=he(),n=V(!1),o=V(null);V(!1);const r=R(()=>t.getNewReleases||[]),i=async()=>{if(t.getNewReleases&&t.getNewReleases.length>0){console.log("Using cached new releases data");return}n.value=!0;try{await t.fetchNewReleases(0)}catch(u){console.error("Failed to load new releases:",u)}finally{n.value=!1}},a=async(u,d)=>{o.value=u;const g=r.value.find(k=>k.id===u);console.log("Release selected:",g),g&&await s.getAlbumDetails(g,"newReleases")},c=()=>{t.newReleases=[],t.fetchNewReleases(0)};return Re(()=>{i()}),(u,d)=>(p(),b("div",c0,[n.value?(p(),b("div",u0,d[0]||(d[0]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading new releases...",-1)]))):(p(),b("div",d0,[l("div",f0,[j(Oi,{releases:r.value,"selected-release":o.value,title:"New Releases",placeholder:"Search releases...","items-per-page":20,onReleaseSelect:a,onRefresh:c},null,8,["releases","selected-release"])])]))]))}},h0=Pe(p0,[["__scopeId","data-v-fb14be5d"]]),m0={class:"mobile-header"},v0={class:"header-actions"},g0=["title"],y0={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},b0={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},w0={class:"artist-info-section"},k0=["src","alt"],_0={key:1,class:"artist-placeholder"},S0={key:2,class:"playing-indicator"},A0={class:"artist-details"},$0={class:"artist-title"},C0={class:"artist-stats"},T0={class:"followers-count"},x0={key:0,class:"genres-section"},P0={class:"genres-list"},M0=["onClick"],R0={class:"artist-actions"},L0=["href"],E0={class:"follow-section"},O0={class:"follow-checkbox"},I0={key:0,class:"loading-state"},V0={key:1},D0={key:0,class:"section"},z0=["onClick"],H0={class:"item-cover"},F0=["src","alt"],B0={key:1,class:"album-placeholder"},N0={class:"item-info"},q0={class:"item-name"},U0={class:"item-artist"},K0={key:1,class:"section"},j0=["onClick"],W0={class:"item-cover"},Q0=["src","alt"],G0={key:1,class:"album-placeholder"},X0={class:"item-info"},J0={class:"item-name"},Y0={class:"item-artist"},Z0={key:2,class:"section"},ep=["onClick"],tp={class:"item-cover"},sp=["src","alt"],np={key:1,class:"album-placeholder"},op={class:"item-info"},lp={class:"item-name"},rp={class:"item-artist"},ip={key:3,class:"section"},ap=["onClick"],cp={class:"item-cover"},up=["src","alt"],dp={key:1,class:"album-placeholder"},fp={class:"item-info"},pp={class:"item-name"},hp={class:"item-artist"},mp={key:4,class:"section"},vp=["onClick"],gp={class:"item-cover"},yp=["src","alt"],bp={key:1,class:"artist-placeholder"},wp={class:"item-info"},kp={class:"item-name"},_p={key:0,class:"item-artist"},Sp={key:1,class:"item-artist"},Ap={__name:"MobileDeeperArtist",props:["d","num"],setup(e){const t=e,s=R(()=>t.d.data&&Array.isArray(t.d.data)&&t.d.data.find(I=>I.type==="trackartist")||t.d),n=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const O=t.d.data.find(I=>I.type==="top_tracks");return console.log("topTracksItem",O),(O==null?void 0:O.tracks)||[]}return t.d.top_tracks||[]}),o=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const O=t.d.data.find(I=>I.type==="albums");return(O==null?void 0:O.items)||[]}return t.d.albums||[]}),r=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const O=t.d.data.find(I=>I.type==="single");return(O==null?void 0:O.items)||[]}return t.d.singles||[]}),i=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const O=t.d.data.find(I=>I.type==="appears_on");return(O==null?void 0:O.items)||[]}return t.d.appears_on||[]}),a=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const O=t.d.data.find(I=>I.type==="related-artists");return(O==null?void 0:O.artists)||[]}return t.d.related_artists||[]}),c=fe(),u=he(),d=Le(),g=_e(),k=et(),h=Oe(),v=V(null),f=V(!0),{displayClass:m,backgroundStyle:w,hasPreview:_,previewUrl:T,trackId:x}=bs(R(()=>s.value)),$=R(()=>s.value.images&&s.value.images.length>0&&s.value.images[0]&&s.value.images[0].url),S=()=>{const O=`trackartist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.hideComponent(O),console.log(t.d.parentKey),t.d.parentKey&&h.showComponent(t.d.parentKey)},N=async(O,I)=>{if(u.getIsGloballyLoading)return;const Ie=$e(t.num);await u.getTrackDetails(O,Ie),d.addToQueue(O)},q=async(O,I)=>{if(u.getIsGloballyLoading)return;const Ie=$e(t.num);await u.getAlbumDetails(O,Ie,t.d.id)},oe=async(O,I)=>{if(u.getIsGloballyLoading)return;const Ie=$e(t.num);await u.getArtistDetails(O,Ie,t.d.id);const lt=`trackartist_${O.id}__p:${t.d.id}__`;h.showComponent(lt),console.log("Showing MobileDeeperArtist for related artist:",O.name,"with key:",lt)},Ce=O=>{c.getTheSoundOf({name:O,num:t.num,sib:"trackartist",child:!1})},ze=()=>{u.getSeedArtistRecommendations(s.value,$e(t.num),t.d.id)},We=O=>{O.stopPropagation(),_.value&&T.value&&g.mobileToggleTrack(x.value,T.value)},ot=()=>{k.toggleViewMode()},ue=async()=>{try{const I=(await ne.getArtistTopTracks(t.d.id)).data.tracks||[],lt=(await ne.getArtistAlbums(t.d.id,"album",20)).data.items||[],we=(await ne.getArtistAlbums(t.d.id,"single",20)).data.items||[],ls=(await ne.getArtistAlbums(t.d.id,"appears_on",20)).data.items||[],jt=(await ne.getRelatedArtists(t.d.id)).data.artists||[];await u.getArtistDetails(t.d,$e(t.num),t.d.id),console.log("Artist details fetched:",{topTracks:I.length,albums:lt.length,singles:we.length,appearsOn:ls.length,relatedArtists:jt.length})}catch(O){console.error("Error fetching artist details:",O)}finally{f.value=!1}},re=O=>O>=1e6?`${(O/1e6).toFixed(1)}M`:O>=1e3?`${(O/1e3).toFixed(1)}K`:O.toString(),J=O=>!O||O.length===0?"No genres":O.slice(0,3).join(", ");return Re(async()=>{await Ze();const O=`trackartist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.registerComponent(O,v),v.value&&(v.value.style.display="none"),console.log("MobileDeeperArtist registered with key:",O),t.d.data&&Array.isArray(t.d.data)?(console.log("Using existing trackartist data structure"),f.value=!1):await ue()}),qt(()=>{const O=`trackartist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.unregisterComponent(O),console.log("MobileDeeperArtist unregistered:",O)}),(O,I)=>{var Ie,lt;return p(),b("div",{class:"mobile-deeper-artist",ref_key:"componentRef",ref:v},[l("div",m0,[l("button",{class:"back-button",onClick:S},I[8]||(I[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24"},[ge("> "),l("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})],-1)])),I[11]||(I[11]=l("h2",{class:"header-title"},"Artist",-1)),l("div",v0,[l("button",{class:"view-toggle-btn",onClick:ot,title:y(k).viewMode==="list"?"Grid view":"List view"},[y(k).viewMode==="list"?(p(),b("svg",y0,I[9]||(I[9]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",b0,I[10]||(I[10]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,g0)])]),l("div",w0,[l("div",null,[$.value?(p(),b("img",{key:0,class:B(["artist-cover",y(m)]),style:ye(y(w)),onClick:We,src:s.value.images[0].url,alt:s.value.name,onError:I[0]||(I[0]=X=>X.target.style.display="none")},null,46,k0)):(p(),b("div",_0,I[12]||(I[12]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)]))),y(_)&&y(g).mobileIsTrackPlaying(y(x))?(p(),b("div",S0,I[13]||(I[13]=[l("span",{class:"playing-icon"},"",-1)]))):E("",!0)]),l("div",A0,[l("h1",$0,M(s.value.name),1),l("div",C0,[l("span",T0,M(re(((Ie=s.value.followers)==null?void 0:Ie.total)||0))+" followers",1)]),s.value.genres&&s.value.genres.length>0?(p(),b("div",x0,[l("div",P0,[(p(!0),b(W,null,te(s.value.genres.slice(0,3),(X,we)=>(p(),b("span",{key:we,class:"genre-tag",onClick:Kt=>Ce(X)},M(X),9,M0))),128))])])):E("",!0)]),l("div",R0,[l("button",{class:"recommend-btn",onClick:ze},I[14]||(I[14]=[l("span",{class:"btn-icon"},"",-1),ge(" Get Recommendations ",-1)])),l("a",{class:"spotify-link",href:(lt=e.d.external_urls)==null?void 0:lt.spotify,target:"_blank",rel:"noopener"},I[15]||(I[15]=[l("span",{class:"link-icon"},"",-1),ge(" Open in Spotify ",-1)]),8,L0),l("div",E0,[I[17]||(I[17]=l("span",{class:"follow-label"},"Follow",-1)),l("label",O0,[be(l("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=X=>e.d.followed=X),onClick:I[2]||(I[2]=X=>y(c).followArtist(e.d))},null,512),[[Dt,e.d.followed]]),I[16]||(I[16]=l("span",{class:"checkmark"},null,-1))])])])]),f.value?(p(),b("div",I0,I[18]||(I[18]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading artist details...",-1)]))):(p(),b("div",V0,[n.value.length>0?(p(),b("div",D0,[I[20]||(I[20]=l("div",{class:"section-header"},[l("h3",{class:"section-title"},"Top Tracks")],-1)),l("div",{class:B(["releases-container",y(k).viewMode])},[(p(!0),b(W,null,te(n.value,X=>{var we,Kt;return p(),b("div",{key:X.id,class:"search-item",onClick:ls=>N(X)},[l("div",H0,[X.album&&X.album.images&&X.album.images[0]?(p(),b("img",{key:0,src:X.album.images[0].url,alt:X.name,onError:I[3]||(I[3]=ls=>ls.target.style.display="none")},null,40,F0)):(p(),b("div",B0,I[19]||(I[19]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)])))]),l("div",N0,[l("div",q0,M(X.name),1),l("div",U0,M(((Kt=(we=X.artists)==null?void 0:we[0])==null?void 0:Kt.name)||"Unknown Artist"),1)])],8,z0)}),128))],2)])):E("",!0),o.value.length>0?(p(),b("div",K0,[I[22]||(I[22]=l("div",{class:"section-header"},[l("h3",{class:"section-title"},"Albums")],-1)),l("div",{class:B(["releases-container",y(k).viewMode])},[(p(!0),b(W,null,te(o.value,X=>(p(),b("div",{key:X.id,class:"search-item",onClick:we=>q(X)},[l("div",W0,[X.images&&X.images[0]?(p(),b("img",{key:0,src:X.images[0].url,alt:X.name,onError:I[4]||(I[4]=we=>we.target.style.display="none")},null,40,Q0)):(p(),b("div",G0,I[21]||(I[21]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)])))]),l("div",X0,[l("div",J0,M(X.name),1),l("div",Y0,M(X.album_type||"Album"),1)])],8,j0))),128))],2)])):E("",!0),r.value.length>0?(p(),b("div",Z0,[I[24]||(I[24]=l("div",{class:"section-header"},[l("h3",{class:"section-title"},"Singles")],-1)),l("div",{class:B(["releases-container",y(k).viewMode])},[(p(!0),b(W,null,te(r.value,X=>(p(),b("div",{key:X.id,class:"search-item",onClick:we=>q(X)},[l("div",tp,[X.images&&X.images[0]?(p(),b("img",{key:0,src:X.images[0].url,alt:X.name,onError:I[5]||(I[5]=we=>we.target.style.display="none")},null,40,sp)):(p(),b("div",np,I[23]||(I[23]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)])))]),l("div",op,[l("div",lp,M(X.name),1),l("div",rp,M(X.album_type||"Single"),1)])],8,ep))),128))],2)])):E("",!0),i.value.length>0?(p(),b("div",ip,[I[26]||(I[26]=l("div",{class:"section-header"},[l("h3",{class:"section-title"},"Appears On")],-1)),l("div",{class:B(["releases-container",y(k).viewMode])},[(p(!0),b(W,null,te(i.value,X=>(p(),b("div",{key:X.id,class:"search-item",onClick:we=>q(X)},[l("div",cp,[X.images&&X.images[0]?(p(),b("img",{key:0,src:X.images[0].url,alt:X.name,onError:I[6]||(I[6]=we=>we.target.style.display="none")},null,40,up)):(p(),b("div",dp,I[25]||(I[25]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)])))]),l("div",fp,[l("div",pp,M(X.name),1),l("div",hp,M(X.album_type||"Compilation"),1)])],8,ap))),128))],2)])):E("",!0),a.value.length>0?(p(),b("div",mp,[I[28]||(I[28]=l("div",{class:"section-header"},[l("h3",{class:"section-title"},"Related Artists")],-1)),l("div",{class:B(["releases-container",y(k).viewMode])},[(p(!0),b(W,null,te(a.value,X=>(p(),b("div",{key:X.id,class:"search-item",onClick:we=>oe(X)},[l("div",gp,[X.images&&X.images.length>0?(p(),b("img",{key:0,src:X.images[0].url,alt:X.name,onError:I[7]||(I[7]=we=>we.target.style.display="none")},null,40,yp)):(p(),b("div",bp,I[27]||(I[27]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z"})],-1)])))]),l("div",wp,[l("div",kp,M(X.name),1),X.followers?(p(),b("div",_p,M(re(X.followers.total))+" followers ",1)):E("",!0),X.genres&&X.genres.length>0?(p(),b("div",Sp,M(J(X.genres)),1)):E("",!0)])],8,vp))),128))],2)])):E("",!0)]))],512)}}},$p={class:"track-info-section"},Cp={style:{position:"relative"}},Tp=["src","alt"],xp={key:1,class:"track-placeholder"},Pp={key:2,class:"playing-indicator"},Mp={class:"track-details"},Rp={class:"track-title"},Lp={class:"artists-section"},Ep={class:"artists-list"},Op={key:0,class:"separator"},Ip={key:1,class:"separator"},Vp=["onClick"],Dp={class:"track-meta"},zp={key:0,class:"duration"},Hp={key:1,class:"popularity"},Fp={key:2,class:"release-info"},Bp={class:"release-date"},Np={class:"track-actions px-4"},qp={key:0,class:"loading-section"},Up={__name:"MobileDeeperTracks",props:["d","num"],setup(e){const t=e;fe();const s=_e(),n=Le(),o=he();V();const r=V(null),i=V(null);V(null);const a=V(!1),{displayClass:c,backgroundStyle:u,hasPreview:d,previewUrl:g,trackId:k}=bs(R(()=>t.d)),h=Oe();function v(){console.log(t.d),t.d.album&&t.d.album.images?r.value=t.d.album.images[0]:t.d.images?r.value=t.d.images[0]:t.d.track&&t.d.track.album&&t.d.track.album.images&&t.d.track.album.images[0]&&(r.value=t.d.track.album.images[0]),console.log(r.value)}const f=()=>{const $=`${t.d.type}_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.hideComponent($),t.d.parentKey&&h.showComponent(t.d.parentKey)},m=async($,S)=>{o.getIsGloballyLoading||await o.getArtistDetails($,$e(t.num),t.d.parentKey||t.d.id)},w=$=>{$.stopPropagation(),d.value&&g.value&&s.mobileToggleTrack(k.value,g.value)},_=$=>{const S=Math.floor($/6e4),N=($%6e4/1e3).toFixed(0);return`${S}:${N.padStart(2,"0")}`},T=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",x=async()=>{try{a.value=!0;const $=$e(t.num);await o.getSeedTrackRecommendations(t.d,$,t.d.id)}catch($){console.error("Failed to get recommendations:",$),alert("Failed to load recommendations. Please try again.")}finally{a.value=!1}};return Re(async()=>{var S,N;v(),await Ze();const $=`${t.d.type}_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;console.log("Registering component with ref:",i.value),console.log("Ref element:",(S=i.value)==null?void 0:S.tagName,(N=i.value)==null?void 0:N.className),console.log("Registering with key:",$),h.registerComponent($,i),console.log("Showing component after registration:",$),h.showComponent($)}),qt(()=>{const $=`${t.d.type}_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.unregisterComponent($),console.log("MobileDeeperTracks unregistered:",$)}),($,S)=>(p(),b("div",{class:"mobile-deeper-track",ref_key:"componentRef",ref:i},[l("div",{class:"mobile-header"},[l("button",{class:"back-button",onClick:f},S[2]||(S[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24"},[ge("> "),l("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})],-1)])),S[3]||(S[3]=l("h2",{class:"header-title"},"Track Details",-1)),S[4]||(S[4]=l("div",{class:"header-spacer"},null,-1))]),l("div",$p,[l("div",Cp,[r.value?(p(),b("img",{key:0,class:B(["track-cover",y(c)]),style:ye(y(u)),onClick:w,src:r.value.url,alt:e.d.name,onError:S[0]||(S[0]=N=>N.target.style.display="none")},null,46,Tp)):r.value?E("",!0):(p(),b("div",xp,S[5]||(S[5]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010 1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)]))),y(d)&&y(s).mobileIsTrackPlaying(y(k))?(p(),b("div",Pp,S[6]||(S[6]=[l("span",{class:"playing-icon"},"",-1)]))):E("",!0)]),l("div",Mp,[l("h1",Rp,M(e.d.name),1),l("div",Lp,[S[7]||(S[7]=l("span",{class:"meta-icon"},"",-1)),S[8]||(S[8]=l("span",{class:"artists-label"},"By",-1)),l("div",Ep,[(p(!0),b(W,null,te(e.d.artists,(N,q)=>(p(),b("div",{key:q,class:"artist-item"},[e.d.artists.length>1&&e.d.artists.length-1===q?(p(),b("span",Op,"&")):E("",!0),e.d.artists.length>=2&&e.d.artists.length-1!==q&&q!==0?(p(),b("span",Ip,",")):E("",!0),l("button",{class:"artist-link",onClick:oe=>m(N)},M(N.name),9,Vp)]))),128))])])]),l("div",Dp,[e.d.duration_ms?(p(),b("div",zp,[S[9]||(S[9]=l("span",{class:"meta-icon"},"",-1)),ge(" "+M(_(e.d.duration_ms)),1)])):E("",!0),e.d.popularity?(p(),b("div",Hp,[S[10]||(S[10]=l("span",{class:"meta-icon"},"",-1)),ge(" "+M(e.d.popularity)+"% popular ",1)])):E("",!0),e.d.album&&e.d.album.release_date?(p(),b("div",Fp,[l("span",Bp,[S[11]||(S[11]=l("span",{class:"meta-icon"},"",-1)),ge(" Released "+M(T(e.d.album.release_date)),1)])])):E("",!0)])]),l("div",Np,[l("button",{class:"play-btn",onClick:w},S[12]||(S[12]=[l("span",{class:"btn-icon"},"",-1),ge(" Play Track ",-1)])),l("button",{class:"recommend-btn",onClick:x},S[13]||(S[13]=[l("span",{class:"btn-icon"},"",-1),ge(" Get Recommendations ",-1)])),l("button",{class:"queue-btn",onClick:S[1]||(S[1]=N=>y(n).addToQueue(e.d))},S[14]||(S[14]=[l("span",{class:"btn-icon"},"",-1),ge(" Add to Queue ",-1)]))]),a.value?(p(),b("div",qp,S[15]||(S[15]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading recommendations...",-1)]))):E("",!0)],512))}},Kp={class:"album-info-section"},jp=["src","alt"],Wp={key:1,class:"album-placeholder"},Qp=["src"],Gp={class:"album-details"},Xp={class:"album-title"},Jp={class:"artists-section"},Yp={class:"artists-list"},Zp={key:0,class:"separator"},eh={key:1,class:"separator"},th=["onClick"],sh={class:"album-meta"},nh={key:0,class:"release-date"},oh={key:1,class:"track-count"},lh={class:"tracks-section"},rh={class:"releases-container"},ih={__name:"MobileDeeperAlbum",props:["d","num"],setup(e){const t=e;fe();const s=_e(),n=Le(),o=he(),r=V(),i=V([]),a=V(null),{displayClass:c,backgroundStyle:u,hasPreview:d,previewUrl:g,trackId:k}=bs(R(()=>t.d)),h=Oe();function v($){r.value=$}function f(){t.d.tracks&&t.d.tracks.items?i.value=t.d.tracks.items:t.d.tracks?i.value=t.d.tracks:t.d.items&&(i.value=t.d.items)}const m=()=>{const $=`deeperalbum_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.hideComponent($),t.d.parentKey&&h.showComponent(t.d.parentKey)},w=async($,S)=>{if(o.getIsGloballyLoading)return;v($.id),await o.getTrackDetails($,"albumTracks"),n.addToQueue($);const N=$.preview_url||$.previewUrl;N&&await s.mobileToggleTrack($.id,N)},_=async($,S)=>{o.getIsGloballyLoading||await o.getArtistDetails($,$e(t.num),t.d.id)},T=async()=>{d.value&&g.value&&await s.mobileToggleTrack(k.value,g.value)},x=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return Re(async()=>{f(),await Ze();const $=`deeperalbum_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.registerComponent($,a),console.log("Showing MobileDeeperAlbum component after registration:",$),h.showComponent($)}),qt(()=>{const $=`deeperalbum_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;h.unregisterComponent($),console.log("MobileDeeperAlbum unregistered:",$)}),($,S)=>(p(),b("div",{class:"mobile-deeper-album",ref_key:"componentRef",ref:a},[l("div",{class:"mobile-header"},[l("button",{class:"back-button",onClick:m},S[1]||(S[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24"},[ge("> "),l("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})],-1)])),S[2]||(S[2]=l("h2",{class:"header-title"},"Album Details",-1)),S[3]||(S[3]=l("div",{class:"header-spacer"},null,-1))]),l("div",Kp,[l("div",{class:B(["album-cover",y(c)]),style:ye(y(u)),onClick:T},[e.d.images&&e.d.images[0]?(p(),b("img",{key:0,src:e.d.images[0].url,alt:e.d.name,onError:S[0]||(S[0]=N=>N.target.style.display="none")},null,40,jp)):(p(),b("div",Wp,S[4]||(S[4]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010 1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010 1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1)]))),y(d)?(p(),b("audio",{key:2,preload:"metadata",src:y(g)},null,8,Qp)):E("",!0)],6),l("div",Gp,[l("h1",Xp,M(e.d.name),1),l("div",Jp,[S[5]||(S[5]=l("span",{class:"artists-label"},"By",-1)),l("div",Yp,[(p(!0),b(W,null,te(e.d.artists,(N,q)=>(p(),b("div",{key:q,class:"artist-item"},[e.d.artists.length>1&&e.d.artists.length-1===q?(p(),b("span",Zp,"&")):E("",!0),e.d.artists.length>=2&&e.d.artists.length-1!==q&&q!==0?(p(),b("span",eh,",")):E("",!0),l("button",{class:"artist-link",onClick:oe=>_(N)},M(N.name),9,th)]))),128))])])]),l("div",sh,[e.d.release_date?(p(),b("span",nh,[S[6]||(S[6]=l("span",{class:"meta-icon"},"",-1)),ge(" "+M(x(e.d.release_date)),1)])):E("",!0),i.value.length>0?(p(),b("span",oh,[S[7]||(S[7]=l("span",{class:"meta-icon"},"",-1)),ge(" "+M(i.value.length)+" tracks ",1)])):E("",!0)])]),l("div",lh,[S[8]||(S[8]=l("div",{class:"tracks-header"},[l("span",{class:"tracks-icon"},""),l("h3",{class:"tracks-title"},"Tracks")],-1)),l("div",rh,[(p(!0),b(W,null,te(i.value,N=>(p(),Y(ws,{key:N.id,track:N,num:e.num,onClick:w},null,8,["track","num"]))),128))])])],512))}},ah={class:"seed-content"},ch={class:"mobile-header"},uh={class:"seed-title"},dh={class:"title-text"},fh={class:"seed-actions"},ph=["title"],hh={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},mh={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},vh={class:"mobile-tracks-container"},gh={key:0,class:"empty-state"},yh={__name:"SeedArtistsMob",props:["d","num"],setup(e){const t=e,s=fe();_e();const n=Le(),o=he(),r=et();V();const i=V(""),a=V(null),c=Oe(),u=R(()=>{const v=t.d.tracks||[];return i.value?[...v].sort((f,m)=>{switch(i.value){case"track":return f.name.localeCompare(m.name);case"album":return f.album.name.localeCompare(m.album.name);case"artist":return f.artists[0].name.localeCompare(m.artists[0].name);case"popularity":return m.popularity-f.popularity;case"release_date":return new Date(m.album.release_date)-new Date(f.album.release_date);case"duration":return f.duration_ms-m.duration_ms;default:return 0}}):v}),d=async(v,f)=>{if(o.getIsGloballyLoading)return;const m=$e(t.num);await o.getTrackDetails(v,m,t.d.id),n.addToQueue(v)},g=()=>{s.reloadSA({num:t.num,id:t.d.id,name:t.d.name})},k=()=>{const v=`seed_artists_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.hideComponent(v),t.d.parentKey&&c.showComponent(t.d.parentKey)},h=()=>{r.toggleViewMode()};return Re(async()=>{await Ze();const v=`seed_artists_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.registerComponent(v,a),console.log("Showing SeedArtistsMob component after registration:",v),c.showComponent(v)}),qt(()=>{const v=`seed_artists_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.unregisterComponent(v),console.log("SeedArtistsMob component unregistered:",v)}),(v,f)=>(p(),b("div",{class:"mobile-seed-artists",ref_key:"componentRef",ref:a},[l("div",ah,[l("div",ch,[l("button",{class:"back-button",onClick:k},f[1]||(f[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24"},[l("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})],-1)])),l("div",uh,[f[2]||(f[2]=l("span",{class:"title-icon"},"",-1)),l("span",dh,"Recommended songs based on "+M(e.d.name),1)]),l("div",fh,[l("button",{class:"refresh-button",onClick:g},f[3]||(f[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"refresh-icon"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:h,title:y(r).viewMode==="list"?"Grid view":"List view"},[y(r).viewMode==="list"?(p(),b("svg",hh,f[4]||(f[4]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",mh,f[5]||(f[5]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,ph),be(l("select",{class:"sort-select","onUpdate:modelValue":f[0]||(f[0]=m=>i.value=m)},f[6]||(f[6]=[rt('<option value="">Initial</option><option value="artist">Sort by artist</option><option value="album">Sort by album</option><option value="duration">Sort by duration</option><option value="popularity">Sort by popularity</option><option value="release_date">Sort by release date</option><option value="track">Sort by track name</option>',7)]),512),[[vs,i.value]])])]),l("div",vh,[u.value.length===0?(p(),b("div",gh,f[7]||(f[7]=[l("div",{class:"empty-icon"},"",-1),l("h3",null,"No recommended tracks",-1),l("p",null,"Try refreshing to get new recommendations",-1)]))):(p(),b("div",{key:1,class:B(["releases-container",y(r).viewMode])},[(p(!0),b(W,null,te(u.value,m=>(p(),Y(ws,{key:m.id,track:m,num:e.num,"view-mode":y(r).viewMode,onClick:w=>d(m)},null,8,["track","num","view-mode","onClick"]))),128))],2))])])],512))}},bh={class:"seed-content"},wh={class:"mobile-header"},kh={class:"seed-title"},_h={class:"title-text"},Sh={class:"seed-actions"},Ah=["title"],$h={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ch={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Th={class:"mobile-tracks-container"},xh={key:0,class:"empty-state"},Ph={__name:"SeedTracksMob",props:["d","num"],setup(e){const t=e,s=fe();_e();const n=Le(),o=he(),r=et();V();const i=V(""),a=V(null),c=Oe(),u=R(()=>{const v=t.d.tracks||[];return i.value?[...v].sort((f,m)=>{switch(i.value){case"track":return f.name.localeCompare(m.name);case"album":return f.album.name.localeCompare(m.album.name);case"artist":return f.artists[0].name.localeCompare(m.artists[0].name);case"popularity":return m.popularity-f.popularity;case"release_date":return new Date(m.album.release_date)-new Date(f.album.release_date);case"duration":return f.duration_ms-m.duration_ms;default:return 0}}):v}),d=async(v,f)=>{if(o.getIsGloballyLoading)return;const m=$e(t.num);await o.getTrackDetails(v,m,t.d.id),n.addToQueue(v)},g=()=>{s.reloadST({num:t.num,id:t.d.id,name:t.d.name})},k=()=>{const v=`seed_tracks_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.hideComponent(v),t.d.parentKey&&c.showComponent(t.d.parentKey)},h=()=>{r.toggleViewMode()};return Re(async()=>{await Ze();const v=`seed_tracks_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.registerComponent(v,a),console.log("Showing SeedTracksMob component after registration:",v),c.showComponent(v)}),qt(()=>{const v=`seed_tracks_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.unregisterComponent(v),console.log("SeedTracksMob component unregistered:",v)}),(v,f)=>(p(),b("div",{class:"mobile-seed-tracks",ref_key:"componentRef",ref:a},[l("div",bh,[l("div",wh,[l("button",{class:"back-button",onClick:k},f[1]||(f[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24"},[ge("> "),l("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})],-1)])),l("div",kh,[f[2]||(f[2]=l("span",{class:"title-icon"},"",-1)),l("span",_h,"Recommended songs based on "+M(e.d.name),1)]),l("div",Sh,[l("button",{class:"refresh-button",onClick:g},f[3]||(f[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"refresh-icon"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:h,title:y(r).viewMode==="list"?"Grid view":"List view"},[y(r).viewMode==="list"?(p(),b("svg",$h,f[4]||(f[4]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",Ch,f[5]||(f[5]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,Ah),be(l("select",{class:"sort-select","onUpdate:modelValue":f[0]||(f[0]=m=>i.value=m)},f[6]||(f[6]=[rt('<option value="">Initial</option><option value="artist">Sort by artist</option><option value="album">Sort by album</option><option value="duration">Sort by duration</option><option value="popularity">Sort by popularity</option><option value="release_date">Sort by release date</option><option value="track">Sort by track name</option>',7)]),512),[[vs,i.value]])])]),l("div",Th,[u.value.length===0?(p(),b("div",xh,f[7]||(f[7]=[l("div",{class:"empty-icon"},"",-1),l("h3",null,"No recommended tracks",-1),l("p",null,"Try refreshing to get new recommendations",-1)]))):(p(),b("div",{key:1,class:B(["releases-container",y(r).viewMode])},[(p(!0),b(W,null,te(u.value,m=>(p(),Y(ws,{key:m.id,track:m,num:e.num,"view-mode":y(r).viewMode,onClick:w=>d(m)},null,8,["track","num","view-mode","onClick"]))),128))],2))])])],512))}},Mh={class:"rec_track"},Rh={__name:"RecTrackM",props:["num"],setup(e){const t=e,s=he();function n(){const o=$e(t.num);console.log(14,o);let r=s.getSectionData(o);console.log("RecTrack - Num:",t.num,"Section name:",o,"Data length:",r.length,"Data:",r),s.setCurrentSection(o);const i=r.map(a=>a.type);return console.log("RecTrack: Will render components of types:",i),r}return(o,r)=>(p(),b("div",Mh,[(p(!0),b(W,null,te(n(),(i,a)=>(p(),b(W,{key:`${i.type}_${i.id}${i.parentKey?`__p:${i.parentKey}__`:""}`},[i.type==="seed_tracks"?(p(),Y(Ph,{key:0,d:i,num:e.num},null,8,["d","num"])):i.type==="trackartist"?(p(),Y(Ap,{key:1,d:i,num:e.num},null,8,["d","num"])):i.type==="deepertracks"||i.type==="track"?(p(),Y(Up,{key:2,d:i,num:e.num},null,8,["d","num"])):i.type==="deeperalbum"?(p(),Y(ih,{key:3,d:i,num:e.num},null,8,["d","num"])):i.type==="seed_artists"?(p(),Y(yh,{key:4,d:i,num:e.num},null,8,["d","num"])):i.type==="deeperplaylist"?(p(),Y(x1,{key:5,d:i,num:e.num},null,8,["d","num"])):E("",!0)],64))),128))]))}},Lh={class:"playlists-page"},Eh={key:0,class:"loading-state"},Oh={key:1,class:"playlists-content"},Ih={class:"playlists-section"},Vh={__name:"SpotifyPlaylistsPage",setup(e){const t=fe(),s=he(),n=V(!1),o=V(null);V(null);const r=V(null);De();const i=async()=>{const d=t.getPlaylists&&t.getPlaylists.length>0,g=t.getSpotifyPlaylists&&t.getSpotifyPlaylists.length>0;if(d&&g){console.log("Using cached playlists data");return}n.value=!0,o.value=null;try{await Promise.all([d?Promise.resolve():t.fetchPlaylists(0),g?Promise.resolve():t.fetchSpotifyPlaylists(0)])}catch(k){o.value="Failed to load playlists",console.error("Error loading playlists:",k)}finally{n.value=!1}},a=async()=>{try{const d=t.getSpotifyPlaylists.length;await t.fetchSpotifyPlaylists(d)}catch(d){console.error("Failed to load more Spotify playlists:",d)}},c=async d=>{if(console.log("Spotify playlist arrow clicked:",d),d)try{await s.getPlaylistDetails(d,"spotifyPlaylists"),console.log("Playlist details fetched and added to section")}catch(g){console.error("Error fetching playlist details:",g)}},u=d=>{console.log("Searching for playlists:",d.target.value)};return Re(()=>{i()}),(d,g)=>(p(),b("div",Lh,[n.value?(p(),b("div",Eh,g[0]||(g[0]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading playlists...",-1)]))):(p(),b("div",Oh,[l("div",Ih,[j(Ei,{playlists:y(t).getSpotifyPlaylists,"selected-playlist":r.value,title:"Spotify Playlists",placeholder:"Search Spotify playlists...","items-per-page":10,onPlaylistArrowClick:c,onSearch:u,onLoadMore:a},null,8,["playlists","selected-playlist"])])]))]))}},Dh=Pe(Vh,[["__scopeId","data-v-016abd96"]]),zh="modulepreload",Hh=function(e){return"/"+e},Wl={},Fh=function(t,s,n){let o=Promise.resolve();if(s&&s.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=i(s.map(u=>{if(u=Hh(u),u in Wl)return;Wl[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const k=document.createElement("link");if(k.rel=d?"stylesheet":zh,d||(k.as="script"),k.crossOrigin="",k.href=u,c&&k.setAttribute("nonce",c),document.head.appendChild(k),d)return new Promise((h,v)=>{k.addEventListener("load",h),k.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};function Ii(e={}){const{message:t="Loading...",initialState:s=!1}=e,n=V(s),o=V(t),r=V(0),i=R(()=>n.value),a=R(()=>`${r.value}%`),c=h=>{n.value=!0,h&&(o.value=h),r.value=0},u=()=>{n.value=!1,r.value=100},d=h=>{r.value=Math.max(0,Math.min(100,h))};return{loading:n,loadingMessage:o,loadingProgress:r,isLoading:i,progressPercentage:a,startLoading:c,stopLoading:u,setProgress:d,withLoading:async(h,v={})=>{const{message:f,onProgress:m,onError:w}=v;try{c(f);const _=await h(T=>{m&&(d(T),m(T))});return u(),_}catch(_){if(u(),w)w(_);else throw console.error("Loading operation failed:",_),_}},withMultipleLoading:async(h,v={})=>{const{message:f,onProgress:m}=v;try{c(f);const w=h.length,_=[];for(let T=0;T<w;T++){const x=await h[T];_.push(x);const $=(T+1)/w*100;d($),m&&m($)}return u(),_}catch(w){throw u(),console.error("Multiple loading operations failed:",w),w}}}}const Bh={class:"mobile-top-tracks"},Nh={class:"section-header"},qh={class:"header-content"},Uh={class:"header-text"},Kh={class:"section-title"},jh={class:"header-actions"},Wh=["title"],Qh={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Gh={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Xh=["onClick"],Jh={class:"item-cover"},Yh=["src","alt"],Zh={key:1,class:"artist-placeholder"},em={class:"item-info"},tm={class:"item-name"},sm={key:0,class:"item-artist"},nm={key:1,class:"item-artist"},om={key:0,class:"empty-state"},Vi={__name:"MobileArtistDisplaySection",props:{artists:{type:Array,required:!0},title:{type:String,required:!0}},emits:["artist-click"],setup(e,{emit:t}){const s=fe();he();const n=et();V(!1),De(),V([]);const o=()=>{n.toggleViewMode()},r=async()=>{s.followedArtists=[],await loadFollowedArtists()},i=c=>c>=1e6?(c/1e6).toFixed(1)+"M":c>=1e3?(c/1e3).toFixed(1)+"K":c.toString(),a=c=>!c||c.length===0?"":c.slice(0,2).map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(", ");return(c,u)=>(p(),b("div",Bh,[l("div",Nh,[l("div",qh,[l("div",Uh,[l("h2",Kh,M(e.title),1)]),l("div",jh,[l("button",{class:"refresh-btn",onClick:r,title:"Refresh"},u[0]||(u[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:o,title:y(n).viewMode==="list"?"Grid view":"List view"},[y(n).viewMode==="list"?(p(),b("svg",Qh,u[1]||(u[1]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",Gh,u[2]||(u[2]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,Wh)])])]),l("div",{class:B(["releases-container",y(n).viewMode])},[(p(!0),b(W,null,te(e.artists,(d,g)=>(p(),b("div",{key:g,class:"search-item",onClick:k=>c.$emit("artist-click",d,k)},[l("div",Jh,[d.images&&d.images.length>0?(p(),b("img",{key:0,src:d.images[0].url,alt:d.name},null,8,Yh)):(p(),b("div",Zh,u[3]||(u[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z"})],-1)])))]),l("div",em,[l("div",tm,M(d.name),1),d.followers?(p(),b("div",sm,M(i(d.followers.total))+" followers ",1)):E("",!0),d.genres&&d.genres.length>0?(p(),b("div",nm,M(a(d.genres)),1)):E("",!0)])],8,Xh))),128))],2),e.artists.length?E("",!0):(p(),b("div",om,u[4]||(u[4]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M15.75 4.5a3 3 0 11.825 2.066l-8.421 4.679a3.002 3.002 0 010 1.51l8.421 4.679a3 3 0 11-.729 1.31l-8.421-4.678a3 3 0 110-4.132l8.421-4.679a3 3 0 01-.096-.755z","clip-rule":"evenodd"})])],-1),l("h4",null,"No followed artists",-1),l("p",null,"Start following your favorite artists to see them here",-1)])))]))}},lm={key:0,class:"progress-ring"},rm=["width","height"],im=["cx","cy","r","stroke-width"],am=["cx","cy","r","stroke-width","stroke-dasharray","stroke-dashoffset"],cm={key:0,class:"progress-text"},um={key:1,class:"spinner-ring"},dm={__name:"LoadingSpinner",props:{size:{type:Number,default:40},color:{type:String,default:"var(--active-tab, #007bff)"},backgroundColor:{type:String,default:"var(--item-border, #e9ecef)"},progress:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showProgressText:{type:Boolean,default:!1},strokeWidth:{type:Number,default:3}},setup(e){const t=e,s=R(()=>t.size<=24?"spinner-small":t.size<=32?"spinner-medium":t.size<=48?"spinner-large":"spinner-xl"),n=R(()=>({"--spinner-color":t.color,"--spinner-bg-color":t.backgroundColor,"--spinner-size":`${t.size}px`})),o=R(()=>t.size/2),r=R(()=>(t.size-t.strokeWidth)/2),i=R(()=>2*Math.PI*r.value),a=R(()=>i.value-t.progress/100*i.value);return(c,u)=>(p(),b("div",{class:B(["loading-spinner",s.value]),style:ye(n.value)},[e.showProgress?(p(),b("div",lm,[(p(),b("svg",{class:"progress-circle",width:e.size,height:e.size},[l("circle",{class:"progress-circle-bg",cx:o.value,cy:o.value,r:r.value,"stroke-width":e.strokeWidth},null,8,im),l("circle",{class:"progress-circle-fg",cx:o.value,cy:o.value,r:r.value,"stroke-width":e.strokeWidth,"stroke-dasharray":i.value,"stroke-dashoffset":a.value,style:ye({transformOrigin:`${o.value}px ${o.value}px`})},null,12,am)],8,rm)),e.showProgressText?(p(),b("div",cm,M(e.progress)+"% ",1)):E("",!0)])):(p(),b("div",um,[(p(),b(W,null,te(3,d=>l("div",{class:"spinner-dot",key:d,style:ye({animationDelay:`${d*.1}s`})},null,4)),64))]))],6))}},fm=Pe(dm,[["__scopeId","data-v-b263e1d3"]]),pm={class:"loading-content"},hm={key:0,class:"loading-text"},mm={key:1,class:"loading-details"},vm={key:2,class:"loading-actions"},gm={__name:"LoadingState",props:{message:{type:String,default:"Loading..."},details:{type:String,default:null},progress:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showProgressText:{type:Boolean,default:!1},spinnerSize:{type:Number,default:40},spinnerColor:{type:String,default:"var(--active-tab, #007bff)"},spinnerBackgroundColor:{type:String,default:"var(--item-border, #e9ecef)"},variant:{type:String,default:"default",validator:e=>["default","inline","fullscreen","minimal"]},overlay:{type:Boolean,default:!1},overlayClickable:{type:Boolean,default:!1},padding:{type:String,default:null},minHeight:{type:String,default:null}},emits:["overlay-click"],setup(e){const t=e,s=R(()=>`loading-${t.variant}`),n=R(()=>({"--loading-padding":t.padding,"--loading-min-height":t.minHeight}));return(o,r)=>(p(),b("div",{class:B(["loading-state",s.value]),style:ye(n.value)},[l("div",pm,[j(fm,{size:e.spinnerSize,color:e.spinnerColor,"background-color":e.spinnerBackgroundColor,progress:e.progress,"show-progress":e.showProgress,"show-progress-text":e.showProgressText},null,8,["size","color","background-color","progress","show-progress","show-progress-text"]),e.message||o.$slots.default?(p(),b("div",hm,[fo(o.$slots,"default",{},()=>[l("p",null,M(e.message),1)],!0)])):E("",!0),e.details?(p(),b("div",mm,[l("small",null,M(e.details),1)])):E("",!0),o.$slots.actions?(p(),b("div",vm,[fo(o.$slots,"actions",{},void 0,!0)])):E("",!0)]),e.overlay?(p(),b("div",{key:0,class:"loading-overlay",onClick:r[0]||(r[0]=i=>e.overlayClickable?o.$emit("overlay-click"):null)})):E("",!0)],6))}},Di=Pe(gm,[["__scopeId","data-v-cf8c984f"]]),ym={class:"mobile-top-tracks"},bm={class:"section-header"},wm={class:"time-range-selector"},km=["onClick"],_m={__name:"MobileTopArtists",setup(e){const t=fe();_e();const s=he(),n=et(),{setSelectedItem:o}=De(),{isLoading:r,loadingMessage:i,withLoading:a}=Ii({message:"Loading top artists..."}),c=V(1),u=R(()=>{switch(c.value){case 1:return t.getTopArtistsShort||[];case 2:return t.getTopArtistsMedium||[];case 3:return t.getTopArtistsLong||[];default:return t.getTopArtistsShort||[]}});R(()=>{switch(c.value){case 1:return"Last month";case 2:return"Last 6 months";case 3:return"All time";default:return"Last month"}});const d=async h=>{const v=h===1?"short_term":h===2?"medium_term":"long_term",f=v==="short_term"?"short":v==="medium_term"?"medium":"long",m=t[`getTopArtists${f.charAt(0).toUpperCase()+f.slice(1)}`];if(m&&m.length>0){console.log("Using cached top artists data for",v);return}try{await t.fetchTopArtists(v)}catch(w){console.error("Failed to load top artists:",w)}},g=async h=>{c.value=h,await a(async()=>{await d(h)},{message:"Loading top artists..."})},k=async(h,v)=>{o(h.id),await s.getArtistDetails(h,"topArtists");const{useVisibilityManager:m}=await Fh(async()=>{const{useVisibilityManager:T}=await Promise.resolve().then(()=>af);return{useVisibilityManager:T}},void 0),w=m(),_=`trackartist_${h.id}__p:topArtistsPage__`;w.showComponent(_),console.log("Showing deeper artist for:",h.name,"with key:",_)};return Re(async()=>{await a(async()=>{await d(c.value)},{message:"Loading your top artists..."})}),(h,v)=>(p(),b("div",ym,[l("div",bm,[l("div",wm,[(p(),b(W,null,te([{id:1,label:"Month"},{id:2,label:"6 Months"},{id:3,label:"All Time"}],f=>l("button",{key:f.id,class:B(["time-range-btn",{active:c.value===f.id}]),onClick:m=>g(f.id)},M(f.label),11,km)),64))])]),y(r)?(p(),Y(Di,{key:0,message:y(i),variant:"default"},null,8,["message"])):E("",!0),j(Vi,{title:"Top Artists",artists:u.value,"view-mode":y(n).viewMode,onArtistClick:k},null,8,["artists","view-mode"])]))}},Sm={},Am={style:{width:"100%"},id:"loader",class:"loading waitingForConnection"};function $m(e,t){return p(),b("div",Am,t[0]||(t[0]=[ge("Loading",-1),l("span",null,".",-1),l("span",null,".",-1),l("span",null,".",-1)]))}const xt=Pe(Sm,[["render",$m]]),Cm={class:"mobile-top-tracks"},Tm={class:"section-header"},xm={class:"time-range-selector"},Pm=["onClick"],Mm={class:"header-content"},Rm={class:"header-actions"},Lm=["title"],Em={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Om={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Im={key:0,class:"loading-state"},Vm={key:1,class:"section-content"},Dm={key:0,class:"empty-state"},zm={__name:"MobileTopTracks",setup(e){const t=fe(),s=_e(),n=Le(),o=he(),r=et(),{setSelectedItem:i}=De(),a=V(1),c=V(!1),u=R(()=>{switch(a.value){case 1:return t.getTopTracksShort||[];case 2:return t.getTopTracksMedium||[];case 3:return t.getTopTracksLong||[];default:return t.getTopTracksShort||[]}});R(()=>{switch(a.value){case 1:return"Last month";case 2:return"Last 6 months";case 3:return"All time";default:return"Last month"}});const d=async f=>{const m=f===1?"short_term":f===2?"medium_term":"long_term",w=m==="short_term"?"short":m==="medium_term"?"medium":"long",_=t[`getTopTracks${w.charAt(0).toUpperCase()+w.slice(1)}`];if(_&&_.length>0){console.log("Using cached top tracks data for",m);return}c.value=!0;try{await t.fetchTopTracks(m)}catch(T){console.error("Failed to load top tracks:",T)}finally{c.value=!1}},g=async f=>{a.value=f,await d(f)},k=async(f,m)=>{console.log("Track clicked:",f.name,"Preview URL:",f.preview_url||f.previewUrl),i(f.id),await o.getTrackDetails(f,"topTracks"),n.addToQueue(f);const w=f.preview_url||f.previewUrl;w?(console.log("Playing audio preview for:",f.name),await s.mobileToggleTrack(f.id,w)):console.log("No preview URL available for:",f.name)},h=async()=>{const f=a.value===1?"short_term":a.value===2?"medium_term":"long_term",m=f==="short_term"?"short":f==="medium_term"?"medium":"long";t[`topTracks.${m}`]=[],await d(a.value)},v=()=>{r.toggleViewMode()};return Re(async()=>{await d(a.value)}),(f,m)=>(p(),b("div",Cm,[l("div",Tm,[l("div",xm,[(p(),b(W,null,te([{id:1,label:"Month"},{id:2,label:"6 Months"},{id:3,label:"All Time"}],w=>l("button",{key:w.id,class:B(["time-range-btn",{active:a.value===w.id}]),onClick:_=>g(w.id)},M(w.label),11,Pm)),64))]),l("div",Mm,[m[3]||(m[3]=l("div",{class:"header-text"},[l("h2",{class:"section-title"},"Top Tracks")],-1)),l("div",Rm,[l("button",{class:"refresh-btn",onClick:h,title:"Refresh"},m[0]||(m[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:v,title:y(r).viewMode==="list"?"Grid view":"List view"},[y(r).viewMode==="list"?(p(),b("svg",Em,m[1]||(m[1]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",Om,m[2]||(m[2]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,Lm)])])]),c.value?(p(),b("div",Im,m[4]||(m[4]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading top tracks...",-1)]))):(p(),b("div",Vm,[u.value.length===0?(p(),b("div",Dm,m[5]||(m[5]=[l("div",{class:"empty-icon"},"",-1),l("h3",null,"No tracks found",-1),l("p",null,"Your top tracks will appear here",-1)]))):(p(),b("div",{key:1,class:B(["releases-container",y(r).viewMode])},[(p(!0),b(W,null,te(u.value,(w,_)=>(p(),Y(ws,{key:w.id,track:w,num:3,"view-mode":y(r).viewMode,onClick:k},null,8,["track","view-mode"]))),128))],2))]))]))}},Hm={class:"mobile-top-tracks"},Fm={key:0,class:"loading-state"},Bm={key:1,class:"new-releases-content"},Nm={class:"releases-section"},qm={__name:"MobileSavedAlbums",setup(e){const t=fe(),s=he();De();const n=V(!1),o=V(null),r=V([]),i=async()=>{if(t.getSavedAlbums&&t.getSavedAlbums.length>0){console.log("Using cached saved albums data"),r.value=t.getSavedAlbums.map(u=>u.album);return}n.value=!0;try{await t.fetchSavedAlbums(0),r.value=(t.getSavedAlbums||[]).map(u=>u.album)}catch(u){console.error("Failed to load saved albums:",u)}finally{n.value=!1}},a=async(u,d)=>{console.log("ReleaseSelect",u,d),o.value=u;const g=r.value.find(k=>k.id===u);console.log("Release selected:",g),g&&await s.getAlbumDetails(g,"savedAlbums")},c=async()=>{t.savedAlbums=[],await i()};return Re(async()=>{await i()}),(u,d)=>(p(),b("div",Hm,[n.value?(p(),b("div",Fm,d[0]||(d[0]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading saved albums...",-1)]))):(p(),b("div",Bm,[l("div",Nm,[j(Oi,{releases:r.value,"selected-release":o.value,title:"Saved Albums",placeholder:"Search releases...","items-per-page":20,onReleaseSelect:a,onRefresh:c},null,8,["releases","selected-release"])])]))]))}};function Ut(){const e=(d,g)=>{const k=[...d];switch(g){case"track":return k.sort((h,v)=>h.track.name.localeCompare(v.track.name));case"album":return k.sort((h,v)=>h.track.album.name.localeCompare(v.track.album.name));case"artist":return k.sort((h,v)=>h.track.artists[0].name.localeCompare(v.track.artists[0].name));case"popularity":return k.sort((h,v)=>h.track.popularity>v.track.popularity);case"release_date":return k.sort((h,v)=>h.track.album.release_date.localeCompare(v.track.album.release_date));case"duration":return k.sort((h,v)=>h.track.duration_ms>v.track.duration_ms);default:return k}},t=(d,g)=>{const k=[...d];switch(g){case"track":return k.sort((h,v)=>h.name.localeCompare(v.name));case"album":return k.sort((h,v)=>h.album.name.localeCompare(v.album.name));case"artist":return k.sort((h,v)=>h.artists[0].name.localeCompare(v.artists[0].name));case"popularity":return k.sort((h,v)=>h.popularity>v.popularity);case"release_date":return k.sort((h,v)=>h.album.release_date.localeCompare(v.album.release_date));case"duration":return k.sort((h,v)=>h.duration_ms>v.duration_ms);default:return k}},s=(d,g)=>{const k=[...d];switch(g){case"artist":return k.sort((h,v)=>h.name.localeCompare(v.name));case"popularity":return k.sort((h,v)=>h.popularity>v.popularity);case"followers":return k.sort((h,v)=>h.followers>v.followers);default:return k}},n=(d,g)=>{const k=[...d];switch(g){case"name":case"album":return k.sort((h,v)=>h.name.localeCompare(v.name));case"artist":return k.sort((h,v)=>h.artists[0].name.localeCompare(v.artists[0].name));case"popularity":return k.sort((h,v)=>h.popularity>v.popularity);case"release_date":return k.sort((h,v)=>h.release_date.localeCompare(v.release_date));case"number_of_tracks":return k.sort((h,v)=>h.total_tracks>v.total_tracks);default:return k}},o=(d,g)=>{const k=[...d];switch(g){case"name":case"album":return k.sort((h,v)=>h.album.name.localeCompare(v.album.name));case"artist":return k.sort((h,v)=>h.album.artists[0].name.localeCompare(v.album.artists[0].name));case"popularity":return k.sort((h,v)=>h.album.popularity>v.album.popularity);case"release_date":return k.sort((h,v)=>h.album.release_date.localeCompare(v.album.release_date));case"number_of_tracks":return k.sort((h,v)=>h.album.total_tracks>v.album.total_tracks);default:return k}};return{sortTracks:t,sortArtists:s,sortAlbums:o,createPlaylistTrackSorter:(d,g)=>R(()=>e(d.value,g.value)),createTrackSorter:(d,g)=>R(()=>t(d.value,g.value)),createArtistSorter:(d,g)=>R(()=>s(d.value,g.value)),createAlbumSorter:(d,g)=>R(()=>o(d.value,g.value)),createNewReleaseSorter:(d,g)=>R(()=>n(d.value,g.value))}}const Um={class:"mobile-followed-artists"},Km={__name:"MobileFollowedArtists",setup(e){const t=fe(),s=he(),n=et(),{createArtistSorter:o}=Ut(),{setSelectedItem:r}=De(),i=V(""),a=V(!1),c=V([]),u=async()=>{if(t.getFollowedArtists&&t.getFollowedArtists.length>0){console.log("Using cached followed artists data"),c.value=t.getFollowedArtists;return}a.value=!0;try{await t.fetchFollowedArtists(),c.value=t.getFollowedArtists||[]}catch(k){console.error("Failed to load followed artists:",k)}finally{a.value=!1}},d=async(k,h)=>{console.log("Artist clicked:",k.name,k),r(k.id);try{console.log("Getting artist details for followedArtists section..."),await s.getArtistDetails(k,"followedArtists"),console.log("Artist details loaded successfully")}catch(v){console.error("Failed to load artist details:",v)}},g=o(R(()=>{const k=t.getFollowedArtists||[];return console.log("Creating sorted items from:",k.length,"artists"),k}),i);return Re(async()=>{console.log("MobileFollowedArtists mounted, loading data..."),await u()}),(k,h)=>(p(),b("div",Um,[j(Vi,{title:"Followed Artists",artists:y(g),"view-mode":y(n).viewMode,onArtistClick:d},null,8,["artists","view-mode"])]))}},jm={class:"mobile-top-tracks"},Wm={class:"section-header"},Qm={class:"header-content"},Gm={class:"header-actions"},Xm=["title"],Jm={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Ym={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Zm={key:0,class:"loading-state"},e5={key:2,class:"empty-state"},t5={__name:"MobileSavedTracks",props:{num:{type:Number,default:5}},setup(e){const t=e,s=fe();_e();const n=Le(),o=he(),r=et(),{setSelectedItem:i}=De(),a=V(!1),c=V([]),u=async()=>{if(s.getSavedTracks&&s.getSavedTracks.length>0){console.log("Using cached saved tracks data"),c.value=s.getSavedTracks.map(h=>h.track);return}a.value=!0;try{await s.fetchSavedTracks(0),c.value=(s.getSavedTracks||[]).map(h=>h.track)}catch(h){console.error("Failed to load saved tracks:",h)}finally{a.value=!1}},d=async(h,v)=>{i(h.id),await o.getTrackDetails(h,"savedTracks"),n.addToQueue(h)},g=async()=>{s.savedTracks=[],await u()},k=()=>{r.toggleViewMode()};return Re(async()=>{await u()}),(h,v)=>(p(),b("div",jm,[l("div",Wm,[l("div",Qm,[v[3]||(v[3]=l("div",{class:"header-text"},[l("h2",{class:"section-title"},"Saved Tracks")],-1)),l("div",Gm,[l("button",{class:"refresh-btn",onClick:g,title:"Refresh"},v[0]||(v[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})],-1)])),l("button",{class:"view-toggle-btn",onClick:k,title:y(r).viewMode==="list"?"Grid view":"List view"},[y(r).viewMode==="list"?(p(),b("svg",Jm,v[1]||(v[1]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",Ym,v[2]||(v[2]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,Xm)])])]),a.value?(p(),b("div",Zm,v[4]||(v[4]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading saved tracks...",-1)]))):c.value.length>0?(p(),b("div",{key:1,class:B(["releases-container",y(r).viewMode])},[(p(!0),b(W,null,te(c.value.slice(0,10),f=>(p(),Y(ws,{key:f.id,track:f,num:t.num,onClick:d},null,8,["track","num"]))),128))],2)):(p(),b("div",e5,v[5]||(v[5]=[l("div",{class:"empty-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M6.32 2.577a49.255 49.255 0 0111.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 01-1.085.67L12 18.089l-7.165 3.583A.75.75 0 013.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93z","clip-rule":"evenodd"})])],-1),l("h4",null,"No saved tracks",-1),l("p",null,"Start saving your favorite tracks to see them here",-1)])))]))}},s5={class:"mobile-search-page"},n5={class:"search-header"},o5={class:"search-input-container"},l5={key:0,class:"loading-container"},r5={key:1,class:"search-results"},i5={class:"results-header"},a5={class:"results-info"},c5={class:"results-count"},u5={class:"header-actions"},d5=["title"],f5={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},p5={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},h5={key:0,class:"mobile-search-section"},m5=["onClick"],v5={class:"item-cover"},g5=["src","alt"],y5={class:"item-info"},b5={class:"item-name"},w5={class:"item-artist"},k5={key:1,class:"mobile-search-section"},_5=["onClick"],S5={class:"item-cover"},A5=["src","alt"],$5={class:"item-info"},C5={class:"item-name"},T5={class:"item-artist"},x5={key:2,class:"mobile-search-section"},P5=["onClick"],M5={class:"item-cover"},R5=["src","alt"],L5={class:"item-info"},E5={class:"item-name"},O5={class:"item-artist"},I5={key:3,class:"mobile-search-section"},V5=["onClick"],D5={class:"item-cover"},z5=["src","alt"],H5={class:"item-info"},F5={class:"item-name"},B5={class:"item-artist"},N5={key:2,class:"empty-state"},q5={key:3,class:"empty-state"},U5={__name:"MobileSearchPage",setup(e){const t=fe(),s=he(),n=Le(),o=et(),r=V(""),i=R(()=>t.getSearchTracks.length>0||t.getSearchArtists.length>0||t.getSearchAlbums.length>0||t.getSearchPlaylists.length>0),a=R(()=>t.getSearchTracks.length+t.getSearchArtists.length+t.getSearchAlbums.length+t.getSearchPlaylists.length),c=()=>{r.value.trim()&&t.search(r.value)},u=()=>{r.value="",t.clearSearchResults()},d=()=>{o.toggleViewMode()},g=async(f,m)=>{s.getIsGloballyLoading||(await s.getTrackDetails(f,"search"),n.addToQueue(f))},k=async(f,m)=>{s.getIsGloballyLoading||await s.getArtistDetails(f,"search")},h=async(f,m)=>{s.getIsGloballyLoading||await s.getAlbumDetails(f,"search")},v=async(f,m)=>{s.getIsGloballyLoading||await s.getPlaylistDetails(f,"search")};return(f,m)=>(p(),b("div",s5,[l("div",n5,[l("div",o5,[m[2]||(m[2]=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"search-icon"},[l("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})],-1)),be(l("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=w=>r.value=w),onInput:c,placeholder:"Search for songs, artists, albums...",class:"search-input"},null,544),[[js,r.value]]),r.value?(p(),b("button",{key:0,onClick:u,class:"clear-button"},m[1]||(m[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"clear-icon"},[l("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"})],-1)]))):E("",!0)])]),y(t).isLoading?(p(),b("div",l5,m[3]||(m[3]=[l("div",{class:"loading-spinner"},null,-1),l("p",{class:"loading-text"},"Searching...",-1)]))):i.value?(p(),b("div",r5,[l("div",i5,[l("div",a5,[m[4]||(m[4]=l("h3",{class:"results-title"},"Search Results",-1)),l("p",c5,M(a.value)+" results found",1)]),l("div",u5,[l("button",{class:"view-toggle-btn",onClick:d,title:y(o).viewMode==="list"?"Grid view":"List view"},[y(o).viewMode==="list"?(p(),b("svg",f5,m[5]||(m[5]=[l("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z","clip-rule":"evenodd"},null,-1)]))):(p(),b("svg",p5,m[6]||(m[6]=[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"},null,-1)])))],8,d5)])]),y(t).getSearchTracks.length>0?(p(),b("div",h5,[m[7]||(m[7]=l("h3",{class:"section-title"},"Songs",-1)),l("div",{class:B(["releases-container",y(o).viewMode])},[(p(!0),b(W,null,te(y(t).getSearchTracks,(w,_)=>{var T,x,$;return p(),b("div",{key:_,class:"search-item",onClick:S=>g(w)},[l("div",v5,[l("img",{src:(($=(x=(T=w.album)==null?void 0:T.images)==null?void 0:x[0])==null?void 0:$.url)||"/default-album.png",alt:w.name,class:"cover-image"},null,8,g5)]),l("div",y5,[l("div",b5,M(w.name),1),l("div",w5,M(w.artists.map(S=>S.name).join(", ")),1)])],8,m5)}),128))],2)])):E("",!0),y(t).getSearchArtists.length>0?(p(),b("div",k5,[m[8]||(m[8]=l("h3",{class:"section-title"},"Artists",-1)),l("div",{class:B(["releases-container",y(o).viewMode])},[(p(!0),b(W,null,te(y(t).getSearchArtists,(w,_)=>{var T,x,$;return p(),b("div",{key:_,class:"search-item",onClick:S=>k(w)},[l("div",S5,[l("img",{src:((x=(T=w.images)==null?void 0:T[0])==null?void 0:x.url)||"/default-artist.png",alt:w.name,class:"cover-image"},null,8,A5)]),l("div",$5,[l("div",C5,M(w.name),1),l("div",T5,M((($=w.genres)==null?void 0:$.slice(0,2).join(", "))||"Artist"),1)])],8,_5)}),128))],2)])):E("",!0),y(t).getSearchAlbums.length>0?(p(),b("div",x5,[m[9]||(m[9]=l("h3",{class:"section-title"},"Albums",-1)),l("div",{class:B(["releases-container",y(o).viewMode])},[(p(!0),b(W,null,te(y(t).getSearchAlbums,(w,_)=>{var T,x;return p(),b("div",{key:_,class:"search-item",onClick:$=>h(w)},[l("div",M5,[l("img",{src:((x=(T=w.images)==null?void 0:T[0])==null?void 0:x.url)||"/default-album.png",alt:w.name,class:"cover-image"},null,8,R5)]),l("div",L5,[l("div",E5,M(w.name),1),l("div",O5,M(w.artists.map($=>$.name).join(", ")),1)])],8,P5)}),128))],2)])):E("",!0),y(t).getSearchPlaylists.length>0?(p(),b("div",I5,[m[10]||(m[10]=l("h3",{class:"section-title"},"Playlists",-1)),l("div",{class:B(["releases-container",y(o).viewMode])},[(p(!0),b(W,null,te(y(t).getSearchPlaylists,(w,_)=>{var T,x,$;return p(),b("div",{key:_,class:"search-item",onClick:S=>v(w)},[l("div",D5,[l("img",{src:((x=(T=w.images)==null?void 0:T[0])==null?void 0:x.url)||"/default-playlist.png",alt:w.name,class:"cover-image"},null,8,z5)]),l("div",H5,[l("div",F5,M(w.name),1),l("div",B5,M((($=w.owner)==null?void 0:$.display_name)||"Playlist"),1)])],8,V5)}),128))],2)])):E("",!0)])):r.value&&!y(t).isLoading?(p(),b("div",N5,m[11]||(m[11]=[l("div",{class:"empty-state-icon"},"",-1),l("h3",{class:"empty-state-title"},"No results found",-1),l("p",{class:"empty-state-text"},"Try searching for something else",-1)]))):(p(),b("div",q5,m[12]||(m[12]=[l("div",{class:"empty-state-icon"},"",-1),l("h3",{class:"empty-state-title"},"Search Music",-1),l("p",{class:"empty-state-text"},"Find your favorite songs, artists, albums, and playlists",-1)])))]))}},K5={key:0,class:"global-preloader"},j5={__name:"GlobalPreloader",setup(e){const t=he(),s=R(()=>t.getIsGloballyLoading);return(n,o)=>s.value?(p(),b("div",K5,o[0]||(o[0]=[l("div",{class:"global-preloader-content"},[l("div",{class:"global-preloader-spinner"}),l("div",{class:"global-preloader-text"},"Loading...")],-1)]))):E("",!0)}},zi=Pe(j5,[["__scopeId","data-v-87bfed88"]]),W5={class:"mobile-layout"},Q5={class:"sidebar-navigation"},G5={class:"sidebar-section"},X5={class:"sidebar-section"},J5={class:"sidebar-section"},Y5={class:"sidebar-section"},Z5={class:"mobile-main"},ev={key:0},tv={key:1},sv={key:2},nv={key:3},ov={key:4},lv={key:5},rv={key:6},iv={key:7},av={key:8},cv={key:9},uv={key:10},dv={__name:"MobileLayout",emits:["search"],setup(e,{emit:t}){const s=V(0);V("");const n=V(!1),o=a=>{s.value=a},r=()=>{n.value=!n.value},i=()=>{n.value=!1};return(a,c)=>(p(),b("div",W5,[l("header",{class:"mobile-header"},[l("div",{class:"header-content"},[l("button",{class:"hamburger-button",onClick:r},c[11]||(c[11]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"hamburger-icon"},[l("path",{"fill-rule":"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})],-1)])),c[12]||(c[12]=rt('<div class="header-text"><h1 class="app-title"><img class="logo" src="'+si+'" alt="Discover Mobily"><span class="ps-2"> Discover Mobily </span></h1><p class="app-subtitle">Your music discovery companion</p></div>',1))])]),l("aside",{class:B(["mobile-sidebar",{"sidebar-open":n.value}])},[l("nav",Q5,[l("div",G5,[c[16]||(c[16]=l("h3",{class:"sidebar-section-title"},"Your Music",-1)),l("button",{class:B(["sidebar-nav-item",{active:s.value===1}]),onClick:c[0]||(c[0]=u=>{o(1),i()})},c[13]||(c[13]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"Playlists",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===2}]),onClick:c[1]||(c[1]=u=>{o(2),i()})},c[14]||(c[14]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"Top Artists",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===3}]),onClick:c[2]||(c[2]=u=>{o(3),i()})},c[15]||(c[15]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{d:"M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z"})],-1),l("span",{class:"sidebar-nav-label"},"Top Tracks",-1)]),2)]),l("div",X5,[c[20]||(c[20]=l("h3",{class:"sidebar-section-title"},"Library",-1)),l("button",{class:B(["sidebar-nav-item",{active:s.value===4}]),onClick:c[3]||(c[3]=u=>{o(4),i()})},c[17]||(c[17]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),l("path",{d:"M20.25 11.25v5.533c0 1.036-.84 1.875-1.875 1.875H5.625A1.875 1.875 0 013.75 16.783V11.25H2.25a.75.75 0 010-1.5h1.5V6.75c0-1.036.84-1.875 1.875-1.875h.75a.75.75 0 010 1.5h-.75a.375.375 0 00-.375.375v3.375h1.5a.75.75 0 010 1.5H3.75v5.533a.375.375 0 00.375.375h12.75a.375.375 0 00.375-.375V11.25h1.5a.75.75 0 010-1.5h-1.5V6.75a.375.375 0 00-.375-.375h-.75a.75.75 0 010-1.5h.75c1.036 0 1.875.84 1.875 1.875v3.375h1.5a.75.75 0 010 1.5z"})],-1),l("span",{class:"sidebar-nav-label"},"Saved Albums",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===5}]),onClick:c[4]||(c[4]=u=>{o(5),i()})},c[18]||(c[18]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{d:"M8.25 4.5a3.75 3.75 0 117.5 0v8.25a3.75 3.75 0 11-7.5 0V4.5z"}),l("path",{d:"M6 10.5a.75.75 0 01.75.75v1.5a5.25 5.25 0 1010.5 0v-1.5a.75.75 0 011.5 0v1.5a6.751 6.751 0 01-6 6.709v2.291h3a.75.75 0 010 1.5h-7.5a.75.75 0 010-1.5h3v-2.291a6.751 6.751 0 01-6-6.709v-1.5A.75.75 0 016 10.5z"})],-1),l("span",{class:"sidebar-nav-label"},"Saved Tracks",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===6}]),onClick:c[5]||(c[5]=u=>{o(6),i()})},c[19]||(c[19]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"Followed Artists",-1)]),2)]),l("div",J5,[c[24]||(c[24]=l("h3",{class:"sidebar-section-title"},"Discover",-1)),l("button",{class:B(["sidebar-nav-item",{active:s.value===0}]),onClick:c[6]||(c[6]=u=>{o(0),i()})},c[21]||(c[21]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"Search",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===7}]),onClick:c[7]||(c[7]=u=>{o(7),i()})},c[22]||(c[22]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"New Releases",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===8}]),onClick:c[8]||(c[8]=u=>{o(8),i()})},c[23]||(c[23]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"Spotify Playlists",-1)]),2)]),l("div",Y5,[c[27]||(c[27]=l("h3",{class:"sidebar-section-title"},"Settings",-1)),l("button",{class:B(["sidebar-nav-item",{active:s.value===12}]),onClick:c[9]||(c[9]=u=>{o(12),i()})},c[25]||(c[25]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z"})],-1),l("span",{class:"sidebar-nav-label"},"Queue",-1)]),2),l("button",{class:B(["sidebar-nav-item",{active:s.value===11}]),onClick:c[10]||(c[10]=u=>{o(11),i()})},c[26]||(c[26]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"sidebar-nav-icon"},[l("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z","clip-rule":"evenodd"})],-1),l("span",{class:"sidebar-nav-label"},"Profile",-1)]),2)])])],2),l("div",{class:B(["sidebar-overlay",{"overlay-active":n.value}]),onClick:i},null,2),l("main",Z5,[s.value===0?(p(),b("div",ev,[j(U5)])):s.value===1?(p(),b("div",tv,[j(O1)])):s.value===2?(p(),b("div",sv,[j(_m)])):s.value===3?(p(),b("div",nv,[j(zm)])):s.value===4?(p(),b("div",ov,[j(qm)])):s.value===5?(p(),b("div",lv,[j(t5)])):s.value===6?(p(),b("div",rv,[j(Km)])):s.value===7?(p(),b("div",iv,[j(h0)])):s.value===8?(p(),b("div",av,[j(Dh)])):E("",!0),s.value===11?(p(),b("div",cv,[j(Pu)])):s.value===12?(p(),b("div",uv,[fo(a.$slots,"queue",{},()=>[j(Vf)])])):E("",!0)]),j(Rh,{num:s.value},null,8,["num"]),j(zi)]))}};function fv(){const e=V("");return{search:e,clearSearch:()=>{e.value=""}}}const Ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAMlQTFRFAAAAfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19v5caSAAAAEN0Uk5TAA1w1vn834cYBQwSzf7//eGYjdc/BwM2m2/YGinwfu86C13ZjhsADgIETsZF0oxj5TyyMw+X9DJf5+Db+hYgoPb7tTQvpGkAAAB/SURBVHicLYjpGoFQAAVPCNE9FbKTbBVlV3bx/g+l+2V+zQwApVAsqeVKVasBdV1QGKRpNaDobLbsdscku+iJ/gDAcCRj7EwgcaezObTFEjmuBz/4O2wfq3WYpxdtsCV3+8wDiwcZzhE4ndU4wSW60rjdH4zDbD1f75T8fBPgB7lkDCCRTYbXAAAAAElFTkSuQmCC",Ht={__name:"SortTracks",props:ec(["full_width"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ko(e,"modelValue");return(s,n)=>(p(),b("div",{class:B(["sort-container py-2",{"w-100":e.full_width}])},[be(l("select",{class:"modern-select w-100","onUpdate:modelValue":n[0]||(n[0]=o=>t.value=o)},n[1]||(n[1]=[rt('<option value="">Initial</option><option value="artist">Sort by artist</option><option value="album">Sort by album</option><option value="duration">Sort by duration</option><option value="popularity">Sort by popularity</option><option value="release_date">Sort by release date</option><option value="track">Sort by track name</option>',7)]),512),[[vs,t.value]]),n[2]||(n[2]=l("div",{class:"select-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M7 10l5 5 5-5z"})])],-1))],2))}},pv={class:"seed-header"},hv={class:"seed-title"},mv={class:"title-text"},vv={class:"seed-actions"},gv={class:"tracks-container"},yv=["onMouseover","onMouseleave","onClick"],bv={class:"track-overlay"},wv={class:"track-info"},kv={class:"track-artists"},_v={class:"track-name"},Sv=["preload","src"],Av={__name:"SeedTracks",props:["d","num"],setup(e){const t=e,s=fe(),n=_e(),o=Le(),r=he(),i=V(),a=V(""),c=V(null),u=Oe(),d=R(()=>{const h=t.d.tracks||[];return a.value?[...h].sort((v,f)=>{switch(a.value){case"track":return v.name.localeCompare(f.name);case"album":return v.album.name.localeCompare(f.album.name);case"artist":return v.artists[0].name.localeCompare(f.artists[0].name);case"popularity":return f.popularity-v.popularity;case"release_date":return new Date(f.album.release_date)-new Date(v.album.release_date);case"duration":return v.duration_ms-f.duration_ms;default:return 0}}):h});function g(h){return ct(R(()=>h))}function k(h){i.value=h}return Re(async()=>{await Ze();const h=`seed_tracks_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;u.registerComponent(h,c),console.log("Showing SeedTracks component after registration:",h),u.showComponent(h)}),(h,v)=>(p(),b("div",{class:"modern-seed-tracks",ref_key:"componentRef",ref:c},[l("div",pv,[l("div",hv,[v[2]||(v[2]=l("span",{class:"title-icon"},"",-1)),l("span",mv,"Recommended songs based on "+M(e.d.name),1)]),l("div",vv,[l("button",{class:"refresh-button",onClick:v[0]||(v[0]=f=>y(s).reloadST({num:e.num,id:e.d.id,name:e.d.name}))},v[3]||(v[3]=[l("img",{class:"refresh-icon",src:Ys,alt:"Refresh"},null,-1)])),j(Ht,{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=f=>a.value=f)},null,8,["modelValue"])])]),l("div",gv,[(p(!0),b(W,null,te(d.value,(f,m)=>(p(),b("div",{key:m,class:B(["media-card",g(f).displayClass.value,i.value===f.id?"selected":""]),style:ye(g(f).backgroundStyle.value),onMouseover:w=>g(f).hasPreview.value&&y(n).handleAudioHover(w),onMouseleave:w=>g(f).hasPreview.value&&y(n).handleAudioLeave(w),onClick:w=>{k(f.id),y(r).getTrackDetails(f,y($e)(e.num),e.d.id),y(o).addToQueue(f)}},[l("div",bv,[l("div",wv,[l("div",kv,M(f.artists.map(w=>w.name).join(", ")),1),l("div",_v,M(f.name),1)])]),l("audio",{preload:g(f).audioPreload.value,src:g(f).audioSrc.value},null,8,Sv)],46,yv))),128))])],512))}},$v=Pe(Av,[["__scopeId","data-v-7722927c"]]),Cv={key:0,class:"artist-section"},Tv={class:"deeper-header"},xv={class:"cover-overlay"},Pv={class:"artist-name"},Mv=["preload","src"],Rv={class:"artist-info"},Lv={class:"artist-title"},Ev={class:"artist-stats"},Ov={class:"followers-count"},Iv={key:0,class:"genres-section"},Vv={class:"gnr-list"},Dv={key:0,class:"separator"},zv={key:1,class:"separator"},Hv=["onClick"],Fv={class:"artist-actions"},Bv=["href"],Nv={class:"follow-section"},qv={class:"follow-checkbox"},Uv={class:"info-section"},Kv={key:0,class:"section-header py-2"},jv={key:1,class:"tracks-grid"},Wv=["onMouseover","onMouseleave","onClick"],Qv={class:"track-overlay"},Gv={class:"track-name"},Xv=["preload","src"],Jv={key:2,class:"section-header py-2"},Yv={key:3,class:"albums-grid"},Zv=["onClick","onMouseover","onMouseleave"],eg={class:"album-overlay"},tg={class:"album-name"},sg=["preload","src"],ng={key:4,class:"section-header py-2"},og={key:5,class:"albums-grid"},lg=["onClick","onMouseover","onMouseleave"],rg={class:"album-overlay"},ig={class:"album-name"},ag=["preload","src"],cg={key:6,class:"section-header py-2"},ug={key:7,class:"albums-grid"},dg=["onClick","onMouseover","onMouseleave"],fg={class:"album-overlay"},pg={class:"album-name"},hg=["preload","src"],mg={key:8,class:"section-header py-2"},vg={key:9,class:"related-artists-grid"},gg=["onMouseover","onMouseleave","onClick"],yg={class:"artist-overlay"},bg={class:"artist-name"},wg=["preload","src"],kg={__name:"TrackArtist",props:["d","num"],setup(e){const t=e,s=fe(),n=_e(),o=Le(),r=he(),i=V(),a=V(null),c=Oe(),u=R(()=>t.d.data&&Array.isArray(t.d.data)&&t.d.data.find(_=>_.type==="trackartist")||t.d),d=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const w=t.d.data.find(_=>_.type==="top_tracks");return(w==null?void 0:w.tracks)||[]}return[]}),g=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const w=t.d.data.find(_=>_.type==="albums");return(w==null?void 0:w.items)||[]}return[]}),k=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const w=t.d.data.find(_=>_.type==="single");return(w==null?void 0:w.items)||[]}return[]}),h=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const w=t.d.data.find(_=>_.type==="appears_on");return(w==null?void 0:w.items)||[]}return[]}),v=R(()=>{if(t.d.data&&Array.isArray(t.d.data)){const w=t.d.data.find(_=>_.type==="related-artists");return(w==null?void 0:w.artists)||[]}return[]});function f(w){return ct(R(()=>w))}function m(w){i.value=w}return Re(async()=>{var _,T;await Ze(),console.log("TrackArtist component mounted with props:",t.d);const w=`trackartist_${((_=t.d)==null?void 0:_.id)||"default"}${(T=t.d)!=null&&T.parentKey?`__p:${t.d.parentKey}__`:""}`;console.log("Registering TrackArtist component with key:",w),c.registerComponent(w,a),console.log("Showing TrackArtist component after registration:",w),c.showComponent(w)}),(w,_)=>{var T,x,$;return p(),b("div",{class:"modern-track-artist",ref_key:"componentRef",ref:a},[u.value?(p(),b("div",Cv,[l("div",Tv,[l("div",{class:B(["artist-cover",f(u.value).displayClass.value]),style:ye(f(u.value).backgroundStyle.value),onMouseover:_[0]||(_[0]=S=>f(u.value).hasPreview.value&&y(n).handleAudioHover(S)),onMouseleave:_[1]||(_[1]=S=>f(u.value).hasPreview.value&&y(n).handleAudioLeave(S))},[l("div",xv,[l("div",Pv,M(u.value.name),1)]),l("audio",{preload:f(u.value).audioPreload.value,src:f(u.value).audioSrc.value},null,8,Mv)],38),l("div",Rv,[l("h2",Lv,M(u.value.name),1),l("div",Ev,[l("span",Ov,M((x=(T=u.value.followers)==null?void 0:T.total)==null?void 0:x.toLocaleString())+" followers",1)]),u.value.genres&&u.value.genres.length>0?(p(),b("div",Iv,[l("div",Vv,[(p(!0),b(W,null,te(u.value.genres,(S,N)=>(p(),b(W,{key:"genre-"+N},[u.value.genres.length>1&&u.value.genres.length-1===N?(p(),b("span",Dv,"&")):E("",!0),u.value.genres.length>=2&&u.value.genres.length-1!==N&&N!==0?(p(),b("span",zv,",")):E("",!0),l("button",{class:"genre-tag",onClick:q=>y(s).getTheSoundOf({name:S,num:e.num,sib:"trackartist",child:!1})},M(S),9,Hv)],64))),128))])])):E("",!0)]),l("div",Fv,[l("button",{class:"recommend-btn",onClick:_[2]||(_[2]=S=>y(r).getSeedArtistRecommendations(u.value,y($e)(e.num),e.d.id))},_[7]||(_[7]=[l("span",{class:"btn-icon"},"",-1),ge(" Recommended artists songs based on this ",-1)])),l("a",{class:"spotify-link",href:($=u.value.external_urls)==null?void 0:$.spotify,target:"_blank",rel:"noopener"},_[8]||(_[8]=[l("span",{class:"link-icon"},"",-1),ge(" Open in Spotify ",-1)]),8,Bv),l("div",Nv,[_[10]||(_[10]=l("span",{class:"follow-label"},"Follow",-1)),l("label",qv,[u.value.followed?be((p(),b("input",{key:0,type:"checkbox",onClickOnce:_[3]||(_[3]=S=>y(s).followArtist(u.value)),checked:"","onUpdate:modelValue":_[4]||(_[4]=S=>u.value.followed=S)},null,544)),[[Dt,u.value.followed]]):be((p(),b("input",{key:1,type:"checkbox",onClickOnce:_[5]||(_[5]=S=>y(s).followArtist(u.value)),"onUpdate:modelValue":_[6]||(_[6]=S=>u.value.followed=S)},null,544)),[[Dt,u.value.followed]]),_[9]||(_[9]=l("span",{class:"checkmark"},null,-1))])])])])])):E("",!0),l("div",Uv,[d.value.length>0?(p(),b("div",Kv,_[11]||(_[11]=[l("h3",{class:"section-title"},"Top tracks",-1)]))):E("",!0),d.value.length>0?(p(),b("div",jv,[(p(!0),b(W,null,te(d.value,(S,N)=>(p(),b("div",{key:N,class:B(["track-card",f(S).displayClass.value,i.value===S.id?"selected":""]),style:ye(f(S).backgroundStyle.value),onMouseover:q=>f(S).hasPreview.value&&y(n).handleAudioHover(q),onMouseleave:q=>f(S).hasPreview.value&&y(n).handleAudioLeave(q),onClick:q=>{m(S.id),y(r).getTrackDetails(S,y($e)(e.num),e.d.id),y(o).addToQueue(S)}},[l("div",Qv,[l("div",Gv,M(S.name),1)]),l("audio",{preload:f(S).audioPreload.value,src:f(S).audioSrc.value},null,8,Xv)],46,Wv))),128))])):E("",!0),g.value.length>0?(p(),b("div",Jv,_[12]||(_[12]=[l("h3",{class:"section-title"},"Albums",-1)]))):E("",!0),g.value.length>0?(p(),b("div",Yv,[(p(!0),b(W,null,te(g.value,(S,N)=>(p(),b("div",{key:N},[l("div",{class:B(["album-card",f(S).displayClass.value,i.value===S.id?"selected":""]),style:ye(f(S).backgroundStyle.value),onClick:q=>{m(S.id),y(r).getAlbumDetails(S,y($e)(e.num),e.d.id)},onMouseover:q=>f(S).hasPreview.value&&y(n).handleAudioHover(q),onMouseleave:q=>f(S).hasPreview.value&&y(n).handleAudioLeave(q)},[l("div",eg,[l("div",tg,M(S.name),1)]),l("audio",{preload:f(S).audioPreload.value,src:f(S).audioSrc.value},null,8,sg)],46,Zv)]))),128))])):E("",!0),k.value.length>0?(p(),b("div",ng,_[13]||(_[13]=[l("h3",{class:"section-title"},"Singles",-1)]))):E("",!0),k.value.length>0?(p(),b("div",og,[(p(!0),b(W,null,te(k.value,(S,N)=>(p(),b("div",{key:N},[l("div",{class:B(["album-card",f(S).displayClass.value,i.value===S.id?"selected":""]),style:ye(f(S).backgroundStyle.value),onClick:q=>{m(S.id),y(r).getAlbumDetails(S,y($e)(e.num),e.d.id)},onMouseover:q=>f(S).hasPreview.value&&y(n).handleAudioHover(q),onMouseleave:q=>f(S).hasPreview.value&&y(n).handleAudioLeave(q)},[l("div",rg,[l("div",ig,M(S.name),1)]),l("audio",{preload:f(S).audioPreload.value,src:f(S).audioSrc.value},null,8,ag)],46,lg)]))),128))])):E("",!0),h.value.length>0?(p(),b("div",cg,_[14]||(_[14]=[l("h3",{class:"section-title"},"Appears on",-1)]))):E("",!0),h.value.length>0?(p(),b("div",ug,[(p(!0),b(W,null,te(h.value,(S,N)=>(p(),b("div",{key:N},[l("div",{class:B(["album-card",f(S).displayClass.value,i.value===S.id?"selected":""]),style:ye(f(S).backgroundStyle.value),onClick:q=>{m(S.id),y(r).getAlbumDetails(S,y($e)(e.num),e.d.id)},onMouseover:q=>f(S).hasPreview.value&&y(n).handleAudioHover(q),onMouseleave:q=>f(S).hasPreview.value&&y(n).handleAudioLeave(q)},[l("div",fg,[l("div",pg,M(S.name),1)]),l("audio",{preload:f(S).audioPreload.value,src:f(S).audioSrc.value},null,8,hg)],46,dg)]))),128))])):E("",!0),v.value.length>0?(p(),b("div",mg,_[15]||(_[15]=[l("h3",{class:"section-title"},"Related Artists",-1)]))):E("",!0),v.value.length>0?(p(),b("div",vg,[(p(!0),b(W,null,te(v.value,(S,N)=>(p(),b("div",{key:N},[l("div",{class:B(["related-artist-card",f(S).displayClass.value,i.value===S.id?"selected":""]),style:ye(f(S).backgroundStyle.value),onMouseover:q=>f(S).hasPreview.value&&y(n).handleAudioHover(q),onMouseleave:q=>f(S).hasPreview.value&&y(n).handleAudioLeave(q),onClick:q=>{m(S.id),y(r).getArtistDetails(S,y($e)(e.num),e.d.id)}},[l("div",yg,[l("div",bg,M(S.name),1)]),l("audio",{preload:f(S).audioPreload.value,src:f(S).audioSrc.value},null,8,wg)],46,gg)]))),128))])):E("",!0)])],512)}}},_g={class:"track-overlay"},Sg={class:"track-info"},Ag={class:"track-name"},$g=["preload","src"],Un={__name:"TrackCover",props:["d","cover"],setup(e){const t=e,s=_e(),{displayClass:n,backgroundStyle:o,audioPreload:r,audioSrc:i,hasPreview:a}=ct(R(()=>t.d),R(()=>t.cover));return(c,u)=>(p(),b("div",{class:B(["artist-cover w-100",y(n)]),style:ye(y(o)),onMouseover:u[0]||(u[0]=d=>y(a)&&y(s).handleAudioHover(d)),onMouseleave:u[1]||(u[1]=d=>y(a)&&y(s).handleAudioLeave(d))},[l("div",_g,[l("div",Sg,[l("div",Ag,M(e.d.name),1)])]),l("audio",{preload:y(r),src:y(i)},null,8,$g)],38))}},Cg={key:1,class:"deeper-header p-4"},Tg={class:"track-title"},xg={class:"artists-section"},Pg={class:"artists-list"},Mg={key:0,class:"separator"},Rg={key:1,class:"separator"},Lg=["onClick"],Eg={class:"artist-actions"},Og=["href"],Ig={__name:"DeeperTracks",props:["d","num"],setup(e){const t=e;fe(),_e(),Le();const s=he();V();const n=V(null),o=V(null),r=V(!1),{isLoading:i,loadingMessage:a,withLoading:c}=Ii({message:"Loading track details..."}),u=Oe(),d=async()=>{try{s.setGlobalLoading(!0);const k=$e(t.num);await s.getSeedTrackRecommendations(t.d,k,t.d.id)}catch(k){console.error("Failed to get recommendations:",k),alert("Failed to load recommendations. Please try again.")}finally{s.setGlobalLoading(!1)}};function g(){console.log(t.d),t.d.album&&t.d.album.images?n.value=t.d.album.images[0]:t.d.images?n.value=t.d.images[0]:t.d.track&&t.d.track.album&&t.d.track.album.images&&t.d.track.album.images[0]&&(n.value=t.d.track.album.images[0]),console.log(n.value)}return Re(async()=>{await c(async()=>{var h,v;g(),await Ze();const k=`${t.d.type}_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;console.log("Registering component with ref:",o.value),console.log("Ref element:",(h=o.value)==null?void 0:h.tagName,(v=o.value)==null?void 0:v.className),console.log("Registering with key:",k),u.registerComponent(k,o),console.log("Showing component after registration:",k),u.showComponent(k)},{message:"Initializing track view..."})}),r.value=window.innerWidth<768,window.addEventListener("resize",()=>{r.value=window.innerWidth<768}),(k,h)=>{var v;return p(),b("div",{class:"modern-track-card",ref_key:"componentRef",ref:o},[y(i)?(p(),Y(Di,{key:0,message:y(a),variant:"default"},null,8,["message"])):(p(),b("div",Cg,[l("div",{class:B({"col-6":r.value})},[j(Un,{d:e.d,cover:n.value},null,8,["d","cover"])],2),l("div",{class:B(["track-info",{"col-6":r.value}])},[l("h3",Tg,M(e.d.name),1),l("div",xg,[h[0]||(h[0]=l("span",{class:"artists-label"},"By",-1)),l("div",Pg,[(p(!0),b(W,null,te(e.d.artists,(f,m)=>(p(),b("div",{key:m,class:"artist-item"},[e.d.artists.length>1&&e.d.artists.length-1===m?(p(),b("span",Mg,"&")):E("",!0),e.d.artists.length>=2&&e.d.artists.length-1!==m&&m!==0?(p(),b("span",Rg,",")):E("",!0),l("button",{class:"artist-link",onClick:w=>y(s).getArtistDetails(f,y($e)(e.num),e.d.id)},M(f.name),9,Lg)]))),128))])])],2),l("div",Eg,[l("button",{class:"recommend-btn",onClick:d},h[1]||(h[1]=[l("span",{class:"btn-icon"},"",-1),ge(" Recommended songs based on this ",-1)])),l("a",{class:"spotify-link",href:(v=e.d.external_urls)==null?void 0:v.spotify,target:"_blank",rel:"noopener"},h[2]||(h[2]=[l("span",{class:"link-icon"},"",-1),ge(" Open in Spotify ",-1)]),8,Og)])]))],512)}}},Vg=Pe(Ig,[["__scopeId","data-v-fd43f998"]]),Dg={class:"track-main"},zg={class:"track-info"},Hg={class:"track-title"},Fg={class:"artists-section"},Bg={class:"artists-list"},Ng={key:0,class:"separator"},qg={key:1,class:"separator"},Ug=["onClick"],Kg={class:"release-date"},jg={class:"tracks-section"},Wg={class:"tracks-container"},Qg=["onMouseover","onMouseleave","onClick"],Gg={class:"album-overlay"},Xg={class:"album-name"},Jg=["preload","src"],Yg={__name:"DeeperAlbum",props:["d","num"],setup(e){const t=e;fe();const s=_e(),n=Le(),o=he(),r=V(),i=V([]),a=V(null),c=Oe();function u(k){var h;return ct(R(()=>k),(h=t.d.images)==null?void 0:h[0])}function d(k){r.value=k}function g(){t.d.tracks&&t.d.tracks.items?i.value=t.d.tracks.items:t.d.tracks?i.value=t.d.tracks:t.d.items&&(i.value=t.d.items)}return Re(async()=>{g(),await Ze();const k=`deeperalbum_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;c.registerComponent(k,a),console.log("Showing DeeperAlbum component after registration:",k),c.showComponent(k)}),(k,h)=>(p(),b("div",{class:"modern-album-card",ref_key:"componentRef",ref:a},[l("div",Dg,[j(Un,{d:e.d,cover:e.d.images[0]},null,8,["d","cover"]),l("div",zg,[l("h3",Hg,M(e.d.name),1),l("div",Fg,[h[0]||(h[0]=l("span",{class:"artists-label"},"By",-1)),l("div",Bg,[(p(!0),b(W,null,te(e.d.artists,(v,f)=>(p(),b("div",{key:f,class:"artist-item"},[e.d.artists.length>1&&e.d.artists.length-1===f?(p(),b("span",Ng,"&")):E("",!0),e.d.artists.length>=2&&e.d.artists.length-1!==f&&f!==0?(p(),b("span",qg,",")):E("",!0),l("button",{class:"artist-link",onClick:m=>y(o).getArtistDetails(v,y($e)(e.num),e.d.id)},M(v.name),9,Ug)]))),128))])]),l("div",Kg,[h[1]||(h[1]=l("span",{class:"meta-icon"},"",-1)),l("span",null,M(e.d.release_date),1)]),h[2]||(h[2]=l("div",{class:"album-actions"},null,-1))])]),l("div",jg,[h[3]||(h[3]=l("div",{class:"tracks-header"},[l("span",{class:"tracks-icon"},""),l("h3",{class:"tracks-title"},"Tracks")],-1)),l("div",Wg,[(p(!0),b(W,null,te(i.value,(v,f)=>(p(),b("div",{key:f,class:B(["media-card",u(v).displayClass.value,r.value===v.id?"selected":""]),style:ye(u(v).backgroundStyle.value),onMouseover:m=>u(v).hasPreview.value&&y(s).handleAudioHover(m),onMouseleave:m=>u(v).hasPreview.value&&y(s).handleAudioLeave(m),onClick:m=>{d(v.id),y(o).getTrackDetails(v,y($e)(e.num),e.d.id),y(n).addToQueue(v)}},[l("div",Gg,[l("div",Xg,M(v.name),1)]),l("audio",{preload:u(v).audioPreload.value,src:u(v).audioSrc.value},null,8,Jg)],46,Qg))),128))])])],512))}},Zg=Pe(Yg,[["__scopeId","data-v-de1cc4cf"]]),ey={class:"seed-header"},ty={class:"seed-title"},sy={class:"title-text"},ny={class:"seed-actions"},oy={class:"mobile-tracks-container"},ly=["onMouseover","onMouseleave","onClick"],ry={class:"track-overlay"},iy={class:"track-info"},ay={class:"track-artists"},cy={class:"track-name"},uy=["preload","src"],dy={__name:"SeedArtists",props:["d","num"],setup(e){const t=e,s=fe(),n=_e(),o=Le(),r=he(),i=V(),a=V(""),c=V(null),u=Oe(),d=R(()=>{const h=t.d.tracks||[];return a.value?[...h].sort((v,f)=>{switch(a.value){case"track":return v.name.localeCompare(f.name);case"album":return v.album.name.localeCompare(f.album.name);case"artist":return v.artists[0].name.localeCompare(f.artists[0].name);case"popularity":return f.popularity-v.popularity;case"release_date":return new Date(f.album.release_date)-new Date(v.album.release_date);case"duration":return v.duration_ms-f.duration_ms;default:return 0}}):h});function g(h){return ct(R(()=>h))}function k(h){i.value=h}return Re(async()=>{await Ze();const h=`seed_artists_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;u.registerComponent(h,c),console.log("Showing SeedArtists component after registration:",h),u.showComponent(h)}),(h,v)=>(p(),b("div",{class:"modern-seed-artists",ref_key:"componentRef",ref:c},[l("div",ey,[l("div",ty,[v[2]||(v[2]=l("span",{class:"title-icon"},"",-1)),l("span",sy,"Recommended songs based on "+M(e.d.name),1)]),l("div",ny,[l("button",{class:"refresh-button",onClick:v[0]||(v[0]=f=>y(s).reloadSA({num:e.num,id:e.d.id,name:e.d.name}))},v[3]||(v[3]=[l("img",{class:"refresh-icon",src:Ys,alt:"Refresh"},null,-1)])),j(Ht,{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=f=>a.value=f)},null,8,["modelValue"])])]),l("div",oy,[(p(!0),b(W,null,te(d.value,(f,m)=>(p(),b("div",{key:m,class:B(["media-card",g(f).displayClass.value,i.value===f.id?"selected":""]),style:ye(g(f).backgroundStyle.value),onMouseover:w=>g(f).hasPreview.value&&y(n).handleAudioHover(w),onMouseleave:w=>g(f).hasPreview.value&&y(n).handleAudioLeave(w),onClick:w=>{k(f.id),y(r).getTrackDetails(f,y($e)(e.num),e.d.id),y(o).addToQueue(f)}},[l("div",ry,[l("div",iy,[l("div",ay,M(f.artists.map(w=>w.name).join(", ")),1),l("div",cy,M(f.name),1)])]),l("audio",{preload:g(f).audioPreload.value,src:g(f).audioSrc.value},null,8,uy)],46,ly))),128))])],512))}},fy=Pe(dy,[["__scopeId","data-v-04d9c111"]]),py={class:"playlist-title-section"},hy={class:"playlist-title"},my=["innerHTML"],vy={class:"follow-section"},gy={class:"follow-checkbox"},yy=["href"],by={class:"tracks-container"},wy=["onMouseover","onMouseleave","onClick"],ky={class:"track-overlay"},_y={class:"track-info"},Sy={class:"track-artists"},Ay={class:"track-name"},$y=["preload","src"],Cy={__name:"DeeperPlaylist",props:["d","num"],setup(e){var m;const t=e;fe();const s=_e(),n=Le(),o=he(),r=V(),i=V(""),a=V(null),c=V(!1),u=Oe(),d=R(()=>{var _;const w=((_=t.d.tracks)==null?void 0:_.items)||[];return i.value?[...w].sort((T,x)=>{const $=T.track,S=x.track;switch(i.value){case"track":return $.name.localeCompare(S.name);case"album":return $.album.name.localeCompare(S.album.name);case"artist":return $.artists[0].name.localeCompare(S.artists[0].name);case"popularity":return S.popularity-$.popularity;case"release_date":return new Date(S.album.release_date)-new Date($.album.release_date);case"duration":return $.duration_ms-S.duration_ms;default:return 0}}):w});function g(w){return ct(R(()=>w))}const{image:k,hasImage:h}=ct(R(()=>t.d),(m=t.images)==null?void 0:m[0]);function v(w){r.value=w}const f=w=>{emit("refresh",w)};return c.value=window.innerWidth<768,window.addEventListener("resize",()=>{c.value=window.innerWidth<768}),Re(()=>{const w=`deeperplaylist_${t.d.id}${t.d.parentKey?`__p:${t.d.parentKey}__`:""}`;u.registerComponent(w,a),a.value&&(a.value.style.display="none")}),(w,_)=>(p(),b(W,null,[l("div",{class:"modern-playlist-header row",ref_key:"componentRef",ref:a},[l("div",{class:B(["col-sm-6 col-md-6 col-lg-3",{"col-6":c.value}])},[y(h)?(p(),Y(Un,{key:0,d:e.d,cover:y(k)},null,8,["d","cover"])):E("",!0)],2),l("div",{class:B(["playlist-info col-sm-6 col-md-6 col-lg-6",{"col-6":c.value}])},[l("div",py,[l("h2",hy,M(e.d.name),1),l("button",{class:"refresh-button",onClick:f},_[2]||(_[2]=[l("img",{class:"refresh-icon",src:Ys,alt:"Refresh"},null,-1)]))]),l("div",{class:"playlist-description",innerHTML:e.d.description},null,8,my),l("div",vy,[_[4]||(_[4]=l("span",{class:"follow-label"},"Follow",-1)),l("label",gy,[be(l("input",{type:"checkbox","onUpdate:modelValue":_[0]||(_[0]=T=>e.d.followed=T),disabled:""},null,512),[[Dt,e.d.followed]]),_[3]||(_[3]=l("span",{class:"checkmark"},null,-1))])])],2),l("div",{class:B(["col-sm-12 col-md-12 col-lg-3",{"col-12":c.value}])},[l("a",{class:"spotify-link",href:e.d.external_urls.spotify,target:"_blank",rel:"noopener"},_[5]||(_[5]=[l("span",{class:"link-icon"},"",-1),ge(" Open in Spotify ",-1)]),8,yy),j(Ht,{modelValue:i.value,"onUpdate:modelValue":_[1]||(_[1]=T=>i.value=T),full_width:!0},null,8,["modelValue"])],2)],512),l("div",by,[(p(!0),b(W,null,te(d.value,(T,x)=>(p(),b("div",{key:x,class:B(["media-card",g(T.track).displayClass.value,r.value===T.track.id?"selected":""]),style:ye(g(T.track).backgroundStyle.value),onMouseover:$=>g(T.track).hasPreview.value&&y(s).handleAudioHover($),onMouseleave:$=>g(T.track).hasPreview.value&&y(s).handleAudioLeave($),onClick:$=>{v(T.track.id),y(o).getTrackDetails(T,y($e)(e.num),e.d.id),y(n).addToQueue(T.track)}},[l("div",ky,[l("div",_y,[l("div",Sy,M(T.track.artists.map($=>$.name).join(", ")),1),l("div",Ay,M(T.track.name),1)])]),l("audio",{preload:g(T.track).audioPreload.value,src:g(T.track).audioSrc.value},null,8,$y)],46,wy))),128))])],64))}},Ty=Pe(Cy,[["__scopeId","data-v-2263eaa4"]]),xy={class:"modern-recommendations"},Py={class:"rec_track"},My={__name:"RecTrack",props:["num"],setup(e){const t=e,s=he();function n(){const o=$e(t.num),r=s.getSectionData(o);console.log("RecTrack - Num:",t.num,"Section name:",o,"Data length:",r.length,"Data:",r),s.setCurrentSection(o);const i=r.map(a=>a.type);return console.log("RecTrack: Will render components of types:",i),r}return(o,r)=>(p(),b("div",xy,[l("div",Py,[(p(!0),b(W,null,te(n(),(i,a)=>(p(),b(W,{key:`${i.type}_${i.id}${i.parentKey?`__p:${i.parentKey}__`:""}`},[i.type==="seed_tracks"?(p(),Y($v,{key:0,d:i,num:e.num},null,8,["d","num"])):i.type==="trackartist"?(p(),Y(kg,{key:1,d:i,num:e.num},null,8,["d","num"])):i.type==="deepertracks"?(p(),Y(Vg,{key:2,d:i,num:e.num},null,8,["d","num"])):i.type==="deeperalbum"?(p(),Y(Zg,{key:3,d:i,num:e.num},null,8,["d","num"])):i.type==="seed_artists"?(p(),Y(fy,{key:4,d:i,num:e.num},null,8,["d","num"])):i.type==="deeperplaylist"?(p(),Y(Ty,{key:5,d:i,num:e.num},null,8,["d","num"])):E("",!0)],64))),128))])]))}},Ry={class:"modern-footer"},Ly={class:"footer-container"},Ey={class:"footer-content"},Oy={class:"footer-section"},Iy={class:"copyright"},Vy={__name:"Footer",setup(e){const t=new Date().getFullYear();return(s,n)=>(p(),b("footer",Ry,[l("div",Ly,[l("div",Ey,[l("div",Oy,[l("span",Iy," 2021-"+M(y(t))+" Discover Mobily",1)]),n[0]||(n[0]=rt('<div class="footer-section"><div class="footer-links"><span class="inspired-text">Inspired by</span><a href="https://discoverquickly.com/" class="inspiration-link" target="_blank" rel="noopener"> Discover Quickly </a></div></div><div class="footer-section"><a href="https://github.com/vitokorn/vue-quickly" class="github-link" target="_blank" rel="noopener" aria-label="View source code on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" fill="currentColor"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div>',2))])])]))}},Dy={class:"modern-tabs"},zy={class:"tabs-list"},Hy=["id","onClick"],Fy={class:"tab-content"},By={class:"tabs-tab-icon"},Ny={class:"tabs-tab-text"},qy={class:"tab-item search-tab",id:"srch"},Uy={class:"search-container"},Ky={__name:"ModernTabs",props:{selectedTab:{type:Number,required:!0}},emits:["tab-click","search"],setup(e,{emit:t}){const s=V(""),n=t,o=[{id:"option1",value:1,icon:"",text:"Your Playlists"},{id:"option2",value:2,icon:"",text:"Top Artists"},{id:"option3",value:3,icon:"",text:"Top Tracks"},{id:"option4",value:4,icon:"",text:"Saved Albums"},{id:"option5",value:5,icon:"",text:"Saved Tracks"},{id:"option6",value:6,icon:"",text:"Followed Artists"},{id:"option7",value:7,icon:"",text:"New Releases"},{id:"option8",value:8,icon:"",text:"Spotify Playlists"}],r=(a,c)=>{c.stopPropagation(),n("tab-click",a,c)},i=a=>{n("search",a)};return(a,c)=>(p(),b("nav",Dy,[l("ul",zy,[(p(),b(W,null,te(o,u=>l("li",{key:u.id,id:u.id,class:B(["tab-item",{active:e.selectedTab===u.value}]),onClick:d=>r(u.value,d)},[l("div",Fy,[l("span",By,M(u.icon),1),l("span",Ny,M(u.text),1)])],10,Hy)),64))]),l("li",qy,[l("div",Uy,[be(l("input",{type:"search",class:"modern-search","onUpdate:modelValue":c[0]||(c[0]=u=>s.value=u),onKeyup:i,placeholder:"Search music..."},null,544),[[js,s.value]]),c[1]||(c[1]=l("span",{class:"search-icon"},"",-1))])])]))}},jy={class:"track-overlay"},Wy={class:"track-info"},Qy={class:"track-artists"},Gy={class:"track-name"},Xy=["preload","src"],Jy={__name:"PlaylistTrackItem",props:{track:{type:Object,required:!0},trackItem:{type:Object,required:!0},selected:{type:Boolean,default:!1},unplayableTracks:{type:Boolean,default:!1}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,o=m=>ns.formatArtistNamesSimple(m),{hasPreview:r,hasImage:i,displayClass:a,backgroundStyle:c,audioPreload:u,audioSrc:d}=ct(R(()=>s.track)),g=m=>{n("click",s.trackItem,m)},k=m=>{n("hover",m)},h=m=>{n("leave",m)},v=R(()=>r.value&&i.value?!0:i.value&&!r.value?s.unplayableTracks:r.value&&!i.value?!0:s.unplayableTracks),f=R(()=>{const m="media-card",w=s.selected?"selected":"";return`${m} ${a.value} ${w}`.trim()});return(m,w)=>v.value?(p(),b("div",{key:0,tabindex:"0",class:B(f.value),style:ye(y(c)),onClick:wt(g,["stop"]),onMouseover:k,onMouseleave:h},[l("div",jy,[l("div",Wy,[l("div",Qy,M(o(e.track.artists)),1),l("div",Gy,M(e.track.name),1)])]),l("audio",{preload:y(u),src:y(d)},null,8,Xy)],38)):E("",!0)}},Yy=["id"],Zy={class:"modern-playlist-header row"},e2={class:"playlist-title-section"},t2={class:"playlist-title"},s2=["innerHTML"],n2=["href"],o2={key:0,class:"tracks-container"},Ql={__name:"Playlist",props:{playlist:{type:Object,required:!0},sortedTracks:{type:Array,default:()=>[]},selectedItem:{type:String,default:""},unplayableTracks:{type:Boolean,default:!1},trackPrefix:{type:String,default:"1"}},emits:["refresh","track-click","track-hover","track-leave","sort-change"],setup(e,{emit:t}){const s=e,n=V(""),o=V(!1),r=t,{image:i,hasImage:a}=ct(R(()=>s.playlist)),c=h=>{r("refresh",h)},u=(h,v)=>{r("track-click",h,v)},d=h=>{r("track-hover",h)},g=h=>{r("track-leave",h)},k=h=>{r("sort-change",h)};return o.value=window.innerWidth<768,window.addEventListener("resize",()=>{o.value=window.innerWidth<768}),(h,v)=>{var f;return p(),b("div",{class:"w-100",id:"p"+e.playlist.id},[l("div",Zy,[l("div",{class:B(["col-sm-6 col-md-6 col-lg-3",{"col-6":o.value}])},[y(a)?(p(),Y(Un,{key:0,d:e.playlist,cover:y(i)},null,8,["d","cover"])):E("",!0)],2),l("div",{class:B(["playlist-info col-sm-6 col-md-6 col-lg-6",{"col-6":o.value}])},[l("div",e2,[l("h2",t2,M(e.playlist.name),1),l("button",{class:"refresh-button",onClick:c},v[1]||(v[1]=[l("img",{class:"refresh-icon",src:Ys,alt:"Refresh"},null,-1)]))]),l("div",{class:"playlist-description",innerHTML:e.playlist.description},null,8,s2)],2),l("div",{class:B(["col-sm-12 col-md-12 col-lg-3",{"col-12":o.value}])},[l("a",{class:"spotify-link",href:(f=e.playlist.external_urls)==null?void 0:f.spotify,target:"_blank",rel:"noopener"},v[2]||(v[2]=[l("span",{class:"link-icon"},"",-1),ge(" Open in Spotify ",-1)]),8,n2),j(Ht,{modelValue:n.value,"onUpdate:modelValue":[v[0]||(v[0]=m=>n.value=m),k],full_width:!0},null,8,["modelValue"])],2)]),e.playlist.tracks?(p(),b("div",o2,[(p(!0),b(W,null,te(e.sortedTracks,(m,w)=>(p(),b(W,{key:w},[m.track?(p(),Y(Jy,{key:0,track:m.track,"track-item":m,selected:e.selectedItem===e.trackPrefix+m.track.id,"unplayable-tracks":e.unplayableTracks,onClick:u,onHover:d,onLeave:g},null,8,["track","track-item","selected","unplayable-tracks"])):E("",!0)],64))),128))])):E("",!0)],8,Yy)}}},l2=["disabled","title"],os={__name:"RefreshButton",props:{onClick:{type:Function,required:!0},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const s=e,n=t,o=i=>{s.disabled||(n("click",i),s.onClick(i))},r=R(()=>{const i="refresh-button",a=`refresh-button-${s.size}`,c=s.disabled?"disabled":"";return`${i} ${a} ${c}`.trim()});return(i,a)=>(p(),b("button",{class:B(r.value),onClick:o,disabled:e.disabled,title:e.disabled?"Loading...":"Refresh"},a[0]||(a[0]=[l("img",{class:"refresh-icon",src:Ys,alt:"Refresh"},null,-1)]),10,l2))}},r2={class:"playlist-selector"},i2={class:"p-2 flex-between-center"},a2={class:"grid-2-1"},c2={class:"ps-2"},u2=["placeholder","title"],d2={class:"playlists grid-auto-columns py-2 my-2"},f2=["id","onClick"],Gl={__name:"PlaylistSelector",props:{playlists:{type:Array,default:()=>[]},selectedPlaylist:{type:String,default:""},placeholder:{type:String,default:"Please enter a search term.."},title:{type:String,default:"Type in a name"}},emits:["playlist-select","search"],setup(e,{emit:t}){const s=e,n=t,o=V(""),r=fe(),i=R(()=>o.value?s.playlists.filter(u=>u.name.toLowerCase().includes(o.value.toLowerCase())):s.playlists),a=(u,d)=>{n("playlist-select",u,d)},c=u=>{o.value=u.target.value,n("search",u)};return(u,d)=>(p(),b("div",r2,[l("div",i2,[l("div",a2,[l("h4",null,M(e.title),1),l("div",c2,[j(os,{"on-click":()=>y(r).fetchPlaylists(0)},null,8,["on-click"])])]),be(l("input",{class:"playlist-search py-2 me-2",type:"text","onUpdate:modelValue":d[0]||(d[0]=g=>o.value=g),onInput:c,placeholder:e.placeholder,title:e.title},null,40,u2),[[js,o.value]])]),l("div",d2,[(p(!0),b(W,null,te(i.value,g=>(p(),b("div",{key:g.id,id:g.id,onClick:k=>a(g.id,k),class:B(["hr-line-dashed flex-center p-3",e.selectedPlaylist===g.id?"active_tab":""])},M(g.name),11,f2))),128))])]))}},p2={class:"track-overlay"},h2={class:"track-info"},m2={class:"track-artists"},v2={class:"track-name"},g2=["preload","src"],Hi={__name:"TrackItem",props:{track:{type:Object,required:!0},selected:{type:Boolean,default:!1},unplayableTracks:{type:Boolean,default:!1},trackPrefix:{type:String,default:""}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,o=m=>ns.formatArtistNamesSimple(m),{hasPreview:r,hasImage:i,displayClass:a,backgroundStyle:c,audioPreload:u,audioSrc:d}=ct(R(()=>s.track)),g=m=>{n("click",s.track,m)},k=m=>{n("hover",m)},h=m=>{n("leave",m)},v=R(()=>r.value&&i.value?!0:i.value&&!r.value?s.unplayableTracks:r.value&&!i.value?!0:s.unplayableTracks),f=R(()=>{const m="media-card",w=s.selected?"selected":"";return`${m} ${a.value} ${w}`.trim()});return(m,w)=>v.value?(p(),b("div",{key:0,tabindex:"0",class:B(f.value),style:ye(y(c)),onClick:wt(g,["stop"]),onMouseover:k,onMouseleave:h},[l("div",p2,[l("div",h2,[l("div",m2,M(o(e.track.artists)),1),l("div",v2,M(e.track.name),1)])]),l("audio",{preload:y(u),src:y(d)},null,8,g2)],38)):E("",!0)}},y2=["preload","src"],Fi={__name:"ArtistItem",props:{artist:{type:Object,required:!0},selected:{type:Boolean,default:!1},unplayableTracks:{type:Boolean,default:!1},artistPrefix:{type:String,default:""}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,{hasPreview:o,hasImage:r,displayClass:i,backgroundStyle:a,audioPreload:c,audioSrc:u}=ct(R(()=>s.artist)),d=f=>{n("click",s.artist,f)},g=f=>{n("hover",f)},k=f=>{n("leave",f)},h=R(()=>o.value&&r.value?!0:r.value&&!o.value?s.unplayableTracks:o.value&&!r.value?!0:s.unplayableTracks),v=R(()=>{const f="media-card",m=s.selected?"selected":"";return`${f} ${i.value} ${m}`.trim()});return(f,m)=>h.value?(p(),b("div",{key:0,tabindex:"0",class:B(v.value),style:ye(y(a)),onClick:wt(d,["stop"]),onMouseover:g,onMouseleave:k},[ge(M(e.artist.name)+" ",1),l("audio",{preload:y(c),src:y(u)},null,8,y2)],38)):E("",!0)}},b2=["id"],w2={class:"search-result-text"},k2=["src"],_2=["id"],S2={class:"search-result-text"},A2=["id"],$2={class:"search-result-text"},C2={__name:"SearchResultItem",props:{item:{type:Object,required:!0},type:{type:String,required:!0,validator:e=>["song","artist","album","playlist"].includes(e)},selected:{type:Boolean,default:!1},unplayableTracks:{type:Boolean,default:!1}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,o=m=>ns.formatArtistNamesSimple(m),r=m=>{n("click",s.item,m)},i=m=>{n("hover",m)},a=m=>{n("leave",m)},c=R(()=>s.type==="song"||s.type==="artist"?s.item.preview_url:!1),u=R(()=>s.type==="song"?s.item.album&&s.item.album.images&&s.item.album.images[0]:s.type==="artist"?s.item.images&&s.item.images[1]:s.type==="album"||s.type==="playlist"?s.item.images&&s.item.images[0]:!1),d=R(()=>s.type==="song"&&u.value?s.item.album.images[0].url:s.type==="artist"&&u.value?s.item.images[1].url:(s.type==="album"||s.type==="playlist")&&u.value?s.item.images[0].url:""),g=R(()=>s.type==="song"?`${o(s.item.artists)} - ${s.item.name}`:s.type==="artist"?s.item.name:s.type==="album"?`${o(s.item.artists)} - ${s.item.name}`:s.type==="playlist"?s.item.name:""),k=R(()=>`${s.type}${s.item.id}`),h=R(()=>{const m="search-result-item",w=s.selected?"search-result-item--selected":"",_=!c.value&&s.unplayableTracks?"search-result-item--disabled":"";return`${m} ${w} ${_}`.trim()}),v=R(()=>u.value?{"background-image":`url(${d.value})`}:{}),f=R(()=>c.value?s.item.preview_url:"");return R(()=>c.value?!0:u.value&&!c.value?s.unplayableTracks:!0),(m,w)=>c.value?(p(),b("div",{key:0,tabindex:"0",class:B(h.value),id:k.value,onClick:r},[l("div",{class:"search-result-content",onMouseenter:i,onMouseleave:a},[l("div",{class:"search-result-image",style:ye(v.value)},null,4),l("div",w2,M(g.value),1)],32),l("audio",{preload:"auto",src:f.value},null,8,k2)],10,b2)):u.value&&e.unplayableTracks?(p(),b("div",{key:1,tabindex:"0",class:B(h.value),id:k.value,onClick:r},[l("div",{class:"search-result-content",onMouseenter:i,onMouseleave:a},[l("div",{class:"search-result-image",style:ye([v.value,{opacity:"0.5"}])},null,4),l("div",S2,M(g.value),1)],32),w[0]||(w[0]=l("audio",{preload:"auto"},null,-1))],10,_2)):(p(),b("div",{key:2,tabindex:"0",class:B(h.value),id:k.value,onClick:r},[l("div",{class:"search-result-content",onMouseenter:i,onMouseleave:a},[w[1]||(w[1]=l("div",{class:"search-result-image search-result-image--placeholder"},null,-1)),l("div",$2,M(g.value),1)],32)],10,A2))}},T2={class:"search-category"},x2={class:"search-category-title"},P2={class:"search-category-items"},on={__name:"SearchCategory",props:{title:{type:String,required:!0},items:{type:Array,required:!0},type:{type:String,required:!0,validator:e=>["song","artist","album","playlist"].includes(e)},selectedItem:{type:String,default:""},unplayableTracks:{type:Boolean,default:!1}},emits:["item-click","item-hover","item-leave"],setup(e,{emit:t}){const s=t,n=(i,a)=>{s("item-click",i,a)},o=i=>{s("item-hover",i)},r=i=>{s("item-leave",i)};return(i,a)=>(p(),b("div",T2,[l("h3",x2,M(e.title),1),l("div",P2,[(p(!0),b(W,null,te(e.items,(c,u)=>(p(),b("div",{key:u,class:"search-item-wrapper"},[j(C2,{item:c,type:e.type,selected:e.selectedItem===`${e.type}${c.id}`,"unplayable-tracks":e.unplayableTracks,onClick:n,onHover:o,onLeave:r},null,8,["item","type","selected","unplayable-tracks"])]))),128))])]))}},M2={__name:"WelcomeModal",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const s=t,n=()=>{s("close")},o=()=>{s("close")};return(r,i)=>e.isVisible?(p(),b("div",{key:0,class:"welcome-modal-overlay",onClick:o},[l("div",{class:"welcome-modal",onClick:i[0]||(i[0]=wt(()=>{},["stop"]))},[i[1]||(i[1]=rt('<div class="modal-header" data-v-92b59fe7><h1 class="modal-title" data-v-92b59fe7>Welcome back!</h1><p class="modal-subtitle" data-v-92b59fe7>Just a reminder... this website plays (lots of) music.</p></div><div class="interactive-instructions" data-v-92b59fe7><div class="instruction-column" data-v-92b59fe7><div class="instruction-icon" data-v-92b59fe7><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-92b59fe7><path d="M3 3L21 12L3 21V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-92b59fe7></path></svg></div><div class="instruction-text" data-v-92b59fe7><span class="instruction-label" data-v-92b59fe7>Hover</span><span class="instruction-description" data-v-92b59fe7>to listen</span></div></div><div class="instruction-column" data-v-92b59fe7><div class="instruction-icon" data-v-92b59fe7><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-92b59fe7><path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-92b59fe7></path><path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" data-v-92b59fe7></path></svg></div><div class="instruction-text" data-v-92b59fe7><span class="instruction-label" data-v-92b59fe7>Click</span><span class="instruction-description" data-v-92b59fe7>to dig deeper</span></div></div><div class="instruction-column" data-v-92b59fe7><div class="instruction-icon" data-v-92b59fe7><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-92b59fe7><path d="M12 5V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-92b59fe7></path><path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-92b59fe7></path></svg></div><div class="instruction-text" data-v-92b59fe7><span class="instruction-label" data-v-92b59fe7>Save</span><span class="instruction-description" data-v-92b59fe7>to build your collection</span></div></div></div><div class="intro-text" data-v-92b59fe7><p class="intro-paragraph" data-v-92b59fe7> Start with <strong data-v-92b59fe7>something you know</strong>, like your top tracks or favorite playlist. Or a <strong data-v-92b59fe7>Spotify recommendation</strong>, like Discover Weekly or Release Radar. Or a <strong data-v-92b59fe7>completely random</strong> genre or artist... whatever strikes your fancy. </p><p class="intro-paragraph highlight" data-v-92b59fe7> Then follow your ears to find new music you love. </p></div>',3)),l("div",{class:"cta-section"},[l("button",{class:"cta-button",onClick:n}," JUMP IN ")])])])):E("",!0)}},R2=Pe(M2,[["__scopeId","data-v-92b59fe7"]]),L2={},E2={href:"spotify/login"};function O2(e,t){return p(),b("a",E2,t[0]||(t[0]=[l("button",{class:"inp"},"Login",-1)]))}const I2=Pe(L2,[["render",O2]]);function Xl(){let e=document.cookie.replace(/(?:(?:^|.*;\s*)access_token\s*\=\s*([^;]*).*$)|^.*$/,"$1");return e.length===0&&localStorage.removeItem("queue"),e.length!==0}function Bi(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(console.log("54 prefered dark"),"dark"):localStorage.getItem("user-theme")?localStorage.getItem("user-theme"):"dq"}const V2={class:"settings-container"},D2={key:0,class:"settings-menu"},z2={class:"settings-section"},H2={class:"setting-item"},F2={class:"setting-label"},B2={class:"setting-item"},N2={class:"setting-label"},q2={class:"setting-item"},U2={class:"setting-label"},K2={class:"setting-item"},j2={class:"setting-label"},W2={class:"settings-section"},Q2={__name:"Settings",setup(e){const t=V(!1),s=_e(),n=()=>{t.value=!t.value},o=()=>{localStorage.clear(),window.location.reload()},r=()=>{localStorage.removeItem("welcome-modal-seen"),window.location.reload()};return(i,a)=>(p(),b("div",V2,[l("button",{class:"settings-toggle",onClick:n},a[8]||(a[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),l("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z","clip-rule":"evenodd"})],-1)])),t.value?(p(),b("div",D2,[l("div",z2,[a[13]||(a[13]=l("h3",null,"Audio Settings",-1)),l("div",H2,[l("label",F2,[be(l("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=c=>y(s).audioPreview=c),onChange:a[1]||(a[1]=c=>y(s).setAudioPreview(c.target.checked))},null,544),[[Dt,y(s).audioPreview]]),a[9]||(a[9]=l("span",{class:"setting-text"},"Audio Preview",-1))])]),l("div",B2,[l("label",N2,[be(l("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=c=>y(s).restartSongOnHover=c),onChange:a[3]||(a[3]=c=>y(s).setRestartSongOnHover(c.target.checked))},null,544),[[Dt,y(s).restartSongOnHover]]),a[10]||(a[10]=l("span",{class:"setting-text"},"Restart song on hover",-1))])]),l("div",q2,[l("label",U2,[be(l("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=c=>y(s).unplayableTracks=c),onChange:a[5]||(a[5]=c=>y(s).setUnplayableTracks(c.target.checked))},null,544),[[Dt,y(s).unplayableTracks]]),a[11]||(a[11]=l("span",{class:"setting-text"},"Show unplayable tracks",-1))])]),l("div",K2,[l("label",j2,[be(l("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=c=>y(s).openLinks=c),onChange:a[7]||(a[7]=c=>y(s).setOpenLinks(c.target.checked))},null,544),[[Dt,y(s).openLinks]]),a[12]||(a[12]=l("span",{class:"setting-text"},"Open links in new tab",-1))])])]),l("div",{class:"settings-section"},[a[16]||(a[16]=l("h3",null,"Actions",-1)),l("button",{class:"action-button",onClick:o},a[14]||(a[14]=[l("span",{class:"action-icon"},"",-1),l("span",{class:"action-text"},"Clear Cache",-1)])),l("button",{class:"action-button",onClick:r},a[15]||(a[15]=[l("span",{class:"action-icon"},"",-1),l("span",{class:"action-text"},"Show Welcome Modal",-1)]))]),l("div",W2,[j(ni)])])):E("",!0)]))}};function To(){const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.innerWidth<=768;if("userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.mobile;const s=navigator.userAgent||navigator.vendor||window.opera||"",n=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile|tablet|silk|kindle|playbook|bb10|meego|fennec|minimo|symbian|psp|nintendo|wii|palm|phone|mobile\s*safari|opera\s*mobi|windows\s*phone|bada|tizen|sailfish|ubuntu\s*touch|firefox\s*mobile|chrome\s*mobile|samsung|huawei|xiaomi|oppo|vivo|oneplus|lg\-|motorola|nokia|htc\-|sony|asus|acer|lenovo|alcatel|zte|tcl|realme|honor|redmi/i,o=[/iPhone|iPad|iPod/i,/Android.+Mobile|Android.+Tablet/i,/Windows Phone|WPDesktop/i,/BlackBerry|PlayBook|BB10/i,/Opera Mini|Opera Mobi/i,/Mobile.*Firefox|FxiOS/i,/CriOS|Chrome.*Mobile|Chrome.*Tablet/i,/Edge.*Mobile|EdgiOS/i,/Samsung.*Mobile|SM-[A-Z]/i,/Huawei|Honor|HMA-|LYA-|SNE-/i,/Xiaomi|Mi\s|Redmi|M2\d{3}/i,/OnePlus|ONEPLUS/i,/OPPO|CPH\d{4}|PBCM30|PBEM00/i,/vivo|V\d{4}|PD\d{4}/i,/LG-|LM-|VS\d{3}|H\d{3}/i,/Pixel|Nexus/i,/Tesla/i];if(n.test(s))return console.log("Mobile detected via main regex"),!0;for(const a of o)if(a.test(s))return console.log("Mobile detected via modern pattern:",a),!0;return/tablet|ipad|playbook|silk|android(?!.*mobile)/i.test(s)?(console.log("Tablet detected"),!0):e&&t?(console.log("Mobile detected via touch + screen size fallback"),!0):e&&(window.screen.width<=1024||window.innerWidth<=1024)&&"orientation"in window?(console.log("Mobile detected via feature detection fallback"),!0):(console.log("Desktop detected"),!1)}const G2={class:"modern-header"},X2={class:"header-container"},J2={class:"theme-switcher"},Y2={class:"theme-option"},Z2={class:"theme-option"},e3={class:"theme-option"},t3={class:"theme-option"},s3={class:"user-section"},n3={key:0,class:"user-greeting"},o3={class:"username"},l3={class:"user-actions"},r3={key:0,class:"queue-badge"},i3={__name:"Header",setup(e){const t=Le(),s=Bi();let n=document.cookie.replace(/(?:(?:^|.*;\s*)nickname\s*\=\s*([^;]*).*$)|^.*$/,"$1"),o=V(localStorage.getItem("user-theme"));const r=V(!1);i(s);function i(a){localStorage.setItem("user-theme",a),o.value=a,document.documentElement.className=a}return window.addEventListener("resize",()=>{r.value=window.innerWidth<1076}),(a,c)=>(p(),b("header",G2,[l("div",X2,[c[15]||(c[15]=l("div",{class:"brand-section"},[l("div",{class:"logo-container"},[l("img",{class:"logo",src:si,alt:"Discover Mobily"})]),l("h1",{class:"brand-title"},"Discover Mobily")],-1)),l("div",{class:B(["theme-section",r.value||y(To)()?"mobile-themes":"desktop-themes"])},[l("div",J2,[l("div",Y2,[be(l("input",{id:"light",type:"radio","onUpdate:modelValue":c[0]||(c[0]=u=>Te(o)?o.value=u:o=u),value:"light",onClick:c[1]||(c[1]=u=>i("light"))},null,512),[[nn,y(o)]]),c[9]||(c[9]=l("label",{for:"light",class:"theme-label"},[l("div",{class:"theme-preview light-theme"}),l("span",{class:"theme-name"},"Light")],-1))]),l("div",Z2,[be(l("input",{id:"dark",type:"radio","onUpdate:modelValue":c[2]||(c[2]=u=>Te(o)?o.value=u:o=u),value:"dark",onClick:c[3]||(c[3]=u=>i("dark"))},null,512),[[nn,y(o)]]),c[10]||(c[10]=l("label",{for:"dark",class:"theme-label"},[l("div",{class:"theme-preview dark-theme"}),l("span",{class:"theme-name"},"Dark")],-1))]),l("div",e3,[be(l("input",{id:"dark-blue",type:"radio","onUpdate:modelValue":c[4]||(c[4]=u=>Te(o)?o.value=u:o=u),value:"dark-blue",onClick:c[5]||(c[5]=u=>i("dark-blue"))},null,512),[[nn,y(o)]]),c[11]||(c[11]=l("label",{for:"dark-blue",class:"theme-label"},[l("div",{class:"theme-preview dark-blue-theme"}),l("span",{class:"theme-name"},"Blue")],-1))]),l("div",t3,[be(l("input",{id:"dq",type:"radio","onUpdate:modelValue":c[6]||(c[6]=u=>Te(o)?o.value=u:o=u),value:"dq",onClick:c[7]||(c[7]=u=>i("dq"))},null,512),[[nn,y(o)]]),c[12]||(c[12]=l("label",{for:"dq",class:"theme-label"},[l("div",{class:"theme-preview dq-theme"}),l("span",{class:"theme-name"},"DQ")],-1))])])],2),l("div",s3,[y(Xl)()?(p(),b("div",n3,[c[13]||(c[13]=l("span",{class:"greeting-text"},"Hello,",-1)),l("span",o3,M(y(n)),1)])):E("",!0),l("div",l3,[j(Q2),y(Xl)()?E("",!0):(p(),Y(I2,{key:0})),l("div",{class:"queue-button",onClick:c[8]||(c[8]=u=>y(t).setQueueModal(!0))},[c[14]||(c[14]=l("div",{class:"queue-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor"},[l("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})])],-1)),y(t).getQueue?(p(),b("div",r3,M(y(t).getQueue),1)):E("",!0)])])])])]))}},a3={class:"modal-header"},c3={class:"modal-actions"},u3={class:"playlist-selector"},d3=["value"],f3={class:"queue-list"},p3={class:"track-info"},h3={class:"track-image"},m3={key:1,class:"track-cover no-image"},v3={class:"track-details"},g3={class:"track-name"},y3={class:"track-artists"},b3=["onClick"],w3={__name:"QueueModal",setup(e){const t=Le(),s=fe(),n=async()=>{try{await t.saveQueue()}catch(i){console.error("Failed to save queue:",i)}},o=async i=>{try{await t.saveQueueToPlaylist(i)}catch(a){console.error("Failed to save queue to playlist:",a)}},r=async()=>{const i=prompt("Name for your playlist:","Discovered");if(i)try{await s.createPlaylist(i),await s.fetchPlaylists(0)}catch(a){console.error("Failed to create playlist:",a)}};return(i,a)=>y(t).isQueueModalOpen?(p(),b("div",{key:0,class:"modal-overlay",onClick:a[4]||(a[4]=c=>y(t).setQueueModal(!1))},[l("div",{class:"modal-content",onClick:a[3]||(a[3]=wt(()=>{},["stop"]))},[l("div",a3,[a[6]||(a[6]=l("h2",{class:"modal-title"},"Queue",-1)),l("button",{class:"modal-close",onClick:a[0]||(a[0]=c=>y(t).setQueueModal(!1))},a[5]||(a[5]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z"})],-1)]))]),l("div",c3,[l("button",{class:"action-btn save-btn",onClick:n},a[7]||(a[7]=[l("span",{class:"btn-icon"},"",-1),l("span",{class:"btn-text"},"Save all tracks",-1)])),l("div",u3,[l("select",{class:"playlist-select",onChange:a[1]||(a[1]=c=>o(c.target.value))},[a[8]||(a[8]=l("option",{selected:"",disabled:""},"Add all to playlist",-1)),l("option",{value:"new",onClick:r},"New playlist"),(p(!0),b(W,null,te(y(s).getPlaylists,(c,u)=>(p(),b("option",{key:u,value:c.id},M(c.name),9,d3))),128))],32)]),l("button",{class:"action-btn clear-btn",onClick:a[2]||(a[2]=c=>y(t).clearQueue())},a[9]||(a[9]=[l("span",{class:"btn-icon"},"",-1),l("span",{class:"btn-text"},"Clear queue",-1)]))]),l("div",f3,[(p(!0),b(W,null,te(y(t).getQueueArr,(c,u)=>(p(),b("div",{key:u,class:"queue-item"},[l("div",p3,[l("div",h3,[c.image?(p(),b("div",{key:0,class:"track-cover",style:ye({"background-image":"url("+c.image.url+")"})},null,4)):(p(),b("div",m3,a[10]||(a[10]=[l("span",{class:"no-image-icon"},"",-1)])))]),l("div",v3,[l("div",g3,M(c.name),1),l("div",y3,M(c.artists),1)])]),l("button",{class:"remove-btn",onClick:d=>y(t).removeFromQueue(c.id)},a[11]||(a[11]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z"})],-1)]),8,b3)]))),128))]),a[12]||(a[12]=l("div",{class:"modal-footer"},[l("p",{class:"premium-notice"},[l("span",{class:"notice-icon"},""),ge(" Spotify Premium required to play the full song in Discover Mobily. Save these tracks above to listen in the main Spotify app. ")])],-1))])])):E("",!0)}},k3={class:"time-range-selector"},_3={class:"display-flex align-items-center"},S3=["id","onClick"],Ni={__name:"TimeRangeSelector",props:{selectedRange:{type:Number,required:!0},ranges:{type:Array,default:()=>[{id:1,label:"Last month",fetchMethod:"fetchArtist",reloadMethod:"reloadartists"},{id:2,label:"Last 6 month",fetchMethod:"fetchArtist2",reloadMethod:"reloadartists"},{id:3,label:"All time",fetchMethod:"fetchArtist3",reloadMethod:"reloadartists"}]},sectionType:{type:String,default:"artists"}},emits:["range-change","refresh"],setup(e,{emit:t}){const s=t,n=(o,r)=>{s("range-change",o.id,r)};return(o,r)=>(p(),b("div",k3,[l("div",_3,[(p(!0),b(W,null,te(e.ranges,(i,a)=>(p(),b("span",{key:i.id,id:`top${e.sectionType}${i.id===1?"":i.id}`,onClick:c=>n(i,c),class:B([e.selectedRange===i.id?"active_tab":"",{"mx-2":a>0}])},M(i.label),11,S3))),128))])]))}},A3=["id"],$3={class:"display-flex flex-wrap py-2 gap-8"},C3={__name:"TrackDisplaySection",props:{tracks:{type:Array,required:!0},sectionId:{type:String,required:!0},isVisible:{type:Boolean,default:!0},trackPrefix:{type:String,default:"3"}},emits:["track-click","track-hover","track-leave"],setup(e,{emit:t}){const s=e,n=t,o=_e(),r=fe(),{selectedItem:i}=De(),a=R(()=>s.isVisible?"":"d-none"),c=(g,k)=>{n("track-click",g,k)},u=g=>{n("track-hover",g)},d=g=>{n("track-leave",g)};return(g,k)=>(p(),b(W,null,[y(r).isLoading?(p(),Y(xt,{key:0})):E("",!0),l("div",{id:e.sectionId,class:B(["display-flex flex-wrap",a.value]),style:{color:"black",width:"auto"}},[l("div",$3,[(p(!0),b(W,null,te(e.tracks,(h,v)=>(p(),Y(Hi,{key:v,track:h,selected:y(i)===e.trackPrefix+h.id,"unplayable-tracks":y(o).unplayableTracks,"track-prefix":e.trackPrefix,onClick:c,onHover:u,onLeave:d},null,8,["track","selected","unplayable-tracks","track-prefix"]))),128))])],10,A3)],64))}},lo=Pe(C3,[["__scopeId","data-v-29710df9"]]),T3={class:"p-2 flex-between-center"},x3={class:"grid-2-1"},P3={class:"ps-2"},M3={__name:"TopTracks",props:{selectedTopMenu:{type:Number,required:!0}},emits:["track-click","track-hover","track-leave"],setup(e,{emit:t}){const s=t,n=fe(),o=_e(),r=Le(),i=he(),{createTrackSorter:a}=Ut(),{setSelectedItem:c}=De(),u=V(""),d=V(""),g=V(""),k=a(R(()=>n.getTopTracksShort||[]),u),h=a(R(()=>n.getTopTracksMedium||[]),d),v=a(R(()=>n.getTopTracksLong||[]),g),f=async(x,$)=>{c(x.id),await i.getTrackDetails(x,"topTracks"),r.addToQueue(x),s("track-click",x,$)},m=x=>{o.handleAudioHover(x),s("track-hover",x)},w=x=>{o.handleAudioLeave(x),s("track-leave",x)},_=async(x,$)=>{n.setSelectedTracksRange(x);const S=x===1?"short_term":x===2?"medium_term":"long_term";(x===1&&!n.getTopTracksShort.length||x===2&&!n.getTopTracksMedium.length||x===3&&!n.getTopTracksLong.length)&&await n.fetchTopTracks(S)},T=async(x,$)=>{const S=x===1?"short_term":x===2?"medium_term":"long_term";await n.fetchTopTracks(S)};return(x,$)=>(p(),b("div",null,[l("div",T3,[l("div",x3,[$[3]||($[3]=l("h4",null,"Top Tracks",-1)),l("div",P3,[j(os,{"on-click":()=>T(y(n).selectedTracksRange)},null,8,["on-click"])])]),y(n).selectedTracksRange===1?(p(),Y(Ht,{key:0,"model-value":u.value,"onUpdate:modelValue":$[0]||($[0]=S=>u.value=S)},null,8,["model-value"])):E("",!0),y(n).selectedTracksRange===2?(p(),Y(Ht,{key:1,"model-value":d.value,"onUpdate:modelValue":$[1]||($[1]=S=>d.value=S)},null,8,["model-value"])):E("",!0),y(n).selectedTracksRange===3?(p(),Y(Ht,{key:2,"model-value":g.value,"onUpdate:modelValue":$[2]||($[2]=S=>g.value=S)},null,8,["model-value"])):E("",!0)]),be(j(Ni,{"selected-range":y(n).selectedTracksRange,"section-type":"tracks",ranges:[{id:1,label:"Last month",fetchMethod:"fetchTopTracks",reloadMethod:"fetchTopTracks"},{id:2,label:"Last 6 month",fetchMethod:"fetchTopTracks",reloadMethod:"fetchTopTracks"},{id:3,label:"All time",fetchMethod:"fetchTopTracks",reloadMethod:"fetchTopTracks"}],onRangeChange:_,onRefresh:T},null,8,["selected-range"]),[[ss,e.selectedTopMenu===3]]),y(n).selectedTracksRange===1?(p(),Y(lo,{key:0,tracks:y(k),"section-id":"toptracks","is-visible":y(n).selectedTracksRange===1,"track-prefix":"3","selected-sort-option":u.value,onTrackClick:f,onTrackHover:m,onTrackLeave:w},null,8,["tracks","is-visible","selected-sort-option"])):E("",!0),y(n).selectedTracksRange===2?(p(),Y(lo,{key:1,tracks:y(h),"section-id":"toptracks6","is-visible":y(n).selectedTracksRange===2,"track-prefix":"3","selected-sort-option":d.value,onTrackClick:f,onTrackHover:m,onTrackLeave:w},null,8,["tracks","is-visible","selected-sort-option"])):E("",!0),y(n).selectedTracksRange===3?(p(),Y(lo,{key:2,tracks:y(v),"section-id":"toptracksall","is-visible":y(n).selectedTracksRange===3,"track-prefix":"3","selected-sort-option":g.value,onTrackClick:f,onTrackHover:m,onTrackLeave:w},null,8,["tracks","is-visible","selected-sort-option"])):E("",!0)]))}},R3=Pe(M3,[["__scopeId","data-v-cc641604"]]),L3=["id"],E3={class:"display-flex flex-wrap py-2 gap-8"},O3={__name:"ArtistDisplaySection",props:{artists:{type:Array,required:!0},sectionId:{type:String,required:!0},isVisible:{type:Boolean,default:!0},artistPrefix:{type:String,default:"2"},selectedSortOption:{type:String,default:""}},emits:["sort-change","artist-click","artist-hover","artist-leave"],setup(e,{emit:t}){const s=e,n=t,o=_e(),r=fe(),{selectedItem:i}=De(),a=R(()=>s.isVisible?"":"d-none"),c=(g,k)=>{n("artist-click",g,k)},u=g=>{n("artist-hover",g)},d=g=>{n("artist-leave",g)};return(g,k)=>(p(),b(W,null,[y(r).isLoading?(p(),Y(xt,{key:0})):E("",!0),l("div",{id:e.sectionId,class:B(["display-flex flex-wrap",a.value]),style:{width:"auto"}},[l("div",E3,[(p(!0),b(W,null,te(e.artists,(h,v)=>(p(),Y(Fi,{key:v,artist:h,selected:y(i)===e.artistPrefix+h.id,"unplayable-tracks":y(o).unplayableTracks,"artist-prefix":e.artistPrefix,onClick:c,onHover:u,onLeave:d},null,8,["artist","selected","unplayable-tracks","artist-prefix"]))),128))])],10,L3)],64))}},ro=Pe(O3,[["__scopeId","data-v-bb96cb30"]]),I3={class:"sort-container"},hn={__name:"SortArtists",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Ko(e,"modelValue");return(s,n)=>(p(),b("div",I3,[be(l("select",{class:"modern-select","onUpdate:modelValue":n[0]||(n[0]=o=>t.value=o)},n[1]||(n[1]=[l("option",{value:""},"Initial",-1),l("option",{value:"artist"},"Name",-1),l("option",{value:"popularity"},"Sort by popularity",-1),l("option",{value:"followers"},"Sort by followers",-1)]),512),[[vs,t.value]]),n[2]||(n[2]=l("div",{class:"select-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M7 10l5 5 5-5z"})])],-1))]))}},V3={class:"p-2 flex-between-center"},D3={class:"grid-2-1"},z3={class:"ps-2"},H3={__name:"TopArtists",props:{selectedTopMenu:{type:Number,required:!0}},emits:["artist-click","artist-hover","artist-leave"],setup(e,{emit:t}){const s=t,n=fe(),o=_e(),r=he(),{createArtistSorter:i}=Ut(),{setSelectedItem:a}=De(),c=V(""),u=V(""),d=V(""),g=i(R(()=>n.getTopArtistsShort||[]),c),k=i(R(()=>n.getTopArtistsMedium||[]),u),h=i(R(()=>n.getTopArtistsLong||[]),d),v=async(T,x)=>{a(T.id),await r.getArtistDetails(T,"topArtists"),s("artist-click",T,x)},f=T=>{o.handleAudioHover(T),s("artist-hover",T)},m=T=>{o.handleAudioLeave(T),s("artist-leave",T)},w=async(T,x)=>{n.setSelectedArtistsRange(T);const $=T===1?"short_term":T===2?"medium_term":"long_term";(T===1&&!n.getTopArtistsShort.length||T===2&&!n.getTopArtistsMedium.length||T===3&&!n.getTopArtistsLong.length)&&await n.fetchTopArtists($)},_=async(T,x)=>{const $=T===1?"short_term":T===2?"medium_term":"long_term";await n.fetchTopArtists($)};return(T,x)=>(p(),b("div",null,[l("div",V3,[l("div",D3,[x[3]||(x[3]=l("h4",null,"Top Artists",-1)),l("div",z3,[j(os,{"on-click":()=>_(y(n).selectedArtistsRange)},null,8,["on-click"])])]),y(n).selectedArtistsRange===1?(p(),Y(hn,{key:0,"model-value":c.value,"onUpdate:modelValue":x[0]||(x[0]=$=>c.value=$)},null,8,["model-value"])):E("",!0),y(n).selectedArtistsRange===2?(p(),Y(hn,{key:1,"model-value":u.value,"onUpdate:modelValue":x[1]||(x[1]=$=>u.value=$)},null,8,["model-value"])):E("",!0),y(n).selectedArtistsRange===3?(p(),Y(hn,{key:2,"model-value":d.value,"onUpdate:modelValue":x[2]||(x[2]=$=>d.value=$)},null,8,["model-value"])):E("",!0)]),be(j(Ni,{"selected-range":y(n).selectedArtistsRange,"section-type":"artists",ranges:[{id:1,label:"Last month",fetchMethod:"fetchTopArtists",reloadMethod:"fetchTopArtists"},{id:2,label:"Last 6 month",fetchMethod:"fetchTopArtists",reloadMethod:"fetchTopArtists"},{id:3,label:"All time",fetchMethod:"fetchTopArtists",reloadMethod:"fetchTopArtists"}],onRangeChange:w},null,8,["selected-range"]),[[ss,e.selectedTopMenu===2]]),y(n).selectedArtistsRange===1?(p(),Y(ro,{key:0,artists:y(g),"section-id":"topartist","is-visible":y(n).selectedArtistsRange===1,"artist-prefix":"2","selected-sort-option":c.value,onArtistClick:v,onArtistHover:f,onArtistLeave:m},null,8,["artists","is-visible","selected-sort-option"])):E("",!0),y(n).selectedArtistsRange===2?(p(),Y(ro,{key:1,artists:y(k),"section-id":"topartist6","is-visible":y(n).selectedArtistsRange===2,"artist-prefix":"2","selected-sort-option":u.value,onArtistClick:v,onArtistHover:f,onArtistLeave:m},null,8,["artists","is-visible","selected-sort-option"])):E("",!0),y(n).selectedArtistsRange===3?(p(),Y(ro,{key:2,artists:y(h),"section-id":"topartista","is-visible":y(n).selectedArtistsRange===3,"artist-prefix":"2","selected-sort-option":d.value,onArtistClick:v,onArtistHover:f,onArtistLeave:m},null,8,["artists","is-visible","selected-sort-option"])):E("",!0)]))}},F3=Pe(H3,[["__scopeId","data-v-8fadfb7f"]]),B3={class:"sort-container"},qi={__name:"SortAlbums",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Ko(e,"modelValue");return(s,n)=>(p(),b("div",B3,[be(l("select",{class:"modern-select","onUpdate:modelValue":n[0]||(n[0]=o=>t.value=o)},n[1]||(n[1]=[rt('<option value="">Initial</option><option value="artist">Sort by artist</option><option value="album">Sort by album</option><option value="popularity">Sort by popularity</option><option value="release_date">Sort by release date</option><option value="name">Sort by name</option><option value="number_of_tracks">Sort by number of tracks</option>',7)]),512),[[vs,t.value]]),n[2]||(n[2]=l("div",{class:"select-icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M7 10l5 5 5-5z"})])],-1))]))}},N3={class:"track-overlay"},q3={class:"track-info"},U3={class:"track-artists"},K3={class:"track-name"},j3={__name:"AlbumItem",props:{album:{type:Object,required:!0},selected:{type:Boolean,default:!1},albumPrefix:{type:String,default:""}},emits:["click"],setup(e,{emit:t}){const s=e,n=t,o=u=>ns.formatArtistNamesSimple(u),{displayClass:r,backgroundStyle:i}=ct(R(()=>s.album)),a=u=>{n("click",s.album,u)},c=R(()=>{const u="media-card",d=s.selected?"selected":"";return`${u} ${r.value} ${d}`.trim()});return(u,d)=>(p(),b("div",{tabindex:"0",class:B(c.value),style:ye(y(i)),onClick:wt(a,["stop"])},[l("div",N3,[l("div",q3,[l("div",U3,M(o(e.album.artists)),1),l("div",K3,M(e.album.name),1)])])],6))}},W3={class:"p-2 flex-between-center"},Q3={class:"grid-2-1"},G3={class:"ps-2"},X3={id:"savedalbum",class:"display-flex flex-wrap"},J3={class:"display-flex flex-wrap py-2 gap-8"},Y3={__name:"SavedAlbums",props:{selectedTopMenu:{type:Number,required:!0}},emits:["album-click"],setup(e,{emit:t}){const s=t,n=fe(),o=he(),{createAlbumSorter:r}=Ut(),{selectedItem:i,setSelectedItem:a}=De(),c=V(""),u=r(R(()=>n.getSavedAlbums||[]),c),d=async(k,h)=>{a("4"+k.id),await o.getAlbumDetails(k,"savedAlbums"),s("album-click",k,h)},g=()=>{n.savedAlbums=[],n.fetchSavedAlbums(0)};return(k,h)=>(p(),b("div",null,[l("div",W3,[l("div",Q3,[h[1]||(h[1]=l("h4",null,"Saved Albums",-1)),l("div",G3,[j(os,{"on-click":()=>g()},null,8,["on-click"])])]),j(qi,{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=v=>c.value=v)},null,8,["modelValue"])]),y(n).isLoading?(p(),Y(xt,{key:0})):E("",!0),be(l("div",X3,[l("div",J3,[(p(!0),b(W,null,te(y(u),(v,f)=>(p(),Y(j3,{key:f,album:v.album,selected:y(i)==="4"+v.album.id,"album-prefix":"4",onClick:d},null,8,["album","selected"]))),128))])],512),[[ss,e.selectedTopMenu===4]])]))}},Z3=Pe(Y3,[["__scopeId","data-v-d7236819"]]),e7={class:"p-2 flex-between-center"},t7={class:"grid-2-1"},s7={class:"ps-2"},n7={id:"savedtrack",class:"display-flex flex-wrap"},o7={class:"display-flex flex-wrap py-2 gap-8"},l7={__name:"SavedTracks",props:{selectedTopMenu:{type:Number,required:!0}},emits:["track-click","track-hover","track-leave"],setup(e,{emit:t}){const s=t,n=fe(),o=_e(),r=Le(),i=he(),{createTrackSorter:a}=Ut(),{selectedItem:c,setSelectedItem:u}=De(),d=V(""),g=a(R(()=>n.getSavedTracks||[]),d),k=async(m,w)=>{u("5"+m.id),await i.getTrackDetails(m,"savedTracks"),r.addToQueue(m),s("track-click",m,w)},h=m=>{o.handleAudioHover(m),s("track-hover",m)},v=m=>{o.handleAudioLeave(m),s("track-leave",m)},f=()=>{n.savedTracks=[],n.fetchSavedTracks(0)};return(m,w)=>(p(),b("div",null,[l("div",e7,[l("div",t7,[w[1]||(w[1]=l("h4",null,"Saved Tracks",-1)),l("div",s7,[j(os,{"on-click":()=>f()},null,8,["on-click"])])]),j(Ht,{modelValue:d.value,"onUpdate:modelValue":w[0]||(w[0]=_=>d.value=_)},null,8,["modelValue"])]),y(n).isLoading?(p(),Y(xt,{key:0})):E("",!0),be(l("div",n7,[l("div",o7,[(p(!0),b(W,null,te(y(g),(_,T)=>(p(),Y(Hi,{key:T,track:_.track,selected:y(c)==="5"+_.track.id,"unplayable-tracks":y(o).unplayableTracks,"track-prefix":"5",onClick:k,onHover:h,onLeave:v},null,8,["track","selected","unplayable-tracks"]))),128))])],512),[[ss,e.selectedTopMenu===5]])]))}},r7=Pe(l7,[["__scopeId","data-v-66550ba2"]]),i7={class:"p-2 flex-between-center"},a7={class:"grid-2-1"},c7={class:"ps-2"},u7={id:"followedartist",class:"display-flex flex-wrap"},d7={class:"display-flex flex-wrap py-2 gap-8"},f7={__name:"FollowedArtists",props:{selectedTopMenu:{type:Number,required:!0}},emits:["artist-click","artist-hover","artist-leave"],setup(e,{emit:t}){const s=t,n=fe(),o=_e(),r=he(),{createArtistSorter:i}=Ut(),{selectedItem:a,setSelectedItem:c}=De(),u=V(""),d=i(R(()=>n.getFollowedArtists||[]),u),g=async(f,m)=>{c("6"+f.id),await r.getArtistDetails(f,"followedArtists"),s("artist-click",f,m)},k=f=>{o.handleAudioHover(f),s("artist-hover",f)},h=f=>{o.handleAudioLeave(f),s("artist-leave",f)},v=()=>{n.followedArtists=[],n.fetchFollowedArtists()};return(f,m)=>(p(),b("div",null,[l("div",i7,[l("div",a7,[m[1]||(m[1]=l("h4",null,"Followed Artists",-1)),l("div",c7,[j(os,{"on-click":()=>v()},null,8,["on-click"])])]),j(hn,{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=w=>u.value=w)},null,8,["modelValue"])]),y(n).isLoading?(p(),Y(xt,{key:0})):E("",!0),be(l("div",u7,[l("div",d7,[(p(!0),b(W,null,te(y(d),(w,_)=>(p(),Y(Fi,{key:_,artist:w,selected:y(a)==="6"+w.id,"unplayable-tracks":y(o).unplayableTracks,"artist-prefix":"6",onClick:g,onHover:k,onLeave:h},null,8,["artist","selected","unplayable-tracks"]))),128))])],512),[[ss,e.selectedTopMenu===6]])]))}},p7=Pe(f7,[["__scopeId","data-v-8b5968ec"]]),h7=["src"],m7=["src"],v7={__name:"NewReleaseItem",props:{album:{type:Object,required:!0},selected:{type:Boolean,default:!1},albumPrefix:{type:String,default:""}},emits:["click","hover","leave"],setup(e,{emit:t}){const s=e,n=t,o=_=>ns.formatArtistNamesSimple(_),r=_=>{n("click",s.album,_)},i=_=>{n("hover",_)},a=_=>{n("leave",_)},c=R(()=>s.album.images&&s.album.images[0]),u=R(()=>s.album.tracks&&s.album.tracks.items&&s.album.tracks.items.length>0),d=R(()=>u.value&&s.album.tracks.items[0].preview_url),g=R(()=>c.value&&d.value),k=R(()=>c.value&&u.value&&!d.value),h=R(()=>!c.value&&d.value),v=R(()=>!c.value&&!d.value),f=R(()=>{const _="media-card",T=s.selected?"selected":"",x=k.value||v.value?"half-opacity":"";return`${_} ${T} ${x}`.trim()}),m=R(()=>c.value?{"background-image":`url(${s.album.images[0].url})`}:{}),w=R(()=>d.value?s.album.tracks.items[0].preview_url:"");return(_,T)=>g.value?(p(),b("div",{key:0,tabindex:"0",class:B(f.value),style:ye(m.value),onClick:wt(r,["stop"]),onMouseover:i,onMouseleave:a},[ge(M(o(e.album.artists))+" - "+M(e.album.name)+" ",1),l("audio",{preload:"auto",src:w.value},null,8,h7)],38)):k.value?(p(),b("div",{key:1,tabindex:"0",class:B(f.value),style:ye(m.value),onClick:wt(r,["stop"])},[ge(M(o(e.album.artists))+" - "+M(e.album.name)+" ",1),T[0]||(T[0]=l("audio",{preload:"auto"},null,-1))],6)):h.value?(p(),b("div",{key:2,class:B(f.value),onClick:wt(r,["stop"]),onMouseover:i,onMouseleave:a},[ge(M(o(e.album.artists))+" - "+M(e.album.name)+" ",1),l("audio",{preload:"auto",src:w.value},null,8,m7)],34)):v.value?(p(),b("div",{key:3,tabindex:"0",class:B(f.value),onClick:wt(r,["stop"])},M(o(e.album.artists))+" - "+M(e.album.name),3)):E("",!0)}},g7={class:"p-2 flex-between-center"},y7={class:"grid-2-1"},b7={class:"ps-2"},w7={id:"newrelease",class:"display-flex flex-wrap"},k7={class:"display-flex flex-wrap py-2 gap-8"},_7={__name:"NewReleases",props:{selectedTopMenu:{type:Number,required:!0}},emits:["album-click","album-hover","album-leave"],setup(e,{emit:t}){const s=t,n=fe(),o=_e(),r=he(),{createNewReleaseSorter:i}=Ut(),{selectedItem:a,setSelectedItem:c}=De(),u=V(""),d=i(R(()=>n.getNewReleases||[]),u),g=async(f,m)=>{c("7"+f.id),await r.getAlbumDetails(f,"newReleases"),s("album-click",f,m)},k=f=>{o.handleAudioHover(f),s("album-hover",f)},h=f=>{o.handleAudioLeave(f),s("album-leave",f)},v=()=>{n.newReleases=[],n.fetchNewReleases(0)};return(f,m)=>(p(),b("div",null,[l("div",g7,[l("div",y7,[m[1]||(m[1]=l("h4",null,"New Releases",-1)),l("div",b7,[j(os,{"on-click":()=>v()},null,8,["on-click"])])]),j(qi,{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=w=>u.value=w)},null,8,["modelValue"])]),y(n).isLoading?(p(),Y(xt,{key:0})):E("",!0),be(l("div",w7,[l("div",k7,[(p(!0),b(W,null,te(y(d),(w,_)=>(p(),Y(v7,{key:_,album:w,selected:y(a)==="7"+w.id,"album-prefix":"7",onClick:g,onHover:k,onLeave:h},null,8,["album","selected"]))),128))])],512),[[ss,e.selectedTopMenu===7]])]))}},S7=Pe(_7,[["__scopeId","data-v-5e4cd696"]]),A7={class:"main-layout"},$7={class:"content-wrapper"},C7={class:"modern-content"},T7={class:"content-container"},x7={key:0},P7={id:"yourplaylists",class:"flex-stretch"},M7={key:1},R7={key:2},L7={key:3},E7={key:4},O7={key:5},I7={key:6},V7={key:7},D7={id:"sptplaylists",class:"flex-stretch"},z7={key:8,class:"search-section"},H7={class:"search-header"},F7={class:"search-title"},B7={class:"search-grid"},N7={__name:"MainLayout",setup(e){const t=fe(),s=_e(),n=Le(),o=he(),{createPlaylistTrackSorter:r}=Ut(),{selectedItem:i,selectedTopMenu:a,selectedPersonalPlaylist:c,selectedSpotifyPlaylist:u,setSelectedItem:d,setSelectedPersonalPlaylist:g,setSelectedSpotifyPlaylist:k,setSelectedTopMenu:h}=De(),{search:v}=fv(),f=V(localStorage.getItem("welcome-modal-seen")!=="true");V(new Set);const m=V(""),w=V(""),_=r(R(()=>{var ue,re;return((re=(ue=t.getCurrentPlaylist)==null?void 0:ue.tracks)==null?void 0:re.items)||[]}),m),T=r(R(()=>{var ue,re;return((re=(ue=t.getCurrentSpotifyPlaylist)==null?void 0:ue.tracks)==null?void 0:re.items)||[]}),w),x=async(ue,re)=>{if(o.getIsGloballyLoading){console.log("Track click blocked - global loading in progress");return}d(ue.id);const J=Ce(a.value);await o.getTrackDetails(ue,J),a.value in[1,8]?n.addToQueue(ue.track):n.addToQueue(ue)},$=ue=>{s.handleAudioHover(ue)},S=ue=>{s.handleAudioLeave(ue)},N=async(ue,re)=>{if(o.getIsGloballyLoading){console.log("Artist click blocked - global loading in progress");return}d(ue.id);const J=Ce(a.value);await o.getArtistDetails(ue,J)},q=ue=>{s.handleAudioHover(ue)},oe=ue=>{s.handleAudioLeave(ue)},Ce=ue=>{switch(ue){case 1:return"yourPlaylists";case 2:return"topArtists";case 3:return"topTracks";case 4:return"savedAlbums";case 5:return"savedTracks";case 6:return"followedArtists";case 7:return"newReleases";case 8:return"spotifyPlaylists";case 10:return"search";default:return"search"}},ze=async(ue,re)=>{re.stopPropagation(),h(ue);try{switch(ue){case 1:o.clearSection("yourPlaylists"),(!t.getPlaylists||t.getPlaylists.length===0)&&await t.fetchPlaylists(0);break;case 2:o.clearSection("topArtists"),t.setSelectedArtistsRange(1),(!t.getTopArtistsShort||t.getTopArtistsShort.length===0)&&await t.fetchTopArtists("short_term");break;case 3:o.clearSection("topTracks"),t.setSelectedTracksRange(1),(!t.getTopTracksShort||t.getTopTracksShort.length===0)&&await t.fetchTopTracks("short_term");break;case 4:o.clearSection("savedAlbums"),(!t.getSavedAlbums||t.getSavedAlbums.length===0)&&await t.fetchSavedAlbums(0);break;case 5:o.clearSection("savedTracks"),(!t.getSavedTracks||t.getSavedTracks.length===0)&&await t.fetchSavedTracks(0);break;case 6:o.clearSection("followedArtists"),(!t.getFollowedArtists||t.getFollowedArtists.length===0)&&await t.fetchFollowedArtists();break;case 7:o.clearSection("newReleases"),(!t.getNewReleases||t.getNewReleases.length===0)&&await t.fetchNewReleases(0);break;case 8:o.clearSection("spotifyPlaylists"),(!t.getSpotifyPlaylists||t.getSpotifyPlaylists.length===0)&&await t.fetchSpotifyPlaylists(0);break}}catch(J){console.error("Failed to fetch data for tab:",ue,J)}},We=ue=>{a.value=10,t.search(ue.target.value)},ot=()=>{f.value=!1,localStorage.setItem("welcome-modal-seen","true")};return(ue,re)=>(p(),b(W,null,[j(i3),j(w3),l("div",A7,[j(R2,{"is-visible":f.value,onClose:ot},null,8,["is-visible"]),l("div",$7,[j(Ky,{"selected-tab":y(a),"search-query":y(v),onTabClick:ze,onSearch:We},null,8,["selected-tab","search-query"]),l("div",C7,[l("div",T7,[y(a)===1?(p(),b("div",x7,[l("div",P7,[y(t).isLoading?(p(),Y(xt,{key:0})):E("",!0),j(Gl,{playlists:y(t).getPlaylists,"selected-playlist":y(c),title:"Your Personal Playlists",placeholder:"Search personal playlists...",onPlaylistSelect:re[0]||(re[0]=(J,O)=>{y(g)(J),y(t).fetchPlaylist(J)})},null,8,["playlists","selected-playlist"]),y(t).getCurrentPlaylist?(p(),Y(Ql,{key:1,playlist:y(t).getCurrentPlaylist,"sorted-tracks":y(_),"selected-item":y(i),"selected-sort-option":m.value,"unplayable-tracks":y(s).unplayableTracks,onRefresh:re[1]||(re[1]=J=>y(t).fetchPlaylists(0)),onTrackClick:x,onTrackHover:$,onTrackLeave:S,onSortChange:re[2]||(re[2]=J=>m.value=J)},null,8,["playlist","sorted-tracks","selected-item","selected-sort-option","unplayable-tracks"])):E("",!0)])])):E("",!0),y(a)===2?(p(),b("div",M7,[j(F3,{"selected-top-menu":y(a),onArtistClick:N,onArtistHover:q,onArtistLeave:oe},null,8,["selected-top-menu"])])):E("",!0),y(a)===3?(p(),b("div",R7,[j(R3,{"selected-top-menu":y(a),onTrackClick:x,onTrackHover:$,onTrackLeave:S},null,8,["selected-top-menu"])])):E("",!0),y(a)===4?(p(),b("div",L7,[j(Z3,{"selected-top-menu":y(a),onAlbumClick:re[3]||(re[3]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("4"+J.id),await y(o).getAlbumDetails(J,"savedAlbums"))})},null,8,["selected-top-menu"])])):E("",!0),y(a)===5?(p(),b("div",E7,[j(r7,{"selected-top-menu":y(a),onTrackClick:re[4]||(re[4]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("5"+J.id),await y(o).getTrackDetails(J,"savedTracks"),y(n).addToQueue(J))}),onTrackHover:$,onTrackLeave:S},null,8,["selected-top-menu"])])):E("",!0),y(a)===6?(p(),b("div",O7,[j(p7,{"selected-top-menu":y(a),onArtistClick:N,onArtistHover:q,onArtistLeave:oe},null,8,["selected-top-menu"])])):E("",!0),y(a)===7?(p(),b("div",I7,[j(S7,{"selected-top-menu":y(a),onAlbumClick:re[5]||(re[5]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("7"+J.id),await y(o).getAlbumDetails(J,"newReleases"))}),onAlbumHover:$,onAlbumLeave:S},null,8,["selected-top-menu"])])):E("",!0),y(a)===8?(p(),b("div",V7,[y(t).isLoading?(p(),Y(xt,{key:0})):E("",!0),be(l("div",D7,[j(Gl,{playlists:y(t).getSpotifyPlaylists,"selected-playlist":y(u),title:"Spotify Playlists",placeholder:"Search Spotify playlists...",onPlaylistSelect:re[6]||(re[6]=(J,O)=>{y(k)(J),y(t).fetchSpotifyPlaylist(J)})},null,8,["playlists","selected-playlist"]),y(t).getCurrentSpotifyPlaylist?(p(),Y(Ql,{key:0,playlist:y(t).getCurrentSpotifyPlaylist,"sorted-tracks":y(T),"selected-item":y(i),"selected-sort-option":w.value,"unplayable-tracks":y(s).unplayableTracks,"track-prefix":"8",onRefresh:re[7]||(re[7]=J=>y(t).fetchSpotifyPlaylists(0)),onTrackClick:x,onTrackHover:$,onTrackLeave:S,onSortChange:re[8]||(re[8]=J=>w.value=J)},null,8,["playlist","sorted-tracks","selected-item","selected-sort-option","unplayable-tracks"])):E("",!0)],512),[[ss,y(a)===8]])])):E("",!0),y(a)===10?(p(),b("div",z7,[y(t).isLoading?(p(),Y(xt,{key:0})):E("",!0),l("div",H7,[l("h2",F7,M(y(t).searchInput),1)]),l("div",B7,[j(on,{title:"Songs",items:y(t).getSearchTracks,type:"song","selected-item":y(i),"unplayable-tracks":y(s).unplayableTracks,onItemClick:re[9]||(re[9]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("song"+J.id),await y(o).getTrackDetails(J,"search"))}),onItemHover:y(s).handleParentAudioHover,onItemLeave:y(s).handleParentAudioLeave},null,8,["items","selected-item","unplayable-tracks","onItemHover","onItemLeave"]),j(on,{title:"Artists",items:y(t).getSearchArtists,type:"artist","selected-item":y(i),"unplayable-tracks":y(s).unplayableTracks,onItemClick:re[10]||(re[10]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("artist"+J.id),await y(o).getArtistDetails(J,"search"))}),onItemHover:y(s).handleParentAudioHover,onItemLeave:y(s).handleParentAudioLeave},null,8,["items","selected-item","unplayable-tracks","onItemHover","onItemLeave"]),j(on,{title:"Albums",items:y(t).getSearchAlbums,type:"album","selected-item":y(i),"unplayable-tracks":y(s).unplayableTracks,onItemClick:re[11]||(re[11]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("album"+J.id),await y(o).getAlbumDetails(J,"search"))}),onItemHover:y(s).handleParentAudioHover,onItemLeave:y(s).handleParentAudioLeave},null,8,["items","selected-item","unplayable-tracks","onItemHover","onItemLeave"]),j(on,{title:"Playlists",items:y(t).getSearchPlaylists,type:"playlist","selected-item":y(i),"unplayable-tracks":y(s).unplayableTracks,onItemClick:re[12]||(re[12]=async(J,O)=>{y(o).getIsGloballyLoading||(y(d)("playlist"+J.id),await y(o).getPlaylistDetails(J,"search"))}),onItemHover:y(s).handleParentAudioHover,onItemLeave:y(s).handleParentAudioLeave},null,8,["items","selected-item","unplayable-tracks","onItemHover","onItemLeave"])])])):E("",!0)]),j(My,{num:y(a)},null,8,["num"])]),j(Vy)])]),j(zi)],64))}},q7=Pe(N7,[["__scopeId","data-v-0ab63457"]]),U7={key:0,class:"container"},K7={__name:"App",setup(e){return(t,s)=>(p(),b(W,null,[y(To)()?E("",!0):(p(),b("div",U7,[j(q7)])),y(To)()?(p(),Y(dv,{key:1})):E("",!0)],64))}};function j7(){const e=Bi();localStorage.setItem("user-theme",e),document.documentElement.className=e}j7();const W7=yu(),Q7=fu(K7);Q7.use(W7).mount("#app");
